module.exports=[14315,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isUnsafeProperty=function(a){return"__proto__"===a}},67984,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isDeepKey=function(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}},21619,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.toKey=function(a){return"string"==typeof a||"symbol"==typeof a?a:Object.is(a?.valueOf?.(),-0)?"-0":String(a)}},49826,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.toString=function a(b){if(null==b)return"";if("string"==typeof b)return b;if(Array.isArray(b))return b.map(a).join(",");let c=String(b);return"0"===c&&Object.is(Number(b),-0)?"-0":c}},16270,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(49826),e=a.r(21619);c.toPath=function(a){if(Array.isArray(a))return a.map(e.toKey);if("symbol"==typeof a)return[a];a=d.toString(a);let b=[],c=a.length;if(0===c)return b;let f=0,g="",h="",i=!1;for(46===a.charCodeAt(0)&&(b.push(""),f++);f<c;){let d=a[f];h?"\\"===d&&f+1<c?g+=a[++f]:d===h?h="":g+=d:i?'"'===d||"'"===d?h=d:"]"===d?(i=!1,b.push(g),g=""):g+=d:"["===d?(i=!0,g&&(b.push(g),g="")):"."===d?g&&(b.push(g),g=""):g+=d,f++}return g&&b.push(g),b}},64093,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(14315),e=a.r(67984),f=a.r(21619),g=a.r(16270);c.get=function a(b,c,h){if(null==b)return h;switch(typeof c){case"string":{if(d.isUnsafeProperty(c))return h;let f=b[c];if(void 0===f)if(e.isDeepKey(c))return a(b,g.toPath(c),h);else return h;return f}case"number":case"symbol":{"number"==typeof c&&(c=f.toKey(c));let a=b[c];if(void 0===a)return h;return a}default:{if(Array.isArray(c)){var i=b,j=c,k=h;if(0===j.length)return k;let a=i;for(let b=0;b<j.length;b++){if(null==a||d.isUnsafeProperty(j[b]))return k;a=a[j[b]]}return void 0===a?k:a}if(c=Object.is(c?.valueOf(),-0)?"-0":String(c),d.isUnsafeProperty(c))return h;let a=b[c];if(void 0===a)return h;return a}}}},88804,(a,b,c)=>{b.exports=a.r(64093).get},67658,(a,b,c)=>{"use strict";var d=a.r(72131),e="function"==typeof Object.is?Object.is:function(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},f=d.useSyncExternalStore,g=d.useRef,h=d.useEffect,i=d.useMemo,j=d.useDebugValue;c.useSyncExternalStoreWithSelector=function(a,b,c,d,k){var l=g(null);if(null===l.current){var m={hasValue:!1,value:null};l.current=m}else m=l.current;var n=f(a,(l=i(function(){function a(a){if(!h){if(h=!0,f=a,a=d(a),void 0!==k&&m.hasValue){var b=m.value;if(k(b,a))return g=b}return g=a}if(b=g,e(f,a))return b;var c=d(a);return void 0!==k&&k(b,c)?(f=a,b):(f=a,g=c)}var f,g,h=!1,i=void 0===c?null:c;return[function(){return a(b())},null===i?void 0:function(){return a(i())}]},[b,c,d,k]))[0],l[1]);return h(function(){m.hasValue=!0,m.value=n},[n]),j(n),n}},32473,(a,b,c)=>{"use strict";b.exports=a.r(67658)},47349,(a,b,c)=>{"use strict";var d=a.r(72131);d.useState,d.useEffect,d.useLayoutEffect,d.useDebugValue,c.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:function(a,b){return b()}},87610,(a,b,c)=>{"use strict";b.exports=a.r(47349)},97514,(a,b,c)=>{"use strict";var d=a.r(72131),e=a.r(87610),f="function"==typeof Object.is?Object.is:function(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},g=e.useSyncExternalStore,h=d.useRef,i=d.useEffect,j=d.useMemo,k=d.useDebugValue;c.useSyncExternalStoreWithSelector=function(a,b,c,d,e){var l=h(null);if(null===l.current){var m={hasValue:!1,value:null};l.current=m}else m=l.current;var n=g(a,(l=j(function(){function a(a){if(!i){if(i=!0,g=a,a=d(a),void 0!==e&&m.hasValue){var b=m.value;if(e(b,a))return h=b}return h=a}if(b=h,f(g,a))return b;var c=d(a);return void 0!==e&&e(b,c)?(g=a,b):(g=a,h=c)}var g,h,i=!1,j=void 0===c?null:c;return[function(){return a(b())},null===j?void 0:function(){return a(j())}]},[b,c,d,e]))[0],l[1]);return i(function(){m.hasValue=!0,m.value=n},[n]),k(n),n}},64442,(a,b,c)=>{"use strict";b.exports=a.r(97514)},70371,(a,b,c)=>{"use strict";function d(a){return"symbol"==typeof a?1:null===a?2:void 0===a?3:4*(a!=a)}Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.compareValues=(a,b,c)=>{if(a!==b){let e=d(a),f=d(b);if(e===f&&0===e){if(a<b)return"desc"===c?1:-1;if(a>b)return"desc"===c?-1:1}return"desc"===c?f-e:e-f}return 0}},62039,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isSymbol=function(a){return"symbol"==typeof a||a instanceof Symbol}},71071,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(62039),e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/;c.isKey=function(a,b){return!Array.isArray(a)&&(!!("number"==typeof a||"boolean"==typeof a||null==a||d.isSymbol(a))||"string"==typeof a&&(f.test(a)||!e.test(a))||null!=b&&Object.hasOwn(b,a))}},1611,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(70371),e=a.r(71071),f=a.r(16270);c.orderBy=function(a,b,c,g){if(null==a)return[];c=g?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(b)||(b=null==b?[null]:[b]),0===b.length&&(b=[null]),Array.isArray(c)||(c=null==c?[]:[c]),c=c.map(a=>String(a));let h=(a,b)=>{let c=a;for(let a=0;a<b.length&&null!=c;++a)c=c[b[a]];return c},i=b.map(a=>(Array.isArray(a)&&1===a.length&&(a=a[0]),null==a||"function"==typeof a||Array.isArray(a)||e.isKey(a))?a:{key:a,path:f.toPath(a)});return a.map(a=>({original:a,criteria:i.map(b=>{var c,d;return c=b,null==(d=a)||null==c?d:"object"==typeof c&&"key"in c?Object.hasOwn(d,c.key)?d[c.key]:h(d,c.path):"function"==typeof c?c(d):Array.isArray(c)?h(d,c):"object"==typeof d?d[c]:d})})).slice().sort((a,b)=>{for(let e=0;e<i.length;e++){let f=d.compareValues(a.criteria[e],b.criteria[e],c[e]);if(0!==f)return f}return 0}).map(a=>a.original)}},52959,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.flatten=function(a,b=1){let c=[],d=Math.floor(b),e=(a,b)=>{for(let f=0;f<a.length;f++){let g=a[f];Array.isArray(g)&&b<d?e(g,b+1):c.push(g)}};return e(a,0),c}},36762,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=/^(?:0|[1-9]\d*)$/;c.isIndex=function(a,b=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<b;case"symbol":return!1;case"string":return d.test(a)}}},42671,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isLength=function(a){return Number.isSafeInteger(a)&&a>=0}},53673,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(42671);c.isArrayLike=function(a){return null!=a&&"function"!=typeof a&&d.isLength(a.length)}},22700,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isObject=function(a){return null!==a&&("object"==typeof a||"function"==typeof a)}},18996,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isEqualsSameValueZero=function(a,b){return a===b||Number.isNaN(a)&&Number.isNaN(b)}},18496,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(36762),e=a.r(53673),f=a.r(22700),g=a.r(18996);c.isIterateeCall=function(a,b,c){return!!f.isObject(c)&&(!!("number"==typeof b&&e.isArrayLike(c)&&d.isIndex(b))&&b<c.length||"string"==typeof b&&b in c)&&g.isEqualsSameValueZero(c[b],a)}},58311,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(1611),e=a.r(52959),f=a.r(18496);c.sortBy=function(a,...b){let c=b.length;return c>1&&f.isIterateeCall(a,b[0],b[1])?b=[]:c>2&&f.isIterateeCall(b[0],b[1],b[2])&&(b=[b[0]]),d.orderBy(a,e.flatten(b),["asc"])}},81101,(a,b,c)=>{b.exports=a.r(58311).sortBy},70257,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.debounce=function(a,b,{signal:c,edges:d}={}){let e,f=null,g=null!=d&&d.includes("leading"),h=null==d||d.includes("trailing"),i=()=>{null!==f&&(a.apply(e,f),e=void 0,f=null)},j=null,k=()=>{null!=j&&clearTimeout(j),j=setTimeout(()=>{j=null,h&&i(),l()},b)},l=()=>{null!==j&&(clearTimeout(j),j=null),e=void 0,f=null},m=function(...a){if(c?.aborted)return;e=this,f=a;let b=null==j;k(),g&&b&&i()};return m.schedule=k,m.cancel=l,m.flush=()=>{i()},c?.addEventListener("abort",l,{once:!0}),m}},52844,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(70257);c.debounce=function(a,b=0,c={}){let e;"object"!=typeof c&&(c={});let{leading:f=!1,trailing:g=!0,maxWait:h}=c,i=[,,];f&&(i[0]="leading"),g&&(i[1]="trailing");let j=null,k=d.debounce(function(...b){e=a.apply(this,b),j=null},b,{edges:i}),l=function(...b){return null!=h&&(null===j&&(j=Date.now()),Date.now()-j>=h)?(e=a.apply(this,b),j=Date.now(),k.cancel(),k.schedule(),e):(k.apply(this,b),e)};return l.cancel=k.cancel,l.flush=()=>(k.flush(),e),l}},4855,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(52844);c.throttle=function(a,b=0,c={}){let{leading:e=!0,trailing:f=!0}=c;return d.debounce(a,b,{leading:e,maxWait:b,trailing:f})}},61349,(a,b,c)=>{b.exports=a.r(4855).throttle},36131,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(62039);c.toNumber=function(a){return d.isSymbol(a)?NaN:Number(a)}},55362,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(36131);c.toFinite=function(a){return a?(a=d.toNumber(a))===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a==a?a:0:0===a?a:0}},48127,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(18496),e=a.r(55362);c.range=function(a,b,c){c&&"number"!=typeof c&&d.isIterateeCall(a,b,c)&&(b=c=void 0),a=e.toFinite(a),void 0===b?(b=a,a=0):b=e.toFinite(b),c=void 0===c?a<b?1:-1:e.toFinite(c);let f=Math.max(Math.ceil((b-a)/(c||1)),0),g=Array(f);for(let b=0;b<f;b++)g[b]=a,a+=c;return g}},56161,(a,b,c)=>{b.exports=a.r(48127).range},53686,(a,b,c)=>{"use strict";var d=Object.prototype.hasOwnProperty,e="~";function f(){}function g(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function h(a,b,c,d,f){if("function"!=typeof c)throw TypeError("The listener must be a function");var h=new g(c,d||a,f),i=e?e+b:b;return a._events[i]?a._events[i].fn?a._events[i]=[a._events[i],h]:a._events[i].push(h):(a._events[i]=h,a._eventsCount++),a}function i(a,b){0==--a._eventsCount?a._events=new f:delete a._events[b]}function j(){this._events=new f,this._eventsCount=0}Object.create&&(f.prototype=Object.create(null),new f().__proto__||(e=!1)),j.prototype.eventNames=function(){var a,b,c=[];if(0===this._eventsCount)return c;for(b in a=this._events)d.call(a,b)&&c.push(e?b.slice(1):b);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(a)):c},j.prototype.listeners=function(a){var b=e?e+a:a,c=this._events[b];if(!c)return[];if(c.fn)return[c.fn];for(var d=0,f=c.length,g=Array(f);d<f;d++)g[d]=c[d].fn;return g},j.prototype.listenerCount=function(a){var b=e?e+a:a,c=this._events[b];return c?c.fn?1:c.length:0},j.prototype.emit=function(a,b,c,d,f,g){var h=e?e+a:a;if(!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,c),!0;case 4:return k.fn.call(k.context,b,c,d),!0;case 5:return k.fn.call(k.context,b,c,d,f),!0;case 6:return k.fn.call(k.context,b,c,d,f,g),!0}for(j=1,i=Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,c);break;case 4:k[j].fn.call(k[j].context,b,c,d);break;default:if(!i)for(m=1,i=Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},j.prototype.on=function(a,b,c){return h(this,a,b,c,!1)},j.prototype.once=function(a,b,c){return h(this,a,b,c,!0)},j.prototype.removeListener=function(a,b,c,d){var f=e?e+a:a;if(!this._events[f])return this;if(!b)return i(this,f),this;var g=this._events[f];if(g.fn)g.fn!==b||d&&!g.once||c&&g.context!==c||i(this,f);else{for(var h=0,j=[],k=g.length;h<k;h++)(g[h].fn!==b||d&&!g[h].once||c&&g[h].context!==c)&&j.push(g[h]);j.length?this._events[f]=1===j.length?j[0]:j:i(this,f)}return this},j.prototype.removeAllListeners=function(a){var b;return a?(b=e?e+a:a,this._events[b]&&i(this,b)):(this._events=new f,this._eventsCount=0),this},j.prototype.off=j.prototype.removeListener,j.prototype.addListener=j.prototype.on,j.prefixed=e,j.EventEmitter=j,b.exports=j},13089,(a,b,c)=>{"use strict";var d="function"==typeof Symbol&&Symbol.for,e=d?Symbol.for("react.element"):60103,f=d?Symbol.for("react.portal"):60106,g=d?Symbol.for("react.fragment"):60107,h=d?Symbol.for("react.strict_mode"):60108,i=d?Symbol.for("react.profiler"):60114,j=d?Symbol.for("react.provider"):60109,k=d?Symbol.for("react.context"):60110,l=d?Symbol.for("react.async_mode"):60111,m=d?Symbol.for("react.concurrent_mode"):60111,n=d?Symbol.for("react.forward_ref"):60112,o=d?Symbol.for("react.suspense"):60113,p=d?Symbol.for("react.suspense_list"):60120,q=d?Symbol.for("react.memo"):60115,r=d?Symbol.for("react.lazy"):60116,s=d?Symbol.for("react.block"):60121,t=d?Symbol.for("react.fundamental"):60117,u=d?Symbol.for("react.responder"):60118,v=d?Symbol.for("react.scope"):60119;function w(a){if("object"==typeof a&&null!==a){var b=a.$$typeof;switch(b){case e:switch(a=a.type){case l:case m:case g:case i:case h:case o:return a;default:switch(a=a&&a.$$typeof){case k:case n:case r:case q:case j:return a;default:return b}}case f:return b}}}function x(a){return w(a)===m}c.AsyncMode=l,c.ConcurrentMode=m,c.ContextConsumer=k,c.ContextProvider=j,c.Element=e,c.ForwardRef=n,c.Fragment=g,c.Lazy=r,c.Memo=q,c.Portal=f,c.Profiler=i,c.StrictMode=h,c.Suspense=o,c.isAsyncMode=function(a){return x(a)||w(a)===l},c.isConcurrentMode=x,c.isContextConsumer=function(a){return w(a)===k},c.isContextProvider=function(a){return w(a)===j},c.isElement=function(a){return"object"==typeof a&&null!==a&&a.$$typeof===e},c.isForwardRef=function(a){return w(a)===n},c.isFragment=function(a){return w(a)===g},c.isLazy=function(a){return w(a)===r},c.isMemo=function(a){return w(a)===q},c.isPortal=function(a){return w(a)===f},c.isProfiler=function(a){return w(a)===i},c.isStrictMode=function(a){return w(a)===h},c.isSuspense=function(a){return w(a)===o},c.isValidElementType=function(a){return"string"==typeof a||"function"==typeof a||a===g||a===m||a===i||a===h||a===o||a===p||"object"==typeof a&&null!==a&&(a.$$typeof===r||a.$$typeof===q||a.$$typeof===j||a.$$typeof===k||a.$$typeof===n||a.$$typeof===t||a.$$typeof===u||a.$$typeof===v||a.$$typeof===s)},c.typeOf=w},66539,(a,b,c)=>{"use strict";b.exports=a.r(13089)},81537,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isPlainObject=function(a){if("object"!=typeof a||null==a)return!1;if(null===Object.getPrototypeOf(a))return!0;if("[object Object]"!==Object.prototype.toString.call(a)){let b=a[Symbol.toStringTag];return null!=b&&!!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable&&a.toString()===`[object ${b}]`}let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}},3068,(a,b,c)=>{b.exports=a.r(81537).isPlainObject},40483,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.last=function(a){return a[a.length-1]}},32969,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.toArray=function(a){return Array.isArray(a)?a:Array.from(a)}},16642,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(40483),e=a.r(32969),f=a.r(53673);c.last=function(a){if(f.isArrayLike(a))return d.last(e.toArray(a))}},78375,(a,b,c)=>{b.exports=a.r(16642).last},13542,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.uniqBy=function(a,b){let c=new Map;for(let d=0;d<a.length;d++){let e=a[d],f=b(e,d,a);c.has(f)||c.set(f,e)}return Array.from(c.values())}},5883,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.ary=function(a,b){return function(...c){return a.apply(this,c.slice(0,b))}}},31540,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.identity=function(a){return a}},970,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isObjectLike=function(a){return"object"==typeof a&&null!==a}},90228,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(53673),e=a.r(970);c.isArrayLikeObject=function(a){return e.isObjectLike(a)&&d.isArrayLike(a)}},32100,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(64093);c.property=function(a){return function(b){return d.get(b,a)}}},79687,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isPrimitive=function(a){return null==a||"object"!=typeof a&&"function"!=typeof a}},71112,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(22700),e=a.r(79687),f=a.r(18996);function g(a,b,c,j){if(b===a)return!0;switch(typeof b){case"object":return function(a,b,c,d){if(null==b)return!0;if(Array.isArray(b))return h(a,b,c,d);if(b instanceof Map){var f=a,g=b,j=c,k=d;if(0===g.size)return!0;if(!(f instanceof Map))return!1;for(let[a,b]of g.entries())if(!1===j(f.get(a),b,a,f,g,k))return!1;return!0}if(b instanceof Set)return i(a,b,c,d);let l=Object.keys(b);if(null==a||e.isPrimitive(a))return 0===l.length;if(0===l.length)return!0;if(d?.has(b))return d.get(b)===a;d?.set(b,a);try{for(let f=0;f<l.length;f++){let g=l[f];if(!e.isPrimitive(a)&&!(g in a)||void 0===b[g]&&void 0!==a[g]||null===b[g]&&null!==a[g]||!c(a[g],b[g],g,a,b,d))return!1}return!0}finally{d?.delete(b)}}(a,b,c,j);case"function":if(Object.keys(b).length>0)return g(a,{...b},c,j);return f.isEqualsSameValueZero(a,b);default:if(!d.isObject(a))return f.isEqualsSameValueZero(a,b);if("string"==typeof b)return""===b;return!0}}function h(a,b,c,d){if(0===b.length)return!0;if(!Array.isArray(a))return!1;let e=new Set;for(let f=0;f<b.length;f++){let g=b[f],h=!1;for(let i=0;i<a.length;i++){if(e.has(i))continue;let j=a[i],k=!1;if(c(j,g,f,a,b,d)&&(k=!0),k){e.add(i),h=!0;break}}if(!h)return!1}return!0}function i(a,b,c,d){return 0===b.size||a instanceof Set&&h([...a],[...b],c,d)}c.isMatchWith=function a(b,c,d){return"function"!=typeof d?a(b,c,()=>void 0):g(b,c,function a(b,c,e,f,h,i){let j=d(b,c,e,f,h,i);return void 0!==j?!!j:g(b,c,a,i)},new Map)},c.isSetMatch=i},35295,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(71112);c.isMatch=function(a,b){return d.isMatchWith(a,b,()=>void 0)}},81922,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.getSymbols=function(a){return Object.getOwnPropertySymbols(a).filter(b=>Object.prototype.propertyIsEnumerable.call(a,b))}},71755,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.getTag=function(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}},39792,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.argumentsTag="[object Arguments]",c.arrayBufferTag="[object ArrayBuffer]",c.arrayTag="[object Array]",c.bigInt64ArrayTag="[object BigInt64Array]",c.bigUint64ArrayTag="[object BigUint64Array]",c.booleanTag="[object Boolean]",c.dataViewTag="[object DataView]",c.dateTag="[object Date]",c.errorTag="[object Error]",c.float32ArrayTag="[object Float32Array]",c.float64ArrayTag="[object Float64Array]",c.functionTag="[object Function]",c.int16ArrayTag="[object Int16Array]",c.int32ArrayTag="[object Int32Array]",c.int8ArrayTag="[object Int8Array]",c.mapTag="[object Map]",c.numberTag="[object Number]",c.objectTag="[object Object]",c.regexpTag="[object RegExp]",c.setTag="[object Set]",c.stringTag="[object String]",c.symbolTag="[object Symbol]",c.uint16ArrayTag="[object Uint16Array]",c.uint32ArrayTag="[object Uint32Array]",c.uint8ArrayTag="[object Uint8Array]",c.uint8ClampedArrayTag="[object Uint8ClampedArray]"},11963,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isTypedArray=function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}},18844,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(81922),e=a.r(71755),f=a.r(39792),g=a.r(79687),h=a.r(11963);function i(a,b,c,d=new Map,k){let l=k?.(a,b,c,d);if(void 0!==l)return l;if(g.isPrimitive(a))return a;if(d.has(a))return d.get(a);if(Array.isArray(a)){let b=Array(a.length);d.set(a,b);for(let e=0;e<a.length;e++)b[e]=i(a[e],e,c,d,k);return Object.hasOwn(a,"index")&&(b.index=a.index),Object.hasOwn(a,"input")&&(b.input=a.input),b}if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp){let b=new RegExp(a.source,a.flags);return b.lastIndex=a.lastIndex,b}if(a instanceof Map){let b=new Map;for(let[e,f]of(d.set(a,b),a))b.set(e,i(f,e,c,d,k));return b}if(a instanceof Set){let b=new Set;for(let e of(d.set(a,b),a))b.add(i(e,void 0,c,d,k));return b}if("u">typeof Buffer&&Buffer.isBuffer(a))return a.subarray();if(h.isTypedArray(a)){let b=new(Object.getPrototypeOf(a)).constructor(a.length);d.set(a,b);for(let e=0;e<a.length;e++)b[e]=i(a[e],e,c,d,k);return b}if(a instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&a instanceof SharedArrayBuffer)return a.slice(0);if(a instanceof DataView){let b=new DataView(a.buffer.slice(0),a.byteOffset,a.byteLength);return d.set(a,b),j(b,a,c,d,k),b}if("u">typeof File&&a instanceof File){let b=new File([a],a.name,{type:a.type});return d.set(a,b),j(b,a,c,d,k),b}if("u">typeof Blob&&a instanceof Blob){let b=new Blob([a],{type:a.type});return d.set(a,b),j(b,a,c,d,k),b}if(a instanceof Error){let b=new a.constructor;return d.set(a,b),b.message=a.message,b.name=a.name,b.stack=a.stack,b.cause=a.cause,j(b,a,c,d,k),b}if(a instanceof Boolean){let b=new Boolean(a.valueOf());return d.set(a,b),j(b,a,c,d,k),b}if(a instanceof Number){let b=new Number(a.valueOf());return d.set(a,b),j(b,a,c,d,k),b}if(a instanceof String){let b=new String(a.valueOf());return d.set(a,b),j(b,a,c,d,k),b}if("object"==typeof a&&function(a){switch(e.getTag(a)){case f.argumentsTag:case f.arrayTag:case f.arrayBufferTag:case f.dataViewTag:case f.booleanTag:case f.dateTag:case f.float32ArrayTag:case f.float64ArrayTag:case f.int8ArrayTag:case f.int16ArrayTag:case f.int32ArrayTag:case f.mapTag:case f.numberTag:case f.objectTag:case f.regexpTag:case f.setTag:case f.stringTag:case f.symbolTag:case f.uint8ArrayTag:case f.uint8ClampedArrayTag:case f.uint16ArrayTag:case f.uint32ArrayTag:return!0;default:return!1}}(a)){let b=Object.create(Object.getPrototypeOf(a));return d.set(a,b),j(b,a,c,d,k),b}return a}function j(a,b,c=a,e,f){let g=[...Object.keys(b),...d.getSymbols(b)];for(let d=0;d<g.length;d++){let h=g[d],j=Object.getOwnPropertyDescriptor(a,h);(null==j||j.writable)&&(a[h]=i(b[h],h,c,e,f))}}c.cloneDeepWith=function(a,b){return i(a,void 0,a,new Map,b)},c.cloneDeepWithImpl=i,c.copyProperties=j},12188,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(18844);c.cloneDeep=function(a){return d.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}},45794,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(35295),e=a.r(12188);c.matches=function(a){return a=e.cloneDeep(a),b=>d.isMatch(b,a)}},84955,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(18844),e=a.r(71755),f=a.r(39792);c.cloneDeepWith=function(a,b){return d.cloneDeepWith(a,(c,g,h,i)=>{let j=b?.(c,g,h,i);if(void 0!==j)return j;if("object"==typeof a){if(e.getTag(a)===f.objectTag&&"function"!=typeof a.constructor){let b={};return i.set(a,b),d.copyProperties(b,a,h,i),b}switch(Object.prototype.toString.call(a)){case f.numberTag:case f.stringTag:case f.booleanTag:{let b=new a.constructor(a?.valueOf());return d.copyProperties(b,a),b}case f.argumentsTag:{let b={};return d.copyProperties(b,a),b.length=a.length,b[Symbol.iterator]=a[Symbol.iterator],b}default:return}}})}},37595,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(84955);c.cloneDeep=function(a){return d.cloneDeepWith(a)}},21864,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(71755);c.isArguments=function(a){return null!==a&&"object"==typeof a&&"[object Arguments]"===d.getTag(a)}},70767,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(67984),e=a.r(36762),f=a.r(21864),g=a.r(16270);c.has=function(a,b){let c;if(0===(c=Array.isArray(b)?b:"string"==typeof b&&d.isDeepKey(b)&&a?.[b]==null?g.toPath(b):[b]).length)return!1;let h=a;for(let a=0;a<c.length;a++){let b=c[a];if((null==h||!Object.hasOwn(h,b))&&!((Array.isArray(h)||f.isArguments(h))&&e.isIndex(b)&&b<h.length))return!1;h=h[b]}return!0}},31544,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(35295),e=a.r(21619),f=a.r(37595),g=a.r(64093),h=a.r(70767);c.matchesProperty=function(a,b){switch(typeof a){case"object":Object.is(a?.valueOf(),-0)&&(a="-0");break;case"number":a=e.toKey(a)}return b=f.cloneDeep(b),function(c){let e=g.get(c,a);return void 0===e?h.has(c,a):void 0===b?void 0===e:d.isMatch(e,b)}}},59111,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(31540),e=a.r(32100),f=a.r(45794),g=a.r(31544);c.iteratee=function(a){if(null==a)return d.identity;switch(typeof a){case"function":return a;case"object":if(Array.isArray(a)&&2===a.length)return g.matchesProperty(a[0],a[1]);return f.matches(a);case"string":case"symbol":case"number":return e.property(a)}}},60066,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(13542),e=a.r(5883),f=a.r(31540),g=a.r(90228),h=a.r(59111);c.uniqBy=function(a,b=f.identity){return g.isArrayLikeObject(a)?d.uniqBy(Array.from(a),e.ary(h.iteratee(b),1)):[]}},53451,(a,b,c)=>{b.exports=a.r(60066).uniqBy},85690,a=>{"use strict";let b;var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C=a.i(87924),D=a.i(72131);class E extends Error{constructor(a,b="FunctionsError",c){super(a),this.name=b,this.context=c}}class F extends E{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class G extends E{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class H extends E{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}(lo=lz||(lz={})).Any="any",lo.ApNortheast1="ap-northeast-1",lo.ApNortheast2="ap-northeast-2",lo.ApSouth1="ap-south-1",lo.ApSoutheast1="ap-southeast-1",lo.ApSoutheast2="ap-southeast-2",lo.CaCentral1="ca-central-1",lo.EuCentral1="eu-central-1",lo.EuWest1="eu-west-1",lo.EuWest2="eu-west-2",lo.EuWest3="eu-west-3",lo.SaEast1="sa-east-1",lo.UsEast1="us-east-1",lo.UsWest1="us-west-1",lo.UsWest2="us-west-2";function I(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}"function"==typeof SuppressedError&&SuppressedError;class J{constructor(a,{headers:b={},customFetch:c,region:d=lz.Any}={}){this.url=a,this.headers=b,this.region=d,this.fetch=(a=>a?(...b)=>a(...b):(...a)=>fetch(...a))(c)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){var b,c,d,e;return b=this,c=arguments,d=void 0,e=function*(a,b={}){var c;let d,e;try{let f,{headers:g,method:h,body:i,signal:j,timeout:k}=b,l={},{region:m}=b;m||(m=this.region);let n=new URL(`${this.url}/${a}`);m&&"any"!==m&&(l["x-region"]=m,n.searchParams.set("forceFunctionRegion",m)),i&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?"u">typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=i):"string"==typeof i?(l["Content-Type"]="text/plain",f=i):"u">typeof FormData&&i instanceof FormData?f=i:(l["Content-Type"]="application/json",f=JSON.stringify(i)):f=!i||"string"==typeof i||"u">typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer||"u">typeof FormData&&i instanceof FormData?i:JSON.stringify(i);let o=j;k&&(e=new AbortController,d=setTimeout(()=>e.abort(),k),j?(o=e.signal,j.addEventListener("abort",()=>e.abort())):o=e.signal);let p=yield this.fetch(n.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),g),body:f,signal:o}).catch(a=>{throw new F(a)}),q=p.headers.get("x-relay-error");if(q&&"true"===q)throw new G(p);if(!p.ok)throw new H(p);let r=(null!=(c=p.headers.get("Content-Type"))?c:"text/plain").split(";")[0].trim();return{data:"application/json"===r?yield p.json():"application/octet-stream"===r||"application/pdf"===r?yield p.blob():"text/event-stream"===r?p:"multipart/form-data"===r?yield p.formData():yield p.text(),error:null,response:p}}catch(a){return{data:null,error:a,response:a instanceof H||a instanceof G?a.context:void 0}}finally{d&&clearTimeout(d)}},new(d||(d=Promise))(function(a,f){function g(a){try{i(e.next(a))}catch(a){f(a)}}function h(a){try{i(e.throw(a))}catch(a){f(a)}}function i(b){var c;b.done?a(b.value):((c=b.value)instanceof d?c:new d(function(a){a(c)})).then(g,h)}i((e=e.apply(b,c||[])).next())})}}var K=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},L=class{constructor(a){var b,c,d;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=null!=(b=a.shouldThrowOnError)&&b,this.signal=a.signal,this.isMaybeSingle=null!=(c=a.isMaybeSingle)&&c,this.urlLengthLimit=null!=(d=a.urlLengthLimit)?d:8e3,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,b){return this.headers=new Headers(this.headers),this.headers.set(a,b),this}then(a,b){var c=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let d=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var b,d,e,f;let g=null,h=null,i=null,j=a.status,k=a.statusText;if(a.ok){if("HEAD"!==c.method){let b=await a.text();""===b||(h="text/csv"===c.headers.get("Accept")||c.headers.get("Accept")&&(null==(e=c.headers.get("Accept"))?void 0:e.includes("application/vnd.pgrst.plan+text"))?b:JSON.parse(b))}let f=null==(b=c.headers.get("Prefer"))?void 0:b.match(/count=(exact|planned|estimated)/),l=null==(d=a.headers.get("content-range"))?void 0:d.split("/");f&&l&&l.length>1&&(i=parseInt(l[1])),c.isMaybeSingle&&"GET"===c.method&&Array.isArray(h)&&(h.length>1?(g={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,i=null,j=406,k="Not Acceptable"):h=1===h.length?h[0]:null)}else{let b=await a.text();try{g=JSON.parse(b),Array.isArray(g)&&404===a.status&&(h=[],g=null,j=200,k="OK")}catch(c){404===a.status&&""===b?(j=204,k="No Content"):g={message:b}}if(g&&c.isMaybeSingle&&(null==g||null==(f=g.details)?void 0:f.includes("0 rows"))&&(g=null,j=200,k="OK"),g&&c.shouldThrowOnError)throw new K(g)}return{error:g,data:h,count:i,status:j,statusText:k}});return this.shouldThrowOnError||(d=d.catch(a=>{var b,c,d,e,f,g;let h="",i="",j="",k=null==a?void 0:a.cause;if(k){let b=null!=(c=null==k?void 0:k.message)?c:"",g=null!=(d=null==k?void 0:k.code)?d:"";h=`${null!=(e=null==a?void 0:a.name)?e:"FetchError"}: ${null==a?void 0:a.message}

Caused by: ${null!=(f=null==k?void 0:k.name)?f:"Error"}: ${b}`,g&&(h+=` (${g})`),(null==k?void 0:k.stack)&&(h+=`
${k.stack}`)}else h=null!=(g=null==a?void 0:a.stack)?g:"";let l=this.url.toString().length;return(null==a?void 0:a.name)==="AbortError"||(null==a?void 0:a.code)==="ABORT_ERR"?(j="",i="Request was aborted (timeout or manual cancellation)",l>this.urlLengthLimit&&(i+=`. Note: Your request URL is ${l} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((null==k?void 0:k.name)==="HeadersOverflowError"||(null==k?void 0:k.code)==="UND_ERR_HEADERS_OVERFLOW")&&(j="",i="HTTP headers exceeded server limits (typically 16KB)",l>this.urlLengthLimit&&(i+=`. Your request URL is ${l} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${null!=(b=null==a?void 0:a.name)?b:"FetchError"}: ${null==a?void 0:a.message}`,details:h,hint:i,code:j},data:null,count:null,status:0,statusText:""}})),d.then(a,b)}returns(){return this}overrideTypes(){return this}},M=class extends L{select(a){let b=!1,c=(null!=a?a:"*").split("").map(a=>/\s/.test(a)&&!b?"":('"'===a&&(b=!b),a)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:b=!0,nullsFirst:c,foreignTable:d,referencedTable:e=d}={}){let f=e?`${e}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${a}.${b?"asc":"desc"}${void 0===c?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:b,referencedTable:c=b}={}){let d=void 0===c?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this}range(a,b,{foreignTable:c,referencedTable:d=c}={}){let e=void 0===d?"offset":`${d}.offset`,f=void 0===d?"limit":`${d}.limit`;return this.url.searchParams.set(e,`${a}`),this.url.searchParams.set(f,`${b-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:b=!1,settings:c=!1,buffers:d=!1,wal:e=!1,format:f="text"}={}){var g;let h=[a?"analyze":null,b?"verbose":null,c?"settings":null,d?"buffers":null,e?"wal":null].filter(Boolean).join("|"),i=null!=(g=this.headers.get("Accept"))?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${i}"; options=${h};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};let N=RegExp("[,()]");var O=class extends M{eq(a,b){return this.url.searchParams.append(a,`eq.${b}`),this}neq(a,b){return this.url.searchParams.append(a,`neq.${b}`),this}gt(a,b){return this.url.searchParams.append(a,`gt.${b}`),this}gte(a,b){return this.url.searchParams.append(a,`gte.${b}`),this}lt(a,b){return this.url.searchParams.append(a,`lt.${b}`),this}lte(a,b){return this.url.searchParams.append(a,`lte.${b}`),this}like(a,b){return this.url.searchParams.append(a,`like.${b}`),this}likeAllOf(a,b){return this.url.searchParams.append(a,`like(all).{${b.join(",")}}`),this}likeAnyOf(a,b){return this.url.searchParams.append(a,`like(any).{${b.join(",")}}`),this}ilike(a,b){return this.url.searchParams.append(a,`ilike.${b}`),this}ilikeAllOf(a,b){return this.url.searchParams.append(a,`ilike(all).{${b.join(",")}}`),this}ilikeAnyOf(a,b){return this.url.searchParams.append(a,`ilike(any).{${b.join(",")}}`),this}regexMatch(a,b){return this.url.searchParams.append(a,`match.${b}`),this}regexIMatch(a,b){return this.url.searchParams.append(a,`imatch.${b}`),this}is(a,b){return this.url.searchParams.append(a,`is.${b}`),this}isDistinct(a,b){return this.url.searchParams.append(a,`isdistinct.${b}`),this}in(a,b){let c=Array.from(new Set(b)).map(a=>"string"==typeof a&&N.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}notIn(a,b){let c=Array.from(new Set(b)).map(a=>"string"==typeof a&&N.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(a,`not.in.(${c})`),this}contains(a,b){return"string"==typeof b?this.url.searchParams.append(a,`cs.${b}`):Array.isArray(b)?this.url.searchParams.append(a,`cs.{${b.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(b)}`),this}containedBy(a,b){return"string"==typeof b?this.url.searchParams.append(a,`cd.${b}`):Array.isArray(b)?this.url.searchParams.append(a,`cd.{${b.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(b)}`),this}rangeGt(a,b){return this.url.searchParams.append(a,`sr.${b}`),this}rangeGte(a,b){return this.url.searchParams.append(a,`nxl.${b}`),this}rangeLt(a,b){return this.url.searchParams.append(a,`sl.${b}`),this}rangeLte(a,b){return this.url.searchParams.append(a,`nxr.${b}`),this}rangeAdjacent(a,b){return this.url.searchParams.append(a,`adj.${b}`),this}overlaps(a,b){return"string"==typeof b?this.url.searchParams.append(a,`ov.${b}`):this.url.searchParams.append(a,`ov.{${b.join(",")}}`),this}textSearch(a,b,{config:c,type:d}={}){let e="";"plain"===d?e="pl":"phrase"===d?e="ph":"websearch"===d&&(e="w");let f=void 0===c?"":`(${c})`;return this.url.searchParams.append(a,`${e}fts${f}.${b}`),this}match(a){return Object.entries(a).forEach(([a,b])=>{this.url.searchParams.append(a,`eq.${b}`)}),this}not(a,b,c){return this.url.searchParams.append(a,`not.${b}.${c}`),this}or(a,{foreignTable:b,referencedTable:c=b}={}){let d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,b,c){return this.url.searchParams.append(a,`${b}.${c}`),this}},P=class{constructor(a,{headers:b={},schema:c,fetch:d,urlLengthLimit:e=8e3}){this.url=a,this.headers=new Headers(b),this.schema=c,this.fetch=d,this.urlLengthLimit=e}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(a,b){let{head:c=!1,count:d}=null!=b?b:{},e=!1,f=(null!=a?a:"*").split("").map(a=>/\s/.test(a)&&!e?"":('"'===a&&(e=!e),a)).join(""),{url:g,headers:h}=this.cloneRequestState();return g.searchParams.set("select",f),d&&h.append("Prefer",`count=${d}`),new O({method:c?"HEAD":"GET",url:g,headers:h,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(a,{count:b,defaultToNull:c=!0}={}){var d;let{url:e,headers:f}=this.cloneRequestState();if(b&&f.append("Prefer",`count=${b}`),c||f.append("Prefer","missing=default"),Array.isArray(a)){let b=a.reduce((a,b)=>a.concat(Object.keys(b)),[]);if(b.length>0){let a=[...new Set(b)].map(a=>`"${a}"`);e.searchParams.set("columns",a.join(","))}}return new O({method:"POST",url:e,headers:f,schema:this.schema,body:a,fetch:null!=(d=this.fetch)?d:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(a,{onConflict:b,ignoreDuplicates:c=!1,count:d,defaultToNull:e=!0}={}){var f;let{url:g,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),void 0!==b&&g.searchParams.set("on_conflict",b),d&&h.append("Prefer",`count=${d}`),e||h.append("Prefer","missing=default"),Array.isArray(a)){let b=a.reduce((a,b)=>a.concat(Object.keys(b)),[]);if(b.length>0){let a=[...new Set(b)].map(a=>`"${a}"`);g.searchParams.set("columns",a.join(","))}}return new O({method:"POST",url:g,headers:h,schema:this.schema,body:a,fetch:null!=(f=this.fetch)?f:fetch,urlLengthLimit:this.urlLengthLimit})}update(a,{count:b}={}){var c;let{url:d,headers:e}=this.cloneRequestState();return b&&e.append("Prefer",`count=${b}`),new O({method:"PATCH",url:d,headers:e,schema:this.schema,body:a,fetch:null!=(c=this.fetch)?c:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:a}={}){var b;let{url:c,headers:d}=this.cloneRequestState();return a&&d.append("Prefer",`count=${a}`),new O({method:"DELETE",url:c,headers:d,schema:this.schema,fetch:null!=(b=this.fetch)?b:fetch,urlLengthLimit:this.urlLengthLimit})}};function Q(a){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function R(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function S(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?R(Object(c),!0).forEach(function(b){!function(a,b,c){var d;(d=function(a,b){if("object"!=Q(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=Q(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"==Q(d)?d:d+"")in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c}(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):R(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var T=class a{constructor(a,{headers:b={},schema:c,fetch:d,timeout:e,urlLengthLimit:f=8e3}={}){this.url=a,this.headers=new Headers(b),this.schemaName=c,this.urlLengthLimit=f;const g=null!=d?d:globalThis.fetch;void 0!==e&&e>0?this.fetch=(a,b)=>{let c=new AbortController,d=setTimeout(()=>c.abort(),e),f=null==b?void 0:b.signal;if(f){if(f.aborted)return clearTimeout(d),g(a,b);let e=()=>{clearTimeout(d),c.abort()};return f.addEventListener("abort",e,{once:!0}),g(a,S(S({},b),{},{signal:c.signal})).finally(()=>{clearTimeout(d),f.removeEventListener("abort",e)})}return g(a,S(S({},b),{},{signal:c.signal})).finally(()=>clearTimeout(d))}:this.fetch=g}from(a){if(!a||"string"!=typeof a||""===a.trim())throw Error("Invalid relation name: relation must be a non-empty string.");return new P(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(b){return new a(this.url,{headers:this.headers,schema:b,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(a,b={},{head:c=!1,get:d=!1,count:e}={}){var f;let g,h,i=new URL(`${this.url}/rpc/${a}`),j=a=>null!==a&&"object"==typeof a&&(!Array.isArray(a)||a.some(j)),k=c&&Object.values(b).some(j);k?(g="POST",h=b):c||d?(g=c?"HEAD":"GET",Object.entries(b).filter(([a,b])=>void 0!==b).map(([a,b])=>[a,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([a,b])=>{i.searchParams.append(a,b)})):(g="POST",h=b);let l=new Headers(this.headers);return k?l.set("Prefer",e?`count=${e},return=minimal`:"return=minimal"):e&&l.set("Prefer",`count=${e}`),new O({method:g,url:i,headers:l,schema:this.schemaName,body:h,fetch:null!=(f=this.fetch)?f:fetch,urlLengthLimit:this.urlLengthLimit})}};let U=class{static detectEnvironment(){var b;if("u">typeof WebSocket)return{type:"native",constructor:WebSocket};if("u">typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if(void 0!==a.g.WebSocket)return{type:"native",constructor:a.g.WebSocket};if("u">typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("u">typeof globalThis&&globalThis.EdgeRuntime||"u">typeof navigator&&(null==(b=navigator.userAgent)?void 0:b.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};let c=globalThis.process;if(c){let a=c.versions;if(a&&a.node){let b=parseInt(a.node.replace(/^v/,"").split(".")[0]);return b>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${b} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${b} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let a=this.detectEnvironment();if(a.constructor)return a.constructor;let b=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(b+=`

Suggested solution: ${a.workaround}`),Error(b)}static createWebSocket(a,b){return new(this.getWebSocketConstructor())(a,b)}static isWebSocketSupported(){try{let a=this.detectEnvironment();return"native"===a.type||"ws"===a.type}catch(a){return!1}}},V="2.0.0";(lp=lA||(lA={}))[lp.connecting=0]="connecting",lp[lp.open=1]="open",lp[lp.closing=2]="closing",lp[lp.closed=3]="closed",(lq=lB||(lB={})).closed="closed",lq.errored="errored",lq.joined="joined",lq.joining="joining",lq.leaving="leaving",(lr=lC||(lC={})).close="phx_close",lr.error="phx_error",lr.join="phx_join",lr.reply="phx_reply",lr.leave="phx_leave",lr.access_token="access_token",(lD||(lD={})).websocket="websocket",(ls=lE||(lE={})).Connecting="connecting",ls.Open="open",ls.Closing="closing",ls.Closed="closed";class W{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!=a?a:[]}encode(a,b){return a.event!==this.BROADCAST_EVENT||a.payload instanceof ArrayBuffer||"string"!=typeof a.payload.event?b(JSON.stringify([a.join_ref,a.ref,a.topic,a.event,a.payload])):b(this._binaryEncodeUserBroadcastPush(a))}_binaryEncodeUserBroadcastPush(a){var b;return this._isArrayBuffer(null==(b=a.payload)?void 0:b.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var b,c;let d=null!=(c=null==(b=a.payload)?void 0:b.payload)?c:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(a){var b,c;let d=null!=(c=null==(b=a.payload)?void 0:b.payload)?c:{},e=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,e)}_encodeUserBroadcastPush(a,b,c){let d=a.topic,e=null!=(n=a.ref)?n:"",f=null!=(o=a.join_ref)?o:"",g=a.payload.event,h=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},i=0===Object.keys(h).length?"":JSON.stringify(h);if(f.length>255)throw Error(`joinRef length ${f.length} exceeds maximum of 255`);if(e.length>255)throw Error(`ref length ${e.length} exceeds maximum of 255`);if(d.length>255)throw Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw Error(`userEvent length ${g.length} exceeds maximum of 255`);if(i.length>255)throw Error(`metadata length ${i.length} exceeds maximum of 255`);let j=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+e.length+d.length+g.length+i.length,k=new ArrayBuffer(this.HEADER_LENGTH+j),l=new DataView(k),m=0;l.setUint8(m++,this.KINDS.userBroadcastPush),l.setUint8(m++,f.length),l.setUint8(m++,e.length),l.setUint8(m++,d.length),l.setUint8(m++,g.length),l.setUint8(m++,i.length),l.setUint8(m++,b),Array.from(f,a=>l.setUint8(m++,a.charCodeAt(0))),Array.from(e,a=>l.setUint8(m++,a.charCodeAt(0))),Array.from(d,a=>l.setUint8(m++,a.charCodeAt(0))),Array.from(g,a=>l.setUint8(m++,a.charCodeAt(0))),Array.from(i,a=>l.setUint8(m++,a.charCodeAt(0)));var n,o,p=new Uint8Array(k.byteLength+c.byteLength);return p.set(new Uint8Array(k),0),p.set(new Uint8Array(c),k.byteLength),p.buffer}decode(a,b){if(this._isArrayBuffer(a))return b(this._binaryDecode(a));if("string"==typeof a){let[c,d,e,f,g]=JSON.parse(a);return b({join_ref:c,ref:d,topic:e,event:f,payload:g})}return b({})}_binaryDecode(a){let b=new DataView(a),c=b.getUint8(0),d=new TextDecoder;if(c===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,b,d)}_decodeUserBroadcast(a,b,c){let d=b.getUint8(1),e=b.getUint8(2),f=b.getUint8(3),g=b.getUint8(4),h=this.HEADER_LENGTH+4,i=c.decode(a.slice(h,h+d));h+=d;let j=c.decode(a.slice(h,h+e));h+=e;let k=c.decode(a.slice(h,h+f));h+=f;let l=a.slice(h,a.byteLength),m=g===this.JSON_ENCODING?JSON.parse(c.decode(l)):l,n={type:this.BROADCAST_EVENT,event:j,payload:m};return f>0&&(n.meta=JSON.parse(k)),{join_ref:null,ref:null,topic:i,event:this.BROADCAST_EVENT,payload:n}}_isArrayBuffer(a){var b;return a instanceof ArrayBuffer||(null==(b=null==a?void 0:a.constructor)?void 0:b.name)==="ArrayBuffer"}_pick(a,b){return a&&"object"==typeof a?Object.fromEntries(Object.entries(a).filter(([a])=>b.includes(a))):{}}}class X{constructor(a,b){this.callback=a,this.timerCalc=b,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=b}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(lt=lF||(lF={})).abstime="abstime",lt.bool="bool",lt.date="date",lt.daterange="daterange",lt.float4="float4",lt.float8="float8",lt.int2="int2",lt.int4="int4",lt.int4range="int4range",lt.int8="int8",lt.int8range="int8range",lt.json="json",lt.jsonb="jsonb",lt.money="money",lt.numeric="numeric",lt.oid="oid",lt.reltime="reltime",lt.text="text",lt.time="time",lt.timestamp="timestamp",lt.timestamptz="timestamptz",lt.timetz="timetz",lt.tsrange="tsrange",lt.tstzrange="tstzrange";let Y=(a,b,c={})=>{var d;let e=null!=(d=c.skipTypes)?d:[];return b?Object.keys(b).reduce((c,d)=>(c[d]=Z(d,a,b,e),c),{}):{}},Z=(a,b,c,d)=>{let e=b.find(b=>b.name===a),f=null==e?void 0:e.type,g=c[a];return f&&!d.includes(f)?$(f,g):_(g)},$=(a,b)=>{if("_"===a.charAt(0))return ad(b,a.slice(1,a.length));switch(a){case lF.bool:return aa(b);case lF.float4:case lF.float8:case lF.int2:case lF.int4:case lF.int8:case lF.numeric:case lF.oid:return ab(b);case lF.json:case lF.jsonb:return ac(b);case lF.timestamp:return ae(b);case lF.abstime:case lF.date:case lF.daterange:case lF.int4range:case lF.int8range:case lF.money:case lF.reltime:case lF.text:case lF.time:case lF.timestamptz:case lF.timetz:case lF.tsrange:case lF.tstzrange:default:return _(b)}},_=a=>a,aa=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},ab=a=>{if("string"==typeof a){let b=parseFloat(a);if(!Number.isNaN(b))return b}return a},ac=a=>{if("string"==typeof a)try{return JSON.parse(a)}catch(a){}return a},ad=(a,b)=>{if("string"!=typeof a)return a;let c=a.length-1,d=a[c];if("{"===a[0]&&"}"===d){let d,e=a.slice(1,c);try{d=JSON.parse("["+e+"]")}catch(a){d=e?e.split(","):[]}return d.map(a=>$(b,a))}return a},ae=a=>"string"==typeof a?a.replace(" ","T"):a,af=a=>{let b=new URL(a);return b.protocol=b.protocol.replace(/^ws/i,"http"),b.pathname=b.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===b.pathname||"/"===b.pathname?b.pathname="/api/broadcast":b.pathname=b.pathname+"/api/broadcast",b.href};class ag{constructor(a,b,c={},d=1e4){this.channel=a,this.event=b,this.payload=c,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,b){var c;return this._hasReceived(a)&&b(null==(c=this.receivedResp)?void 0:c.response),this.recHooks.push({status:a,callback:b}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let a=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,b){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:b})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:b}){this.recHooks.filter(b=>b.status===a).forEach(a=>a.callback(b))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}(lu=lG||(lG={})).SYNC="sync",lu.JOIN="join",lu.LEAVE="leave";class ah{constructor(a,b){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const c=(null==b?void 0:b.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(c.state,{},a=>{let{onJoin:b,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ah.syncState(this.state,a,b,c),this.pendingDiffs.forEach(a=>{this.state=ah.syncDiff(this.state,a,b,c)}),this.pendingDiffs=[],d()}),this.channel._on(c.diff,{},a=>{let{onJoin:b,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ah.syncDiff(this.state,a,b,c),d())}),this.onJoin((a,b,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:b,newPresences:c})}),this.onLeave((a,b,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:b,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,b,c,d){let e=this.cloneDeep(a),f=this.transformState(b),g={},h={};return this.map(e,(a,b)=>{f[a]||(h[a]=b)}),this.map(f,(a,b)=>{let c=e[a];if(c){let d=b.map(a=>a.presence_ref),e=c.map(a=>a.presence_ref),f=b.filter(a=>0>e.indexOf(a.presence_ref)),i=c.filter(a=>0>d.indexOf(a.presence_ref));f.length>0&&(g[a]=f),i.length>0&&(h[a]=i)}else g[a]=b}),this.syncDiff(e,{joins:g,leaves:h},c,d)}static syncDiff(a,b,c,d){let{joins:e,leaves:f}={joins:this.transformState(b.joins),leaves:this.transformState(b.leaves)};return c||(c=()=>{}),d||(d=()=>{}),this.map(e,(b,d)=>{var e;let f=null!=(e=a[b])?e:[];if(a[b]=this.cloneDeep(d),f.length>0){let c=a[b].map(a=>a.presence_ref),d=f.filter(a=>0>c.indexOf(a.presence_ref));a[b].unshift(...d)}c(b,f,d)}),this.map(f,(b,c)=>{let e=a[b];if(!e)return;let f=c.map(a=>a.presence_ref);e=e.filter(a=>0>f.indexOf(a.presence_ref)),a[b]=e,d(b,e,c),0===e.length&&delete a[b]}),a}static map(a,b){return Object.getOwnPropertyNames(a).map(c=>b(c,a[c]))}static transformState(a){return Object.getOwnPropertyNames(a=this.cloneDeep(a)).reduce((b,c)=>{let d=a[c];return"metas"in d?b[c]=d.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):b[c]=d,b},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(lv=lH||(lH={})).ALL="*",lv.INSERT="INSERT",lv.UPDATE="UPDATE",lv.DELETE="DELETE",(lw=lI||(lI={})).BROADCAST="broadcast",lw.PRESENCE="presence",lw.POSTGRES_CHANGES="postgres_changes",lw.SYSTEM="system",(lx=lJ||(lJ={})).SUBSCRIBED="SUBSCRIBED",lx.TIMED_OUT="TIMED_OUT",lx.CLOSED="CLOSED",lx.CHANNEL_ERROR="CHANNEL_ERROR";class ai{constructor(a,b={config:{}},c){var d,e;if(this.topic=a,this.params=b,this.socket=c,this.bindings={},this.state=lB.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},b.config),this.timeout=this.socket.timeout,this.joinPush=new ag(this,lC.join,this.params,this.timeout),this.rejoinTimer=new X(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lB.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lB.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=lB.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lB.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=lB.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lC.reply,{},(a,b)=>{this._trigger(this._replyEventName(b),a)}),this.presence=new ah(this),this.broadcastEndpointURL=af(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null==(e=null==(d=this.params.config)?void 0:d.broadcast)?void 0:e.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,b=this.timeout){var c,d,e;if(this.socket.isConnected()||this.socket.connect(),this.state==lB.closed){let{config:{broadcast:f,presence:g,private:h}}=this.params,i=null!=(d=null==(c=this.bindings.postgres_changes)?void 0:c.map(a=>a.filter))?d:[],j=!!this.bindings[lI.PRESENCE]&&this.bindings[lI.PRESENCE].length>0||(null==(e=this.params.config.presence)?void 0:e.enabled)===!0,k={},l={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:j}),postgres_changes:i,private:h};this.socket.accessTokenValue&&(k.access_token=this.socket.accessTokenValue),this._onError(b=>null==a?void 0:a(lJ.CHANNEL_ERROR,b)),this._onClose(()=>null==a?void 0:a(lJ.CLOSED)),this.updateJoinPayload(Object.assign({config:l},k)),this.joinedOnce=!0,this._rejoin(b),this.joinPush.receive("ok",async({postgres_changes:b})=>{var c;if(this.socket._isManualToken()||this.socket.setAuth(),void 0===b){null==a||a(lJ.SUBSCRIBED);return}{let d=this.bindings.postgres_changes,e=null!=(c=null==d?void 0:d.length)?c:0,f=[];for(let c=0;c<e;c++){let e=d[c],{filter:{event:g,schema:h,table:i,filter:j}}=e,k=b&&b[c];if(k&&k.event===g&&ai.isFilterValueEqual(k.schema,h)&&ai.isFilterValueEqual(k.table,i)&&ai.isFilterValueEqual(k.filter,j))f.push(Object.assign(Object.assign({},e),{id:k.id}));else{this.unsubscribe(),this.state=lB.errored,null==a||a(lJ.CHANNEL_ERROR,Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,a&&a(lJ.SUBSCRIBED);return}}).receive("error",b=>{this.state=lB.errored,null==a||a(lJ.CHANNEL_ERROR,Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{null==a||a(lJ.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,b={}){return await this.send({type:"presence",event:"track",payload:a},b.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,b,c){return this.state===lB.joined&&a===lI.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,b,c)}async httpSend(a,b,c={}){var d;if(null==b)return Promise.reject("Payload is required for httpSend()");let e={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(e.Authorization=`Bearer ${this.socket.accessTokenValue}`);let f={method:"POST",headers:e,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:b,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,null!=(d=c.timeout)?d:this.timeout);if(202===g.status)return{success:!0};let h=g.statusText;try{let a=await g.json();h=a.error||a.message||h}catch(a){}return Promise.reject(Error(h))}async send(a,b={}){var c,d;if(this._canPush()||"broadcast"!==a.type)return new Promise(c=>{var d,e,f;let g=this._push(a.type,a,b.timeout||this.timeout);"broadcast"!==a.type||(null==(f=null==(e=null==(d=this.params)?void 0:d.config)?void 0:e.broadcast)?void 0:f.ack)||c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:e,payload:f}=a,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);let h={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:f,private:this.private}]})};try{let a=await this._fetchWithTimeout(this.broadcastEndpointURL,h,null!=(c=b.timeout)?c:this.timeout);return await (null==(d=a.body)?void 0:d.cancel()),a.ok?"ok":"error"}catch(a){if("AbortError"===a.name)return"timed out";return"error"}}}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=lB.leaving;let b=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lC.close,"leave",this._joinRef())};this.joinPush.destroy();let c=null;return new Promise(d=>{(c=new ag(this,lC.leave,{},a)).receive("ok",()=>{b(),d("ok")}).receive("timeout",()=>{b(),d("timed out")}).receive("error",()=>{d("error")}),c.send(),this._canPush()||c.trigger("ok",{})}).finally(()=>{null==c||c.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lB.closed,this.bindings={}}async _fetchWithTimeout(a,b,c){let d=new AbortController,e=setTimeout(()=>d.abort(),c),f=await this.socket.fetch(a,Object.assign(Object.assign({},b),{signal:d.signal}));return clearTimeout(e),f}_push(a,b,c=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new ag(this,a,b,c);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>100){let a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(a,b,c){return b}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,b,c){var d,e;let f=a.toLocaleLowerCase(),{close:g,error:h,leave:i,join:j}=lC;if(c&&[g,h,i,j].indexOf(f)>=0&&c!==this._joinRef())return;let k=this._onMessage(f,b,c);if(b&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?null==(d=this.bindings.postgres_changes)||d.filter(a=>{var b,c,d;return(null==(b=a.filter)?void 0:b.event)==="*"||(null==(d=null==(c=a.filter)?void 0:c.event)?void 0:d.toLocaleLowerCase())===f}).map(a=>a.callback(k,c)):null==(e=this.bindings[f])||e.filter(a=>{var c,d,e,g,h,i;if(!["broadcast","presence","postgres_changes"].includes(f))return a.type.toLocaleLowerCase()===f;if("id"in a){let f=a.id,g=null==(c=a.filter)?void 0:c.event;return f&&(null==(d=b.ids)?void 0:d.includes(f))&&("*"===g||(null==g?void 0:g.toLocaleLowerCase())===(null==(e=b.data)?void 0:e.type.toLocaleLowerCase()))}{let c=null==(h=null==(g=null==a?void 0:a.filter)?void 0:g.event)?void 0:h.toLocaleLowerCase();return"*"===c||c===(null==(i=null==b?void 0:b.event)?void 0:i.toLocaleLowerCase())}}).map(a=>{if("object"==typeof k&&"ids"in k){let a=k.data,{schema:b,table:c,commit_timestamp:d,type:e,errors:f}=a;k=Object.assign(Object.assign({},{schema:b,table:c,commit_timestamp:d,eventType:e,new:{},old:{},errors:f}),this._getPayloadRecords(a))}a.callback(k,c)})}_isClosed(){return this.state===lB.closed}_isJoined(){return this.state===lB.joined}_isJoining(){return this.state===lB.joining}_isLeaving(){return this.state===lB.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,b,c){let d=a.toLocaleLowerCase(),e={type:d,filter:b,callback:c};return this.bindings[d]?this.bindings[d].push(e):this.bindings[d]=[e],this}_off(a,b){let c=a.toLocaleLowerCase();return this.bindings[c]&&(this.bindings[c]=this.bindings[c].filter(a=>{var d;return!((null==(d=a.type)?void 0:d.toLocaleLowerCase())===c&&ai.isEqual(a.filter,b))})),this}static isEqual(a,b){if(Object.keys(a).length!==Object.keys(b).length)return!1;for(let c in a)if(a[c]!==b[c])return!1;return!0}static isFilterValueEqual(a,b){return(null!=a?a:void 0)===(null!=b?b:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(lC.close,{},a)}_onError(a){this._on(lC.error,{},b=>a(b))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lB.joining,this.joinPush.resend(a))}_getPayloadRecords(a){let b={new:{},old:{}};return("INSERT"===a.type||"UPDATE"===a.type)&&(b.new=Y(a.columns,a.record)),("UPDATE"===a.type||"DELETE"===a.type)&&(b.old=Y(a.columns,a.old_record)),b}}let aj=()=>{},ak=[1e3,2e3,5e3,1e4],al=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class am{constructor(a,b){var c;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=aj,this.ref=0,this.reconnectTimer=null,this.vsn=V,this.logger=aj,this.conn=null,this.sendBuffer=[],this.serializer=new W,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...b)=>a(...b):(...a)=>fetch(...a),!(null==(c=null==b?void 0:b.params)?void 0:c.apikey))throw Error("API key is required to connect to Realtime");this.apiKey=b.params.apikey,this.endPoint=`${a}/${lD.websocket}`,this.httpEndpoint=af(a),this._initializeOptions(b),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==b?void 0:b.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=U.createWebSocket(this.endpointURL())}catch(b){this._setConnectionState("disconnected");let a=b.message;if(a.includes("Node.js"))throw Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`);throw Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,b){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let c=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(c),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(a?this.conn.close(a,null!=b?b:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){let b=await a.unsubscribe();return"ok"===b&&this._remove(a),0===this.channels.length&&this.disconnect(),b}async removeAllChannels(){let a=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,b,c){this.logger(a,b,c)}connectionState(){switch(this.conn&&this.conn.readyState){case lA.connecting:return lE.Connecting;case lA.open:return lE.Open;case lA.closing:return lE.Closing;default:return lE.Closed}}isConnected(){return this.connectionState()===lE.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(a,b={config:{}}){let c=`realtime:${a}`,d=this.getChannels().find(a=>a.topic===c);if(d)return d;{let c=new ai(`realtime:${a}`,b,this);return this.channels.push(c),c}}push(a){let{topic:b,event:c,payload:d,ref:e}=a,f=()=>{this.encode(a,a=>{var b;null==(b=this.conn)||b.send(a)})};this.log("push",`${b} ${c} (${e})`,d),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,null==(a=this.conn)||a.close(1e3,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||null==(a=this.reconnectTimer)||a.scheduleTimeout()},100);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let b=this.channels.find(b=>b.topic===a&&(b._isJoined()||b._isJoining()));b&&(this.log("transport",`leaving duplicate topic "${a}"`),b.unsubscribe())}_remove(a){this.channels=this.channels.filter(b=>b.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,a=>{if("phoenix"===a.topic&&"phx_reply"===a.event&&a.ref&&a.ref===this.pendingHeartbeatRef){let b=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback("ok"===a.payload.status?"ok":"error",b)}catch(a){this.log("error","error in heartbeat callback",a)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:b,event:c,payload:d,ref:e}=a,f=e?`(${e})`:"",g=d.status||"";this.log("receive",`${g} ${b} ${c} ${f}`.trim(),d),this.channels.filter(a=>a._isMember(b)).forEach(a=>a._trigger(c,d,e)),this._triggerStateCallbacks("message",a)})}_clearTimer(a){var b;"heartbeat"===a&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===a&&(null==(b=this.reconnectTimer)||b.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===lA.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===lA.open||this.conn.readyState===lA.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{"keepAlive"===a.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var b;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null==(b=this.reconnectTimer)||b.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(a){this.log("error","error in heartbeat callback",a)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(lC.error))}_appendParams(a,b){if(0===Object.keys(b).length)return a;let c=a.match(/\?/)?"&":"?",d=new URLSearchParams(b);return`${a}${c}${d}`}_workerObjectUrl(a){let b;if(a)b=a;else{let a=new Blob([al],{type:"application/javascript"});b=URL.createObjectURL(a)}return b}_setConnectionState(a,b=!1){this._connectionState=a,"connecting"===a?this._wasManualDisconnect=!1:"disconnecting"===a&&(this._wasManualDisconnect=b)}async _performAuth(a=null){let b,c=!1;if(a)b=a,c=!0;else if(this.accessToken)try{b=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),b=this.accessTokenValue}else b=this.accessTokenValue;c?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=b&&(this.accessTokenValue=b,this.channels.forEach(a=>{let c={access_token:b,version:"realtime-js/2.95.3"};b&&a.updateJoinPayload(c),a.joinedOnce&&a._isJoined()&&a._push(lC.access_token,{access_token:b})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(b=>{this.log("error",`Error setting auth in ${a}`,b)})}_triggerStateCallbacks(a,b){try{this.stateChangeCallbacks[a].forEach(c=>{try{c(b)}catch(b){this.log("error",`error in ${a} callback`,b)}})}catch(b){this.log("error",`error triggering ${a} callbacks`,b)}}_setupReconnectionTimer(){this.reconnectTimer=new X(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},10)},this.reconnectAfterMs)}_initializeOptions(a){var b,c,d,e,f,g,h,i,j,k,l,m;switch(this.transport=null!=(b=null==a?void 0:a.transport)?b:null,this.timeout=null!=(c=null==a?void 0:a.timeout)?c:1e4,this.heartbeatIntervalMs=null!=(d=null==a?void 0:a.heartbeatIntervalMs)?d:25e3,this.worker=null!=(e=null==a?void 0:a.worker)&&e,this.accessToken=null!=(f=null==a?void 0:a.accessToken)?f:null,this.heartbeatCallback=null!=(g=null==a?void 0:a.heartbeatCallback)?g:aj,this.vsn=null!=(h=null==a?void 0:a.vsn)?h:V,(null==a?void 0:a.params)&&(this.params=a.params),(null==a?void 0:a.logger)&&(this.logger=a.logger),((null==a?void 0:a.logLevel)||(null==a?void 0:a.log_level))&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!=(i=null==a?void 0:a.reconnectAfterMs)?i:a=>ak[a-1]||1e4,this.vsn){case"1.0.0":this.encode=null!=(j=null==a?void 0:a.encode)?j:(a,b)=>b(JSON.stringify(a)),this.decode=null!=(k=null==a?void 0:a.decode)?k:(a,b)=>b(JSON.parse(a));break;case V:this.encode=null!=(l=null==a?void 0:a.encode)?l:this.serializer.encode.bind(this.serializer),this.decode=null!=(m=null==a?void 0:a.decode)?m:this.serializer.decode.bind(this.serializer);break;default:throw Error(`Unsupported serializer version: ${this.vsn}`)}this.worker&&(this.workerUrl=null==a?void 0:a.workerUrl)}}var an=class extends Error{constructor(a,b){super(a),this.name="IcebergError",this.status=b.status,this.icebergType=b.icebergType,this.icebergCode=b.icebergCode,this.details=b.details,this.isCommitStateUnknown="CommitStateUnknownException"===b.icebergType||[500,502,504].includes(b.status)&&b.icebergType?.includes("CommitState")===!0}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};async function ao(a){return a&&"none"!==a.type?"bearer"===a.type?{Authorization:`Bearer ${a.token}`}:"header"===a.type?{[a.name]:a.value}:"custom"===a.type?await a.getHeaders():{}:{}}function ap(a){return a.join("\x1f")}var aq=class{constructor(a,b=""){this.client=a,this.prefix=b}async listNamespaces(a){let b=a?{parent:ap(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:b})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(a,b){let c={namespace:a.namespace,properties:b?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:c})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ap(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ap(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ap(a.namespace)}`}),!0}catch(a){if(a instanceof an&&404===a.status)return!1;throw a}}async createNamespaceIfNotExists(a,b){try{return await this.createNamespace(a,b)}catch(a){if(a instanceof an&&409===a.status)return;throw a}}};function ar(a){return a.join("\x1f")}var as=class{constructor(a,b="",c){this.client=a,this.prefix=b,this.accessDelegation=c}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ar(a.namespace)}/tables`})).data.identifiers}async createTable(a,b){let c={};return this.accessDelegation&&(c["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ar(a.namespace)}/tables`,body:b,headers:c})).data.metadata}async updateTable(a,b){let c=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ar(a.namespace)}/tables/${a.name}`,body:b});return{"metadata-location":c.data["metadata-location"],metadata:c.data.metadata}}async dropTable(a,b){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ar(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String(b?.purge??!1)}})}async loadTable(a){let b={};return this.accessDelegation&&(b["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ar(a.namespace)}/tables/${a.name}`,headers:b})).data.metadata}async tableExists(a){let b={};this.accessDelegation&&(b["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ar(a.namespace)}/tables/${a.name}`,headers:b}),!0}catch(a){if(a instanceof an&&404===a.status)return!1;throw a}}async createTableIfNotExists(a,b){try{return await this.createTable(a,b)}catch(c){if(c instanceof an&&409===c.status)return await this.loadTable({namespace:a.namespace,name:b.name});throw c}}},at=class{constructor(a){let b="v1";a.catalogName&&(b+=`/${a.catalogName}`);const c=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=function(a){let b=a.fetchImpl??globalThis.fetch;return{async request({method:c,path:d,query:e,body:f,headers:g}){let h=function(a,b,c){let d=new URL(b,a);if(c)for(let[a,b]of Object.entries(c))void 0!==b&&d.searchParams.set(a,b);return d.toString()}(a.baseUrl,d,e),i=await ao(a.auth),j=await b(h,{method:c,headers:{...f?{"Content-Type":"application/json"}:{},...i,...g},body:f?JSON.stringify(f):void 0}),k=await j.text(),l=(j.headers.get("content-type")||"").includes("application/json"),m=l&&k?JSON.parse(k):k;if(!j.ok){let a=l?m:void 0,b=a?.error;throw new an(b?.message??`Request failed with status ${j.status}`,{status:j.status,icebergType:b?.type,icebergCode:b?.code,details:a})}return{status:j.status,headers:j.headers,data:m}}}}({baseUrl:c,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=a.accessDelegation?.join(","),this.namespaceOps=new aq(this.client,b),this.tableOps=new as(this.client,b,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,b){return this.namespaceOps.createNamespace(a,b)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,b){return this.tableOps.createTable(a,b)}async updateTable(a,b){return this.tableOps.updateTable(a,b)}async dropTable(a,b){await this.tableOps.dropTable(a,b)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,b){return this.namespaceOps.createNamespaceIfNotExists(a,b)}async createTableIfNotExists(a,b){return this.tableOps.createTableIfNotExists(a,b)}},au=class extends Error{constructor(a,b="storage",c,d){super(a),this.__isStorageError=!0,this.namespace=b,this.name="vectors"===b?"StorageVectorsError":"StorageError",this.status=c,this.statusCode=d}};function av(a){return"object"==typeof a&&null!==a&&"__isStorageError"in a}var aw=class extends au{constructor(a,b,c,d="storage"){super(a,d,b,c),this.name="vectors"===d?"StorageVectorsApiError":"StorageApiError",this.status=b,this.statusCode=c}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ax=class extends au{constructor(a,b,c="storage"){super(a,c),this.name="vectors"===c?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=b}};let ay=a=>{if(Array.isArray(a))return a.map(a=>ay(a));if("function"==typeof a||a!==Object(a))return a;let b={};return Object.entries(a).forEach(([a,c])=>{b[a.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""))]=ay(c)}),b};function az(a){return(az="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function aA(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aB(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aA(Object(c),!0).forEach(function(b){!function(a,b,c){var d;(d=function(a,b){if("object"!=az(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=az(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"==az(d)?d:d+"")in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c}(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aA(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}let aC=a=>{var b;return a.msg||a.message||a.error_description||("string"==typeof a.error?a.error:null==(b=a.error)?void 0:b.message)||JSON.stringify(a)},aD=async(a,b,c,d)=>{if(a&&"object"==typeof a&&"status"in a&&"ok"in a&&"number"==typeof a.status&&!(null==c?void 0:c.noResolveJson)){let c=a.status||500;"function"==typeof a.json?a.json().then(a=>{let e=(null==a?void 0:a.statusCode)||(null==a?void 0:a.code)||c+"";b(new aw(aC(a),c,e,d))}).catch(()=>{b(new aw(a.statusText||`HTTP ${c} error`,c,c+"",d))}):b(new aw(a.statusText||`HTTP ${c} error`,c,c+"",d))}else b(new ax(aC(a),a,d))};async function aE(a,b,c,d,e,f,g){return new Promise((h,i)=>{let j;a(c,(j={method:b,headers:(null==d?void 0:d.headers)||{}},"GET"===b||"HEAD"===b||!f||((a=>{if("object"!=typeof a||null===a)return!1;let b=Object.getPrototypeOf(a);return(null===b||b===Object.prototype||null===Object.getPrototypeOf(b))&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)})(f)?(j.headers=aB({"Content-Type":"application/json"},null==d?void 0:d.headers),j.body=JSON.stringify(f)):j.body=f,(null==d?void 0:d.duplex)&&(j.duplex=d.duplex)),aB(aB({},j),e))).then(a=>{if(!a.ok)throw a;if(null==d?void 0:d.noResolveJson)return a;if("vectors"===g){let b=a.headers.get("content-type");if("0"===a.headers.get("content-length")||204===a.status||!b||!b.includes("application/json"))return{}}return a.json()}).then(a=>h(a)).catch(a=>aD(a,i,d,g))})}function aF(a="storage"){return{get:async(b,c,d,e)=>aE(b,"GET",c,d,e,void 0,a),post:async(b,c,d,e,f)=>aE(b,"POST",c,e,f,d,a),put:async(b,c,d,e,f)=>aE(b,"PUT",c,e,f,d,a),head:async(b,c,d,e)=>aE(b,"HEAD",c,aB(aB({},d),{},{noResolveJson:!0}),e,void 0,a),remove:async(b,c,d,e,f)=>aE(b,"DELETE",c,e,f,d,a)}}let{get:aG,post:aH,put:aI,head:aJ,remove:aK}=aF("storage"),aL=aF("vectors");var aM=class{constructor(a,b={},c,d="storage"){this.shouldThrowOnError=!1,this.url=a,this.headers=b,this.fetch=(a=>a?(...b)=>a(...b):(...a)=>fetch(...a))(c),this.namespace=d}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(a){try{return{data:await a(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(av(a))return{data:null,error:a};throw a}}},aN=class{constructor(a,b){this.downloadFn=a,this.shouldThrowOnError=b}then(a,b){return this.execute().then(a,b)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(av(a))return{data:null,error:a};throw a}}};b=Symbol.toStringTag;var aO=class{constructor(a,c){this.downloadFn=a,this.shouldThrowOnError=c,this[b]="BlobDownloadBuilder",this.promise=null}asStream(){return new aN(this.downloadFn,this.shouldThrowOnError)}then(a,b){return this.getPromise().then(a,b)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await (await this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(av(a))return{data:null,error:a};throw a}}};let aP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},aQ={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var aR=class extends aM{constructor(a,b={},c,d){super(a,b,d,"storage"),this.bucketId=c}async uploadOrUpdate(a,b,c,d){var e=this;return e.handleOperation(async()=>{let f,g=aB(aB({},aQ),d),h=aB(aB({},e.headers),"POST"===a&&{"x-upsert":String(g.upsert)}),i=g.metadata;"u">typeof Blob&&c instanceof Blob?((f=new FormData).append("cacheControl",g.cacheControl),i&&f.append("metadata",e.encodeMetadata(i)),f.append("",c)):"u">typeof FormData&&c instanceof FormData?((f=c).has("cacheControl")||f.append("cacheControl",g.cacheControl),i&&!f.has("metadata")&&f.append("metadata",e.encodeMetadata(i))):(f=c,h["cache-control"]=`max-age=${g.cacheControl}`,h["content-type"]=g.contentType,i&&(h["x-metadata"]=e.toBase64(e.encodeMetadata(i))),("u">typeof ReadableStream&&f instanceof ReadableStream||f&&"object"==typeof f&&"pipe"in f&&"function"==typeof f.pipe)&&!g.duplex&&(g.duplex="half")),(null==d?void 0:d.headers)&&(h=aB(aB({},h),d.headers));let j=e._removeEmptyFolders(b),k=e._getFinalPath(j),l=await ("PUT"==a?aI:aH)(e.fetch,`${e.url}/object/${k}`,f,aB({headers:h},(null==g?void 0:g.duplex)?{duplex:g.duplex}:{}));return{path:j,id:l.Id,fullPath:l.Key}})}async upload(a,b,c){return this.uploadOrUpdate("POST",a,b,c)}async uploadToSignedUrl(a,b,c,d){var e=this;let f=e._removeEmptyFolders(a),g=e._getFinalPath(f),h=new URL(e.url+`/object/upload/sign/${g}`);return h.searchParams.set("token",b),e.handleOperation(async()=>{let a,b=aB({upsert:aQ.upsert},d),g=aB(aB({},e.headers),{"x-upsert":String(b.upsert)});return"u">typeof Blob&&c instanceof Blob?((a=new FormData).append("cacheControl",b.cacheControl),a.append("",c)):"u">typeof FormData&&c instanceof FormData?(a=c).append("cacheControl",b.cacheControl):(a=c,g["cache-control"]=`max-age=${b.cacheControl}`,g["content-type"]=b.contentType),{path:f,fullPath:(await aI(e.fetch,h.toString(),a,{headers:g})).Key}})}async createSignedUploadUrl(a,b){var c=this;return c.handleOperation(async()=>{let d=c._getFinalPath(a),e=aB({},c.headers);(null==b?void 0:b.upsert)&&(e["x-upsert"]="true");let f=await aH(c.fetch,`${c.url}/object/upload/sign/${d}`,{},{headers:e}),g=new URL(c.url+f.url),h=g.searchParams.get("token");if(!h)throw new au("No token returned by API");return{signedUrl:g.toString(),path:a,token:h}})}async update(a,b,c){return this.uploadOrUpdate("PUT",a,b,c)}async move(a,b,c){var d=this;return d.handleOperation(async()=>await aH(d.fetch,`${d.url}/object/move`,{bucketId:d.bucketId,sourceKey:a,destinationKey:b,destinationBucket:null==c?void 0:c.destinationBucket},{headers:d.headers}))}async copy(a,b,c){var d=this;return d.handleOperation(async()=>({path:(await aH(d.fetch,`${d.url}/object/copy`,{bucketId:d.bucketId,sourceKey:a,destinationKey:b,destinationBucket:null==c?void 0:c.destinationBucket},{headers:d.headers})).Key}))}async createSignedUrl(a,b,c){var d=this;return d.handleOperation(async()=>{let e=d._getFinalPath(a),f=await aH(d.fetch,`${d.url}/object/sign/${e}`,aB({expiresIn:b},(null==c?void 0:c.transform)?{transform:c.transform}:{}),{headers:d.headers}),g=(null==c?void 0:c.download)?`&download=${!0===c.download?"":c.download}`:"";return{signedUrl:encodeURI(`${d.url}${f.signedURL}${g}`)}})}async createSignedUrls(a,b,c){var d=this;return d.handleOperation(async()=>{let e=await aH(d.fetch,`${d.url}/object/sign/${d.bucketId}`,{expiresIn:b,paths:a},{headers:d.headers}),f=(null==c?void 0:c.download)?`&download=${!0===c.download?"":c.download}`:"";return e.map(a=>aB(aB({},a),{},{signedUrl:a.signedURL?encodeURI(`${d.url}${a.signedURL}${f}`):null}))})}download(a,b,c){let d=void 0!==(null==b?void 0:b.transform)?"render/image/authenticated":"object",e=this.transformOptsToQueryString((null==b?void 0:b.transform)||{}),f=e?`?${e}`:"",g=this._getFinalPath(a);return new aO(()=>aG(this.fetch,`${this.url}/${d}/${g}${f}`,{headers:this.headers,noResolveJson:!0},c),this.shouldThrowOnError)}async info(a){var b=this;let c=b._getFinalPath(a);return b.handleOperation(async()=>ay(await aG(b.fetch,`${b.url}/object/info/${c}`,{headers:b.headers})))}async exists(a){let b=this._getFinalPath(a);try{return await aJ(this.fetch,`${this.url}/object/${b}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(av(a)&&a instanceof ax){let b=a.originalError;if([400,404].includes(null==b?void 0:b.status))return{data:!1,error:a}}throw a}}getPublicUrl(a,b){let c=this._getFinalPath(a),d=[],e=(null==b?void 0:b.download)?`download=${!0===b.download?"":b.download}`:"";""!==e&&d.push(e);let f=void 0!==(null==b?void 0:b.transform)?"render/image":"object",g=this.transformOptsToQueryString((null==b?void 0:b.transform)||{});""!==g&&d.push(g);let h=d.join("&");return""!==h&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${c}${h}`)}}}async remove(a){var b=this;return b.handleOperation(async()=>await aK(b.fetch,`${b.url}/object/${b.bucketId}`,{prefixes:a},{headers:b.headers}))}async list(a,b,c){var d=this;return d.handleOperation(async()=>{let e=aB(aB(aB({},aP),b),{},{prefix:a||""});return await aH(d.fetch,`${d.url}/object/list/${d.bucketId}`,e,{headers:d.headers},c)})}async listV2(a,b){var c=this;return c.handleOperation(async()=>{let d=aB({},a);return await aH(c.fetch,`${c.url}/object/list-v2/${c.bucketId}`,d,{headers:c.headers},b)})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return"u">typeof Buffer?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){let b=[];return a.width&&b.push(`width=${a.width}`),a.height&&b.push(`height=${a.height}`),a.resize&&b.push(`resize=${a.resize}`),a.format&&b.push(`format=${a.format}`),a.quality&&b.push(`quality=${a.quality}`),b.join("&")}};let aS={"X-Client-Info":"storage-js/2.95.3"};var aT=class extends aM{constructor(a,b={},c,d){const e=new URL(a);(null==d?void 0:d.useNewHostname)&&/supabase\.(co|in|red)$/.test(e.hostname)&&!e.hostname.includes("storage.supabase.")&&(e.hostname=e.hostname.replace("supabase.","storage.supabase.")),super(e.href.replace(/\/$/,""),aB(aB({},aS),b),c,"storage")}async listBuckets(a){var b=this;return b.handleOperation(async()=>{let c=b.listBucketOptionsToQueryString(a);return await aG(b.fetch,`${b.url}/bucket${c}`,{headers:b.headers})})}async getBucket(a){var b=this;return b.handleOperation(async()=>await aG(b.fetch,`${b.url}/bucket/${a}`,{headers:b.headers}))}async createBucket(a,b={public:!1}){var c=this;return c.handleOperation(async()=>await aH(c.fetch,`${c.url}/bucket`,{id:a,name:a,type:b.type,public:b.public,file_size_limit:b.fileSizeLimit,allowed_mime_types:b.allowedMimeTypes},{headers:c.headers}))}async updateBucket(a,b){var c=this;return c.handleOperation(async()=>await aI(c.fetch,`${c.url}/bucket/${a}`,{id:a,name:a,public:b.public,file_size_limit:b.fileSizeLimit,allowed_mime_types:b.allowedMimeTypes},{headers:c.headers}))}async emptyBucket(a){var b=this;return b.handleOperation(async()=>await aH(b.fetch,`${b.url}/bucket/${a}/empty`,{},{headers:b.headers}))}async deleteBucket(a){var b=this;return b.handleOperation(async()=>await aK(b.fetch,`${b.url}/bucket/${a}`,{},{headers:b.headers}))}listBucketOptionsToQueryString(a){let b={};return a&&("limit"in a&&(b.limit=String(a.limit)),"offset"in a&&(b.offset=String(a.offset)),a.search&&(b.search=a.search),a.sortColumn&&(b.sortColumn=a.sortColumn),a.sortOrder&&(b.sortOrder=a.sortOrder)),Object.keys(b).length>0?"?"+new URLSearchParams(b).toString():""}},aU=class extends aM{constructor(a,b={},c){super(a.replace(/\/$/,""),aB(aB({},aS),b),c,"storage")}async createBucket(a){var b=this;return b.handleOperation(async()=>await aH(b.fetch,`${b.url}/bucket`,{name:a},{headers:b.headers}))}async listBuckets(a){var b=this;return b.handleOperation(async()=>{let c=new URLSearchParams;(null==a?void 0:a.limit)!==void 0&&c.set("limit",a.limit.toString()),(null==a?void 0:a.offset)!==void 0&&c.set("offset",a.offset.toString()),(null==a?void 0:a.sortColumn)&&c.set("sortColumn",a.sortColumn),(null==a?void 0:a.sortOrder)&&c.set("sortOrder",a.sortOrder),(null==a?void 0:a.search)&&c.set("search",a.search);let d=c.toString(),e=d?`${b.url}/bucket?${d}`:`${b.url}/bucket`;return await aG(b.fetch,e,{headers:b.headers})})}async deleteBucket(a){var b=this;return b.handleOperation(async()=>await aK(b.fetch,`${b.url}/bucket/${a}`,{},{headers:b.headers}))}from(a){var b=this;if(!(!(!a||"string"!=typeof a||0===a.length||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\"))&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(a)))throw new au("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let c=new at({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>b.headers},fetch:this.fetch}),d=this.shouldThrowOnError;return new Proxy(c,{get(a,b){let c=a[b];return"function"!=typeof c?c:async(...b)=>{try{return{data:await c.apply(a,b),error:null}}catch(a){if(d)throw a;return{data:null,error:a}}}}})}},aV=class extends aM{constructor(a,b={},c){super(a.replace(/\/$/,""),aB(aB({},aS),{},{"Content-Type":"application/json"},b),c,"vectors")}async createIndex(a){var b=this;return b.handleOperation(async()=>await aL.post(b.fetch,`${b.url}/CreateIndex`,a,{headers:b.headers})||{})}async getIndex(a,b){var c=this;return c.handleOperation(async()=>await aL.post(c.fetch,`${c.url}/GetIndex`,{vectorBucketName:a,indexName:b},{headers:c.headers}))}async listIndexes(a){var b=this;return b.handleOperation(async()=>await aL.post(b.fetch,`${b.url}/ListIndexes`,a,{headers:b.headers}))}async deleteIndex(a,b){var c=this;return c.handleOperation(async()=>await aL.post(c.fetch,`${c.url}/DeleteIndex`,{vectorBucketName:a,indexName:b},{headers:c.headers})||{})}},aW=class extends aM{constructor(a,b={},c){super(a.replace(/\/$/,""),aB(aB({},aS),{},{"Content-Type":"application/json"},b),c,"vectors")}async putVectors(a){var b=this;if(a.vectors.length<1||a.vectors.length>500)throw Error("Vector batch size must be between 1 and 500 items");return b.handleOperation(async()=>await aL.post(b.fetch,`${b.url}/PutVectors`,a,{headers:b.headers})||{})}async getVectors(a){var b=this;return b.handleOperation(async()=>await aL.post(b.fetch,`${b.url}/GetVectors`,a,{headers:b.headers}))}async listVectors(a){var b=this;if(void 0!==a.segmentCount){if(a.segmentCount<1||a.segmentCount>16)throw Error("segmentCount must be between 1 and 16");if(void 0!==a.segmentIndex&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return b.handleOperation(async()=>await aL.post(b.fetch,`${b.url}/ListVectors`,a,{headers:b.headers}))}async queryVectors(a){var b=this;return b.handleOperation(async()=>await aL.post(b.fetch,`${b.url}/QueryVectors`,a,{headers:b.headers}))}async deleteVectors(a){var b=this;if(a.keys.length<1||a.keys.length>500)throw Error("Keys batch size must be between 1 and 500 items");return b.handleOperation(async()=>await aL.post(b.fetch,`${b.url}/DeleteVectors`,a,{headers:b.headers})||{})}},aX=class extends aM{constructor(a,b={},c){super(a.replace(/\/$/,""),aB(aB({},aS),{},{"Content-Type":"application/json"},b),c,"vectors")}async createBucket(a){var b=this;return b.handleOperation(async()=>await aL.post(b.fetch,`${b.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:b.headers})||{})}async getBucket(a){var b=this;return b.handleOperation(async()=>await aL.post(b.fetch,`${b.url}/GetVectorBucket`,{vectorBucketName:a},{headers:b.headers}))}async listBuckets(a={}){var b=this;return b.handleOperation(async()=>await aL.post(b.fetch,`${b.url}/ListVectorBuckets`,a,{headers:b.headers}))}async deleteBucket(a){var b=this;return b.handleOperation(async()=>await aL.post(b.fetch,`${b.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:b.headers})||{})}},aY=class extends aX{constructor(a,b={}){super(a,b.headers||{},b.fetch)}from(a){return new aZ(this.url,this.headers,a,this.fetch)}async createBucket(a){return super.createBucket.call(this,a)}async getBucket(a){return super.getBucket.call(this,a)}async listBuckets(a={}){return super.listBuckets.call(this,a)}async deleteBucket(a){return super.deleteBucket.call(this,a)}},aZ=class extends aV{constructor(a,b,c,d){super(a,b,d),this.vectorBucketName=c}async createIndex(a){return super.createIndex.call(this,aB(aB({},a),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(a={}){return super.listIndexes.call(this,aB(aB({},a),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(a){return super.getIndex.call(this,this.vectorBucketName,a)}async deleteIndex(a){return super.deleteIndex.call(this,this.vectorBucketName,a)}index(a){return new a$(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},a$=class extends aW{constructor(a,b,c,d,e){super(a,b,e),this.vectorBucketName=c,this.indexName=d}async putVectors(a){return super.putVectors.call(this,aB(aB({},a),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async getVectors(a){return super.getVectors.call(this,aB(aB({},a),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async listVectors(a={}){return super.listVectors.call(this,aB(aB({},a),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async queryVectors(a){return super.queryVectors.call(this,aB(aB({},a),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async deleteVectors(a){return super.deleteVectors.call(this,aB(aB({},a),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}},a_=class extends aT{constructor(a,b={},c,d){super(a,b,c,d)}from(a){return new aR(this.url,this.headers,a,this.fetch)}get vectors(){return new aY(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new aU(this.url+"/iceberg",this.headers,this.fetch)}};let a0="2.95.3",a1={"X-Client-Info":`gotrue-js/${a0}`},a2="X-Supabase-Api-Version",a3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},a4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class a5 extends Error{constructor(a,b,c){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=b,this.code=c}}function a6(a){return"object"==typeof a&&null!==a&&"__isAuthError"in a}class a7 extends a5{constructor(a,b,c){super(a,b,c),this.name="AuthApiError",this.status=b,this.code=c}}class a8 extends a5{constructor(a,b){super(a),this.name="AuthUnknownError",this.originalError=b}}class a9 extends a5{constructor(a,b,c,d){super(a,c,d),this.name=b,this.status=c}}class ba extends a9{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bb(a){return a6(a)&&"AuthSessionMissingError"===a.name}class bc extends a9{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bd extends a9{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class be extends a9{constructor(a,b=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=b}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bf extends a9{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class bg extends a9{constructor(a,b){super(a,"AuthRetryableFetchError",b,void 0)}}function bh(a){return a6(a)&&"AuthRetryableFetchError"===a.name}class bi extends a9{constructor(a,b,c){super(a,"AuthWeakPasswordError",b,"weak_password"),this.reasons=c}}class bj extends a9{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}let bk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bl=" 	\n\r=".split(""),bm=(()=>{let a=Array(128);for(let b=0;b<a.length;b+=1)a[b]=-1;for(let b=0;b<bl.length;b+=1)a[bl[b].charCodeAt(0)]=-2;for(let b=0;b<bk.length;b+=1)a[bk[b].charCodeAt(0)]=b;return a})();function bn(a,b,c){if(null!==a)for(b.queue=b.queue<<8|a,b.queuedBits+=8;b.queuedBits>=6;)c(bk[b.queue>>b.queuedBits-6&63]),b.queuedBits-=6;else if(b.queuedBits>0)for(b.queue=b.queue<<6-b.queuedBits,b.queuedBits=6;b.queuedBits>=6;)c(bk[b.queue>>b.queuedBits-6&63]),b.queuedBits-=6}function bo(a,b,c){let d=bm[a];if(d>-1)for(b.queue=b.queue<<6|d,b.queuedBits+=6;b.queuedBits>=8;)c(b.queue>>b.queuedBits-8&255),b.queuedBits-=8;else if(-2===d)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}function bp(a){let b=[],c=a=>{b.push(String.fromCodePoint(a))},d={utf8seq:0,codepoint:0},e={queue:0,queuedBits:0},f=a=>{!function(a,b,c){if(0===b.utf8seq){if(a<=127)return c(a);for(let c=1;c<6;c+=1)if((a>>7-c&1)==0){b.utf8seq=c;break}if(2===b.utf8seq)b.codepoint=31&a;else if(3===b.utf8seq)b.codepoint=15&a;else if(4===b.utf8seq)b.codepoint=7&a;else throw Error("Invalid UTF-8 sequence");b.utf8seq-=1}else if(b.utf8seq>0){if(a<=127)throw Error("Invalid UTF-8 sequence");b.codepoint=b.codepoint<<6|63&a,b.utf8seq-=1,0===b.utf8seq&&c(b.codepoint)}}(a,d,c)};for(let b=0;b<a.length;b+=1)bo(a.charCodeAt(b),e,f);return b.join("")}function bq(a){let b=[],c={queue:0,queuedBits:0},d=a=>{b.push(a)};for(let b=0;b<a.length;b+=1)bo(a.charCodeAt(b),c,d);return new Uint8Array(b)}function br(a){let b=[],c={queue:0,queuedBits:0},d=a=>{b.push(a)};return a.forEach(a=>bn(a,c,d)),bn(null,c,d),b.join("")}let bs=a=>a?(...b)=>a(...b):(...a)=>fetch(...a),bt=async(a,b,c)=>{await a.setItem(b,JSON.stringify(c))},bu=async(a,b)=>{let c=await a.getItem(b);if(!c)return null;try{return JSON.parse(c)}catch(a){return c}},bv=async(a,b)=>{await a.removeItem(b)};class bw{constructor(){this.promise=new bw.promiseConstructor((a,b)=>{this.resolve=a,this.reject=b})}}function bx(a){let b=a.split(".");if(3!==b.length)throw new bj("Invalid JWT structure");for(let a=0;a<b.length;a++)if(!a4.test(b[a]))throw new bj("JWT not in base64url format");return{header:JSON.parse(bp(b[0])),payload:JSON.parse(bp(b[1])),signature:bq(b[2]),raw:{header:b[0],payload:b[1]}}}async function by(a){return await new Promise(b=>{setTimeout(()=>b(null),a)})}function bz(a){return("0"+a.toString(16)).substr(-2)}async function bA(a){let b=new TextEncoder().encode(a);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",b))).map(a=>String.fromCharCode(a)).join("")}async function bB(a){return"u">typeof crypto&&void 0!==crypto.subtle&&"u">typeof TextEncoder?btoa(await bA(a)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a)}async function bC(a,b,c=!1){let d=function(){let a=new Uint32Array(56);if("u"<typeof crypto){let a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",b=a.length,c="";for(let d=0;d<56;d++)c+=a.charAt(Math.floor(Math.random()*b));return c}return crypto.getRandomValues(a),Array.from(a,bz).join("")}(),e=d;c&&(e+="/PASSWORD_RECOVERY"),await bt(a,`${b}-code-verifier`,e);let f=await bB(d),g=d===f?"plain":"s256";return[f,g]}bw.promiseConstructor=Promise;let bD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,bE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bF(a){if(!bE.test(a))throw Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function bG(){return new Proxy({},{get:(a,b)=>{if("__isUserNotAvailableProxy"===b)return!0;if("symbol"==typeof b){let a=b.toString();if("Symbol(Symbol.toPrimitive)"===a||"Symbol(Symbol.toStringTag)"===a||"Symbol(util.inspect.custom)"===a)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${b}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,b)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${b}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,b)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${b}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bH(a){return JSON.parse(JSON.stringify(a))}let bI=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),bJ=[502,503,504];async function bK(a){var b;let c,d;if(!("object"==typeof a&&null!==a&&"status"in a&&"ok"in a&&"json"in a&&"function"==typeof a.json))throw new bg(bI(a),0);if(bJ.includes(a.status))throw new bg(bI(a),a.status);try{c=await a.json()}catch(a){throw new a8(bI(a),a)}let e=function(a){let b=a.headers.get(a2);if(!b||!b.match(bD))return null;try{return new Date(`${b}T00:00:00.0Z`)}catch(a){return null}}(a);if(e&&e.getTime()>=a3["2024-01-01"].timestamp&&"object"==typeof c&&c&&"string"==typeof c.code?d=c.code:"object"==typeof c&&c&&"string"==typeof c.error_code&&(d=c.error_code),d){if("weak_password"===d)throw new bi(bI(c),a.status,(null==(b=c.weak_password)?void 0:b.reasons)||[]);else if("session_not_found"===d)throw new ba}else if("object"==typeof c&&c&&"object"==typeof c.weak_password&&c.weak_password&&Array.isArray(c.weak_password.reasons)&&c.weak_password.reasons.length&&c.weak_password.reasons.reduce((a,b)=>a&&"string"==typeof b,!0))throw new bi(bI(c),a.status,c.weak_password.reasons);throw new a7(bI(c),a.status||500,d)}async function bL(a,b,c,d){var e;let f=Object.assign({},null==d?void 0:d.headers);f[a2]||(f[a2]=a3["2024-01-01"].name),(null==d?void 0:d.jwt)&&(f.Authorization=`Bearer ${d.jwt}`);let g=null!=(e=null==d?void 0:d.query)?e:{};(null==d?void 0:d.redirectTo)&&(g.redirect_to=d.redirectTo);let h=Object.keys(g).length?"?"+new URLSearchParams(g).toString():"",i=await bM(a,b,c+h,{headers:f,noResolveJson:null==d?void 0:d.noResolveJson},{},null==d?void 0:d.body);return(null==d?void 0:d.xform)?null==d?void 0:d.xform(i):{data:Object.assign({},i),error:null}}async function bM(a,b,c,d,e,f){let g,h,i=(h={method:b,headers:(null==d?void 0:d.headers)||{}},"GET"===b?h:(h.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==d?void 0:d.headers),h.body=JSON.stringify(f),Object.assign(Object.assign({},h),e)));try{g=await a(c,Object.assign({},i))}catch(a){throw console.error(a),new bg(bI(a),0)}if(g.ok||await bK(g),null==d?void 0:d.noResolveJson)return g;try{return await g.json()}catch(a){await bK(a)}}function bN(a){var b,c,d;let e=null;(d=a).access_token&&d.refresh_token&&d.expires_in&&(e=Object.assign({},a),a.expires_at||(e.expires_at=(c=a.expires_in,Math.round(Date.now()/1e3)+c)));return{data:{session:e,user:null!=(b=a.user)?b:a},error:null}}function bO(a){let b=bN(a);return!b.error&&a.weak_password&&"object"==typeof a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&"string"==typeof a.weak_password.message&&a.weak_password.reasons.reduce((a,b)=>a&&"string"==typeof b,!0)&&(b.data.weak_password=a.weak_password),b}function bP(a){var b;return{data:{user:null!=(b=a.user)?b:a},error:null}}function bQ(a){return{data:a,error:null}}function bR(a){let{action_link:b,email_otp:c,hashed_token:d,redirect_to:e,verification_type:f}=a;return{data:{properties:{action_link:b,email_otp:c,hashed_token:d,redirect_to:e,verification_type:f},user:Object.assign({},I(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]))},error:null}}function bS(a){return a}let bT=["global","local","others"];class bU{constructor({url:a="",headers:b={},fetch:c}){this.url=a,this.headers=b,this.fetch=bs(c),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,b=bT[0]){if(0>bT.indexOf(b))throw Error(`@supabase/auth-js: Parameter scope must be one of ${bT.join(", ")}`);try{return await bL(this.fetch,"POST",`${this.url}/logout?scope=${b}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(a){if(a6(a))return{data:null,error:a};throw a}}async inviteUserByEmail(a,b={}){try{return await bL(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:b.data},headers:this.headers,redirectTo:b.redirectTo,xform:bP})}catch(a){if(a6(a))return{data:{user:null},error:a};throw a}}async generateLink(a){try{let{options:b}=a,c=I(a,["options"]),d=Object.assign(Object.assign({},c),b);return"newEmail"in c&&(d.new_email=null==c?void 0:c.newEmail,delete d.newEmail),await bL(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:bR,redirectTo:null==b?void 0:b.redirectTo})}catch(a){if(a6(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(a){try{return await bL(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:bP})}catch(a){if(a6(a))return{data:{user:null},error:a};throw a}}async listUsers(a){var b,c,d,e,f,g,h;try{let i={nextPage:null,lastPage:0,total:0},j=await bL(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(c=null==(b=null==a?void 0:a.page)?void 0:b.toString())?c:"",per_page:null!=(e=null==(d=null==a?void 0:a.perPage)?void 0:d.toString())?e:""},xform:bS});if(j.error)throw j.error;let k=await j.json(),l=null!=(f=j.headers.get("x-total-count"))?f:0,m=null!=(h=null==(g=j.headers.get("link"))?void 0:g.split(","))?h:[];return m.length>0&&(m.forEach(a=>{let b=parseInt(a.split(";")[0].split("=")[1].substring(0,1)),c=JSON.parse(a.split(";")[1].split("=")[1]);i[`${c}Page`]=b}),i.total=parseInt(l)),{data:Object.assign(Object.assign({},k),i),error:null}}catch(a){if(a6(a))return{data:{users:[]},error:a};throw a}}async getUserById(a){bF(a);try{return await bL(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:bP})}catch(a){if(a6(a))return{data:{user:null},error:a};throw a}}async updateUserById(a,b){bF(a);try{return await bL(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:b,headers:this.headers,xform:bP})}catch(a){if(a6(a))return{data:{user:null},error:a};throw a}}async deleteUser(a,b=!1){bF(a);try{return await bL(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:b},xform:bP})}catch(a){if(a6(a))return{data:{user:null},error:a};throw a}}async _listFactors(a){bF(a.userId);try{let{data:b,error:c}=await bL(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:b,error:c}}catch(a){if(a6(a))return{data:null,error:a};throw a}}async _deleteFactor(a){bF(a.userId),bF(a.id);try{return{data:await bL(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(a){if(a6(a))return{data:null,error:a};throw a}}async _listOAuthClients(a){var b,c,d,e,f,g,h;try{let i={nextPage:null,lastPage:0,total:0},j=await bL(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(c=null==(b=null==a?void 0:a.page)?void 0:b.toString())?c:"",per_page:null!=(e=null==(d=null==a?void 0:a.perPage)?void 0:d.toString())?e:""},xform:bS});if(j.error)throw j.error;let k=await j.json(),l=null!=(f=j.headers.get("x-total-count"))?f:0,m=null!=(h=null==(g=j.headers.get("link"))?void 0:g.split(","))?h:[];return m.length>0&&(m.forEach(a=>{let b=parseInt(a.split(";")[0].split("=")[1].substring(0,1)),c=JSON.parse(a.split(";")[1].split("=")[1]);i[`${c}Page`]=b}),i.total=parseInt(l)),{data:Object.assign(Object.assign({},k),i),error:null}}catch(a){if(a6(a))return{data:{clients:[]},error:a};throw a}}async _createOAuthClient(a){try{return await bL(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(a6(a))return{data:null,error:a};throw a}}async _getOAuthClient(a){try{return await bL(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(a6(a))return{data:null,error:a};throw a}}async _updateOAuthClient(a,b){try{return await bL(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:b,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(a6(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(a){try{return await bL(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(a6(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(a){try{return await bL(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(a6(a))return{data:null,error:a};throw a}}}function bV(a={}){return{getItem:b=>a[b]||null,setItem:(b,c)=>{a[b]=c},removeItem:b=>{delete a[b]}}}globalThis;class bW extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}function bX(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}class bY extends Error{constructor({message:a,code:b,cause:c,name:d}){var e;super(a,{cause:c}),this.__isWebAuthnError=!0,this.name=null!=(e=null!=d?d:c instanceof Error?c.name:void 0)?e:"Unknown Error",this.code=b}}class bZ extends bY{constructor(a,b){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:b,message:a}),this.name="WebAuthnUnknownError",this.originalError=b}}let b$=new class{createNewAbortSignal(){if(this.controller){let a=Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}let a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){let a=Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}};function b_(a){return"localhost"===a||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}async function b0(a){try{let b=await navigator.credentials.create(a);if(!b)return{data:null,error:new bZ("Empty credential response",b)};if(!(b instanceof PublicKeyCredential))return{data:null,error:new bZ("Browser returned unexpected credential type",b)};return{data:b,error:null}}catch(b){return{data:null,error:function({error:a,options:b}){var c,d,e;let{publicKey:f}=b;if(!f)throw Error("options was missing required publicKey property");if("AbortError"===a.name){if(b.signal instanceof AbortSignal)return new bY({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if("ConstraintError"===a.name){if((null==(c=f.authenticatorSelection)?void 0:c.requireResidentKey)===!0)return new bY({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});else if("conditional"===b.mediation&&(null==(d=f.authenticatorSelection)?void 0:d.userVerification)==="required")return new bY({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});else if((null==(e=f.authenticatorSelection)?void 0:e.userVerification)==="required")return new bY({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else if("InvalidStateError"===a.name)return new bY({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});else if("NotAllowedError"===a.name)return new bY({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});else if("NotSupportedError"===a.name)return new bY(0===f.pubKeyCredParams.filter(a=>"public-key"===a.type).length?{message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}:{message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});else if("SecurityError"===a.name){let b=window.location.hostname;if(!b_(b))return new bY({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a});if(f.rp.id!==b)return new bY({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else if("TypeError"===a.name){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new bY({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if("UnknownError"===a.name)return new bY({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a});return new bY({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}({error:b,options:a})}}}async function b1(a){try{let b=await navigator.credentials.get(a);if(!b)return{data:null,error:new bZ("Empty credential response",b)};if(!(b instanceof PublicKeyCredential))return{data:null,error:new bZ("Browser returned unexpected credential type",b)};return{data:b,error:null}}catch(b){return{data:null,error:function({error:a,options:b}){let{publicKey:c}=b;if(!c)throw Error("options was missing required publicKey property");if("AbortError"===a.name){if(b.signal instanceof AbortSignal)return new bY({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if("NotAllowedError"===a.name)return new bY({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});else if("SecurityError"===a.name){let b=window.location.hostname;if(!b_(b))return new bY({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a});if(c.rpId!==b)return new bY({message:`The RP ID "${c.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else if("UnknownError"===a.name)return new bY({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a});return new bY({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}({error:b,options:a})}}}let b2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},b3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function b4(...a){let b=a=>null!==a&&"object"==typeof a&&!Array.isArray(a),c=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),d={};for(let e of a)if(e)for(let a in e){let f=e[a];if(void 0!==f)if(Array.isArray(f))d[a]=f;else if(c(f))d[a]=f;else if(b(f)){let c=d[a];b(c)?d[a]=b4(c,f):d[a]=b4(f)}else d[a]=f}return d}class b5{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:b,friendlyName:c,signal:d},e){var f,g,h,i,j;try{let{data:k,error:l}=await this.client.mfa.challenge({factorId:a,webauthn:b});if(!k)return{data:null,error:l};let m=null!=d?d:b$.createNewAbortSignal();if("create"===k.webauthn.type){let{user:a}=k.webauthn.credential_options.publicKey;if(!a.name)if(c)a.name=`${a.id}:${c}`;else{let b=(await this.client.getUser()).data.user,c=(null==(f=null==b?void 0:b.user_metadata)?void 0:f.name)||(null==b?void 0:b.email)||(null==b?void 0:b.id)||"User";a.name=`${a.id}:${c}`}a.displayName||(a.displayName=a.name)}switch(k.webauthn.type){case"create":{let b=(g=k.webauthn.credential_options.publicKey,h=null==e?void 0:e.create,b4(b2,g,h||{})),{data:c,error:d}=await b0({publicKey:b,signal:m});if(c)return{data:{factorId:a,challengeId:k.id,webauthn:{type:k.webauthn.type,credential_response:c}},error:null};return{data:null,error:d}}case"request":{let b=(i=k.webauthn.credential_options.publicKey,j=null==e?void 0:e.request,b4(b3,i,j||{})),{data:c,error:d}=await b1(Object.assign(Object.assign({},k.webauthn.credential_options),{publicKey:b,signal:m}));if(c)return{data:{factorId:a,challengeId:k.id,webauthn:{type:k.webauthn.type,credential_response:c}},error:null};return{data:null,error:d}}}}catch(a){if(a6(a))return{data:null,error:a};return{data:null,error:new a8("Unexpected error in challenge",a)}}}async _verify({challengeId:a,factorId:b,webauthn:c}){return this.client.mfa.verify({factorId:b,challengeId:a,webauthn:c})}async _authenticate({factorId:a,webauthn:{rpId:b,rpOrigins:c,signal:d}={}},e){if(!b)return{data:null,error:new a5("rpId is required for WebAuthn authentication")};try{1;return{data:null,error:new a8("Browser does not support WebAuthn",null)}}catch(a){if(a6(a))return{data:null,error:a};return{data:null,error:new a8("Unexpected error in authenticate",a)}}}async _register({friendlyName:a,webauthn:{rpId:b,rpOrigins:c,signal:d}={}},e){if(!b)return{data:null,error:new a5("rpId is required for WebAuthn registration")};try{1;return{data:null,error:new a8("Browser does not support WebAuthn",null)}}catch(a){if(a6(a))return{data:null,error:a};return{data:null,error:new a8("Unexpected error in register",a)}}}}if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(a){"u">typeof self&&(self.globalThis=self)}let b6={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:a1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function b7(a,b,c){return await c()}let b8={};class b9{get jwks(){var a,b;return null!=(b=null==(a=b8[this.storageKey])?void 0:a.jwks)?b:{keys:[]}}set jwks(a){b8[this.storageKey]=Object.assign(Object.assign({},b8[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,b;return null!=(b=null==(a=b8[this.storageKey])?void 0:a.cachedAt)?b:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){b8[this.storageKey]=Object.assign(Object.assign({},b8[this.storageKey]),{cachedAt:a})}constructor(a){var b;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},b6),a);this.storageKey=c.storageKey,this.instanceID=null!=(b=b9.nextInstanceID[this.storageKey])?b:0,b9.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,"function"==typeof c.debug&&(this.logger=c.debug),this.instanceID,this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new bU({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=bs(c.fetch),this.lock=c.lock||b7,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:(this.persistSession,this.lock=b7),this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new b5(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:(this.memoryStorage={},this.storage=bV(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=bV(this.memoryStorage)),this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${a0}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){try{return await this._recoverAndRefresh(),{error:null}}catch(a){if(a6(a))return this._returnResult({error:a});return this._returnResult({error:new a8("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var b,c,d;try{let{data:e,error:f}=await bL(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!=(c=null==(b=null==a?void 0:a.options)?void 0:b.data)?c:{},gotrue_meta_security:{captcha_token:null==(d=null==a?void 0:a.options)?void 0:d.captchaToken}},xform:bN});if(f||!e)return this._returnResult({data:{user:null,session:null},error:f});let g=e.session,h=e.user;return e.session&&(await this._saveSession(e.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:h,session:g},error:null})}catch(a){if(a6(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(a){var b,c,d;try{let e;if("email"in a){let{email:c,password:d,options:f}=a,g=null,h=null;"pkce"===this.flowType&&([g,h]=await bC(this.storage,this.storageKey)),e=await bL(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==f?void 0:f.emailRedirectTo,body:{email:c,password:d,data:null!=(b=null==f?void 0:f.data)?b:{},gotrue_meta_security:{captcha_token:null==f?void 0:f.captchaToken},code_challenge:g,code_challenge_method:h},xform:bN})}else if("phone"in a){let{phone:b,password:f,options:g}=a;e=await bL(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:f,data:null!=(c=null==g?void 0:g.data)?c:{},channel:null!=(d=null==g?void 0:g.channel)?d:"sms",gotrue_meta_security:{captcha_token:null==g?void 0:g.captchaToken}},xform:bN})}else throw new bd("You must provide either an email or phone number and a password");let{data:f,error:g}=e;if(g||!f)return await bv(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});let h=f.session,i=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:i,session:h},error:null})}catch(a){if(await bv(this.storage,`${this.storageKey}-code-verifier`),a6(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(a){try{let b;if("email"in a){let{email:c,password:d,options:e}=a;b=await bL(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},xform:bO})}else if("phone"in a){let{phone:c,password:d,options:e}=a;b=await bL(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},xform:bO})}else throw new bd("You must provide either an email or phone number and a password");let{data:c,error:d}=b;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){let a=new bc;return this._returnResult({data:{user:null,session:null},error:a})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign({user:c.user,session:c.session},c.weak_password?{weakPassword:c.weak_password}:null),error:d})}catch(a){if(a6(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(a){var b,c,d,e;return await this._handleProviderSignIn(a.provider,{redirectTo:null==(b=a.options)?void 0:b.redirectTo,scopes:null==(c=a.options)?void 0:c.scopes,queryParams:null==(d=a.options)?void 0:d.queryParams,skipBrowserRedirect:null==(e=a.options)?void 0:e.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){let{chain:b}=a;switch(b){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw Error(`@supabase/auth-js: Unsupported chain "${b}"`)}}async signInWithEthereum(a){var b,c,d,e,f,g,h,i,j,k,l,m;let n,o;if("message"in a)n=a.message,o=a.signature;else{let{chain:k,wallet:l,statement:p,options:q}=a;if("object"!=typeof l||!(null==q?void 0:q.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");let r=new URL(null!=(b=null==q?void 0:q.url)?b:window.location.href),s=await l.request({method:"eth_requestAccounts"}).then(a=>a).catch(()=>{throw Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!s||0===s.length)throw Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let t=bX(s[0]),u=null==(c=null==q?void 0:q.signInWithEthereum)?void 0:c.chainId;u||(u=parseInt(await l.request({method:"eth_chainId"}),16)),n=function(a){var b;let{chainId:c,domain:d,expirationTime:e,issuedAt:f=new Date,nonce:g,notBefore:h,requestId:i,resources:j,scheme:k,uri:l,version:m}=a;if(!Number.isInteger(c))throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${c}`);if(!d)throw Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(g&&g.length<8)throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${g}`);if(!l)throw Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==m)throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(null==(b=a.statement)?void 0:b.includes("\n"))throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`);let n=bX(a.address),o=k?`${k}://${d}`:d,p=a.statement?`${a.statement}
`:"",q=`${o} wants you to sign in with your Ethereum account:
${n}

${p}`,r=`URI: ${l}
Version: ${m}
Chain ID: ${c}${g?`
Nonce: ${g}`:""}
Issued At: ${f.toISOString()}`;if(e&&(r+=`
Expiration Time: ${e.toISOString()}`),h&&(r+=`
Not Before: ${h.toISOString()}`),i&&(r+=`
Request ID: ${i}`),j){let a="\nResources:";for(let b of j){if(!b||"string"!=typeof b)throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);a+=`
- ${b}`}r+=a}return`${q}
${r}`}({domain:r.host,address:t,statement:p,uri:r.href,version:"1",chainId:u,nonce:null==(d=null==q?void 0:q.signInWithEthereum)?void 0:d.nonce,issuedAt:null!=(f=null==(e=null==q?void 0:q.signInWithEthereum)?void 0:e.issuedAt)?f:new Date,expirationTime:null==(g=null==q?void 0:q.signInWithEthereum)?void 0:g.expirationTime,notBefore:null==(h=null==q?void 0:q.signInWithEthereum)?void 0:h.notBefore,requestId:null==(i=null==q?void 0:q.signInWithEthereum)?void 0:i.requestId,resources:null==(j=null==q?void 0:q.signInWithEthereum)?void 0:j.resources}),o=await l.request({method:"personal_sign",params:[(m=n,"0x"+Array.from(new TextEncoder().encode(m),a=>a.toString(16).padStart(2,"0")).join("")),t]})}try{let{data:b,error:c}=await bL(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:n,signature:o},(null==(k=a.options)?void 0:k.captchaToken)?{gotrue_meta_security:{captcha_token:null==(l=a.options)?void 0:l.captchaToken}}:null),xform:bN});if(c)throw c;if(!b||!b.session||!b.user){let a=new bc;return this._returnResult({data:{user:null,session:null},error:a})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:c})}catch(a){if(a6(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSolana(a){var b,c,d,e,f,g,h,i,j,k,l,m;let n,o;if("message"in a)n=a.message,o=a.signature;else{let{chain:l,wallet:m,statement:p,options:q}=a;if("object"!=typeof m||!(null==q?void 0:q.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");let r=new URL(null!=(b=null==q?void 0:q.url)?b:window.location.href);if("signIn"in m&&m.signIn){let a,b=await m.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},null==q?void 0:q.signInWithSolana),{version:"1",domain:r.host,uri:r.href}),p?{statement:p}:null));if(Array.isArray(b)&&b[0]&&"object"==typeof b[0])a=b[0];else if(b&&"object"==typeof b&&"signedMessage"in b&&"signature"in b)a=b;else throw Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in a&&"signature"in a&&("string"==typeof a.signedMessage||a.signedMessage instanceof Uint8Array)&&a.signature instanceof Uint8Array)n="string"==typeof a.signedMessage?a.signedMessage:new TextDecoder().decode(a.signedMessage),o=a.signature;else throw Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in m)||"function"!=typeof m.signMessage||!("publicKey"in m)||"object"!=typeof m||!m.publicKey||!("toBase58"in m.publicKey)||"function"!=typeof m.publicKey.toBase58)throw Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");n=[`${r.host} wants you to sign in with your Solana account:`,m.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${r.href}`,`Issued At: ${null!=(d=null==(c=null==q?void 0:q.signInWithSolana)?void 0:c.issuedAt)?d:new Date().toISOString()}`,...(null==(e=null==q?void 0:q.signInWithSolana)?void 0:e.notBefore)?[`Not Before: ${q.signInWithSolana.notBefore}`]:[],...(null==(f=null==q?void 0:q.signInWithSolana)?void 0:f.expirationTime)?[`Expiration Time: ${q.signInWithSolana.expirationTime}`]:[],...(null==(g=null==q?void 0:q.signInWithSolana)?void 0:g.chainId)?[`Chain ID: ${q.signInWithSolana.chainId}`]:[],...(null==(h=null==q?void 0:q.signInWithSolana)?void 0:h.nonce)?[`Nonce: ${q.signInWithSolana.nonce}`]:[],...(null==(i=null==q?void 0:q.signInWithSolana)?void 0:i.requestId)?[`Request ID: ${q.signInWithSolana.requestId}`]:[],...(null==(k=null==(j=null==q?void 0:q.signInWithSolana)?void 0:j.resources)?void 0:k.length)?["Resources",...q.signInWithSolana.resources.map(a=>`- ${a}`)]:[]].join("\n");let a=await m.signMessage(new TextEncoder().encode(n),"utf8");if(!a||!(a instanceof Uint8Array))throw Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");o=a}}try{let{data:b,error:c}=await bL(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:n,signature:br(o)},(null==(l=a.options)?void 0:l.captchaToken)?{gotrue_meta_security:{captcha_token:null==(m=a.options)?void 0:m.captchaToken}}:null),xform:bN});if(c)throw c;if(!b||!b.session||!b.user){let a=new bc;return this._returnResult({data:{user:null,session:null},error:a})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:c})}catch(a){if(a6(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _exchangeCodeForSession(a){let b=await bu(this.storage,`${this.storageKey}-code-verifier`),[c,d]=(null!=b?b:"").split("/");try{if(!c&&"pkce"===this.flowType)throw new bf;let{data:b,error:e}=await bL(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:c},xform:bN});if(await bv(this.storage,`${this.storageKey}-code-verifier`),e)throw e;if(!b||!b.session||!b.user){let a=new bc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign(Object.assign({},b),{redirectType:null!=d?d:null}),error:e})}catch(a){if(await bv(this.storage,`${this.storageKey}-code-verifier`),a6(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(a){try{let{options:b,provider:c,token:d,access_token:e,nonce:f}=a,{data:g,error:h}=await bL(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:c,id_token:d,access_token:e,nonce:f,gotrue_meta_security:{captcha_token:null==b?void 0:b.captchaToken}},xform:bN});if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!g||!g.session||!g.user){let a=new bc;return this._returnResult({data:{user:null,session:null},error:a})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:h})}catch(a){if(a6(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(a){var b,c,d,e,f;try{if("email"in a){let{email:d,options:e}=a,f=null,g=null;"pkce"===this.flowType&&([f,g]=await bC(this.storage,this.storageKey));let{error:h}=await bL(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:null!=(b=null==e?void 0:e.data)?b:{},create_user:null==(c=null==e?void 0:e.shouldCreateUser)||c,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:null==e?void 0:e.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in a){let{phone:b,options:c}=a,{data:g,error:h}=await bL(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:b,data:null!=(d=null==c?void 0:c.data)?d:{},create_user:null==(e=null==c?void 0:c.shouldCreateUser)||e,gotrue_meta_security:{captcha_token:null==c?void 0:c.captchaToken},channel:null!=(f=null==c?void 0:c.channel)?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null==g?void 0:g.message_id},error:h})}throw new bd("You must provide either an email or phone number.")}catch(a){if(await bv(this.storage,`${this.storageKey}-code-verifier`),a6(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(a){var b,c;try{let d,e;"options"in a&&(d=null==(b=a.options)?void 0:b.redirectTo,e=null==(c=a.options)?void 0:c.captchaToken);let{data:f,error:g}=await bL(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:e}}),redirectTo:d,xform:bN});if(g)throw g;if(!f)throw Error("An error occurred on token verification.");let h=f.session,i=f.user;return(null==h?void 0:h.access_token)&&(await this._saveSession(h),await this._notifyAllSubscribers("recovery"==a.type?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:i,session:h},error:null})}catch(a){if(a6(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(a){var b,c,d,e;try{let f=null,g=null;"pkce"===this.flowType&&([f,g]=await bC(this.storage,this.storageKey));let h=await bL(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:null!=(c=null==(b=a.options)?void 0:b.redirectTo)?c:void 0}),(null==(d=null==a?void 0:a.options)?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:g}),headers:this.headers,xform:bQ});return null==(e=h.data)||e.url,this._returnResult(h)}catch(a){if(await bv(this.storage,`${this.storageKey}-code-verifier`),a6(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{let{data:{session:b},error:c}=a;if(c)throw c;if(!b)throw new ba;let{error:d}=await bL(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:b.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(a){if(a6(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{let b=`${this.url}/resend`;if("email"in a){let{email:c,type:d,options:e}=a,{error:f}=await bL(this.fetch,"POST",b,{headers:this.headers,body:{email:c,type:d,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},redirectTo:null==e?void 0:e.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in a){let{phone:c,type:d,options:e}=a,{data:f,error:g}=await bL(this.fetch,"POST",b,{headers:this.headers,body:{phone:c,type:d,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null==f?void 0:f.message_id},error:g})}throw new bd("You must provide either an email or phone number and a type")}catch(a){if(a6(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async a=>a))}async _acquireLock(a,b){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){let a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await a,await b()))();return this.pendingInLock.push((async()=>{try{await c}catch(a){}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let a=b();for(this.pendingInLock.push((async()=>{try{await a}catch(a){}})()),await a;this.pendingInLock.length;){let a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{let b=await this.__loadSession();return await a(b)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let b=null,c=await bu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",c),null!==c&&(this._isValidSession(c)?b=c:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!b)return{data:{session:null},error:null};let d=!!b.expires_at&&1e3*b.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${d?"":" not"} expired`,"expires_at",b.expires_at),!d){if(this.userStorage){let a=await bu(this.userStorage,this.storageKey+"-user");(null==a?void 0:a.user)?b.user=a.user:b.user=bG()}if(this.storage.isServer&&b.user&&!b.user.__isUserNotAvailableProxy){var a;let c={value:this.suppressGetSessionWarning};b.user=(a=b.user,new Proxy(a,{get:(a,b,d)=>{if("__isInsecureUserWarningProxy"===b)return!0;if("symbol"==typeof b){let c=b.toString();if("Symbol(Symbol.toPrimitive)"===c||"Symbol(Symbol.toStringTag)"===c||"Symbol(util.inspect.custom)"===c||"Symbol(nodejs.util.inspect.custom)"===c)return Reflect.get(a,b,d)}return c.value||"string"!=typeof b||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c.value=!0),Reflect.get(a,b,d)}})),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:b},error:null}}let{data:e,error:f}=await this._callRefreshToken(b.refresh_token);if(f)return this._returnResult({data:{session:null},error:f});return this._returnResult({data:{session:e},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;let b=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return b.data.user&&(this.suppressGetSessionWarning=!0),b}async _getUser(a){try{if(a)return await bL(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:bP});return await this._useSession(async a=>{var b,c,d;let{data:e,error:f}=a;if(f)throw f;return(null==(b=e.session)?void 0:b.access_token)||this.hasCustomAuthorizationHeader?await bL(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!=(d=null==(c=e.session)?void 0:c.access_token)?d:void 0,xform:bP}):{data:{user:null},error:new ba}})}catch(a){if(a6(a))return bb(a)&&(await this._removeSession(),await bv(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(a,b={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,b))}async _updateUser(a,b={}){try{return await this._useSession(async c=>{let{data:d,error:e}=c;if(e)throw e;if(!d.session)throw new ba;let f=d.session,g=null,h=null;"pkce"===this.flowType&&null!=a.email&&([g,h]=await bC(this.storage,this.storageKey));let{data:i,error:j}=await bL(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==b?void 0:b.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:g,code_challenge_method:h}),jwt:f.access_token,xform:bP});if(j)throw j;return f.user=i.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(a){if(await bv(this.storage,`${this.storageKey}-code-verifier`),a6(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new ba;let b=Date.now()/1e3,c=b,d=!0,e=null,{payload:f}=bx(a.access_token);if(f.exp&&(d=(c=f.exp)<=b),d){let{data:b,error:c}=await this._callRefreshToken(a.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!b)return{data:{user:null,session:null},error:null};e=b}else{let{data:d,error:f}=await this._getUser(a.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});e={access_token:a.access_token,refresh_token:a.refresh_token,user:d.user,token_type:"bearer",expires_in:c-b,expires_at:c},await this._saveSession(e),await this._notifyAllSubscribers("SIGNED_IN",e)}return this._returnResult({data:{user:e.user,session:e},error:null})}catch(a){if(a6(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async b=>{var c;if(!a){let{data:d,error:e}=b;if(e)throw e;a=null!=(c=d.session)?c:void 0}if(!(null==a?void 0:a.refresh_token))throw new ba;let{data:d,error:e}=await this._callRefreshToken(a.refresh_token);return e?this._returnResult({data:{user:null,session:null},error:e}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(a6(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(a,b){try{throw new be("No browser detected.")}catch(a){if(a6(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(a){return"function"==typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){let b=await bu(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&b)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async b=>{var c;let{data:d,error:e}=b;if(e&&!bb(e))return this._returnResult({error:e});let f=null==(c=d.session)?void 0:c.access_token;if(f){let{error:b}=await this.admin.signOut(f,a);if(b&&!(a6(b)&&"AuthApiError"===b.name&&(404===b.status||401===b.status||403===b.status)||bb(b)))return this._returnResult({error:b})}return"others"!==a&&(await this._removeSession(),await bv(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){let b=Symbol("auth-callback"),c={id:b,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",b),this.stateChangeEmitters.delete(b)}};return this._debug("#onAuthStateChange()","registered callback with id",b),this.stateChangeEmitters.set(b,c),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(b)})})(),{data:{subscription:c}}}async _emitInitialSession(a){return await this._useSession(async b=>{var c,d;try{let{data:{session:d},error:e}=b;if(e)throw e;await (null==(c=this.stateChangeEmitters.get(a))?void 0:c.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(b){await (null==(d=this.stateChangeEmitters.get(a))?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",b),console.error(b)}})}async resetPasswordForEmail(a,b={}){let c=null,d=null;"pkce"===this.flowType&&([c,d]=await bC(this.storage,this.storageKey,!0));try{return await bL(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:c,code_challenge_method:d,gotrue_meta_security:{captcha_token:b.captchaToken}},headers:this.headers,redirectTo:b.redirectTo})}catch(a){if(await bv(this.storage,`${this.storageKey}-code-verifier`),a6(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var a;try{let{data:b,error:c}=await this.getUser();if(c)throw c;return this._returnResult({data:{identities:null!=(a=b.user.identities)?a:[]},error:null})}catch(a){if(a6(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){try{let{data:b,error:c}=await this._useSession(async b=>{var c,d,e,f,g;let{data:h,error:i}=b;if(i)throw i;let j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:null==(c=a.options)?void 0:c.redirectTo,scopes:null==(d=a.options)?void 0:d.scopes,queryParams:null==(e=a.options)?void 0:e.queryParams,skipBrowserRedirect:!0});return await bL(this.fetch,"GET",j,{headers:this.headers,jwt:null!=(g=null==(f=h.session)?void 0:f.access_token)?g:void 0})});if(c)throw c;return this._returnResult({data:{provider:a.provider,url:null==b?void 0:b.url},error:null})}catch(b){if(a6(b))return this._returnResult({data:{provider:a.provider,url:null},error:b});throw b}}async linkIdentityIdToken(a){return await this._useSession(async b=>{var c;try{let{error:d,data:{session:e}}=b;if(d)throw d;let{options:f,provider:g,token:h,access_token:i,nonce:j}=a,{data:k,error:l}=await bL(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!=(c=null==e?void 0:e.access_token)?c:void 0,body:{provider:g,id_token:h,access_token:i,nonce:j,link_identity:!0,gotrue_meta_security:{captcha_token:null==f?void 0:f.captchaToken}},xform:bN});if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!k||!k.session||!k.user)return this._returnResult({data:{user:null,session:null},error:new bc});return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:l})}catch(a){if(await bv(this.storage,`${this.storageKey}-code-verifier`),a6(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(a){try{return await this._useSession(async b=>{var c,d;let{data:e,error:f}=b;if(f)throw f;return await bL(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:null!=(d=null==(c=e.session)?void 0:c.access_token)?d:void 0})})}catch(a){if(a6(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(a){let b=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(b,"begin");try{var c,d;let e=Date.now();return await (c=async c=>(c>0&&await by(200*Math.pow(2,c-1)),this._debug(b,"refreshing attempt",c),await bL(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:bN})),d=(a,b)=>{let c=200*Math.pow(2,a);return b&&bh(b)&&Date.now()+c-e<3e4},new Promise((a,b)=>{(async()=>{for(let e=0;e<1/0;e++)try{let b=await c(e);if(!d(e,null,b))return void a(b)}catch(a){if(!d(e,a))return void b(a)}})()}))}catch(a){if(this._debug(b,"error",a),a6(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(b,"end")}}_isValidSession(a){return"object"==typeof a&&null!==a&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,b){let c=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:b.redirectTo,scopes:b.scopes,queryParams:b.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",b,"url",c),{data:{provider:a,url:c},error:null}}async _recoverAndRefresh(){var a,b;let c="#_recoverAndRefresh()";this._debug(c,"begin");try{let d=await bu(this.storage,this.storageKey);if(d&&this.userStorage){let b=await bu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!b&&(b={user:d.user},await bt(this.userStorage,this.storageKey+"-user",b)),d.user=null!=(a=null==b?void 0:b.user)?a:bG()}else if(d&&!d.user&&!d.user){let a=await bu(this.storage,this.storageKey+"-user");a&&(null==a?void 0:a.user)?(d.user=a.user,await bv(this.storage,this.storageKey+"-user"),await bt(this.storage,this.storageKey,d)):d.user=bG()}if(this._debug(c,"session from storage",d),!this._isValidSession(d)){this._debug(c,"session is not valid"),null!==d&&await this._removeSession();return}let e=(null!=(b=d.expires_at)?b:1/0)*1e3-Date.now()<9e4;if(this._debug(c,`session has${e?"":" not"} expired with margin of 90000s`),e){if(this.autoRefreshToken&&d.refresh_token){let{error:a}=await this._callRefreshToken(d.refresh_token);a&&(console.error(a),bh(a)||(this._debug(c,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(d.user&&!0===d.user.__isUserNotAvailableProxy)try{let{data:a,error:b}=await this._getUser(d.access_token);!b&&(null==a?void 0:a.user)?(d.user=a.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(c,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(c,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(a){this._debug(c,"error",a),console.error(a);return}finally{this._debug(c,"end")}}async _callRefreshToken(a){var b,c;if(!a)throw new ba;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let d=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new bw;let{data:b,error:c}=await this._refreshAccessToken(a);if(c)throw c;if(!b.session)throw new ba;await this._saveSession(b.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",b.session);let d={data:b.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(d,"error",a),a6(a)){let c={data:null,error:a};return bh(a)||await this._removeSession(),null==(b=this.refreshingDeferred)||b.resolve(c),c}throw null==(c=this.refreshingDeferred)||c.reject(a),a}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(a,b,c=!0){let d=`#_notifyAllSubscribers(${a})`;this._debug(d,"begin",b,`broadcast = ${c}`);try{this.broadcastChannel&&c&&this.broadcastChannel.postMessage({event:a,session:b});let d=[],e=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(a,b)}catch(a){d.push(a)}});if(await Promise.all(e),d.length>0){for(let a=0;a<d.length;a+=1)console.error(d[a]);throw d[0]}}finally{this._debug(d,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await bv(this.storage,`${this.storageKey}-code-verifier`);let b=Object.assign({},a),c=b.user&&!0===b.user.__isUserNotAvailableProxy;if(this.userStorage){!c&&b.user&&await bt(this.userStorage,this.storageKey+"-user",{user:b.user});let a=Object.assign({},b);delete a.user;let d=bH(a);await bt(this.storage,this.storageKey,d)}else{let a=bH(b);await bt(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await bv(this.storage,this.storageKey),await bv(this.storage,this.storageKey+"-code-verifier"),await bv(this.storage,this.storageKey+"-user"),this.userStorage&&await bv(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()"),this.visibilityChangedCallback,this.visibilityChangedCallback=null}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let a=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=a,a&&"object"==typeof a&&"function"==typeof a.unref?a.unref():"u">typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(a);let b=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=b,b&&"object"==typeof b&&"function"==typeof b.unref?b.unref():"u">typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(b)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);let b=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,b&&clearTimeout(b)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let a=Date.now();try{return await this._useSession(async b=>{let{data:{session:c}}=b;if(!c||!c.refresh_token||!c.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");let d=Math.floor((1e3*c.expires_at-a)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),d<=3&&await this._callRefreshToken(c.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof bW)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){return this._debug("#_handleVisibilityChange()"),this.autoRefreshToken&&this.startAutoRefresh(),!1}async _onVisibilityChanged(a){let b=`#_onVisibilityChanged(${a})`;this._debug(b,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{"visible"!==document.visibilityState?this._debug(b,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting"):await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,b,c){let d=[`provider=${encodeURIComponent(b)}`];if((null==c?void 0:c.redirectTo)&&d.push(`redirect_to=${encodeURIComponent(c.redirectTo)}`),(null==c?void 0:c.scopes)&&d.push(`scopes=${encodeURIComponent(c.scopes)}`),"pkce"===this.flowType){let[a,b]=await bC(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(b)}`});d.push(c.toString())}if(null==c?void 0:c.queryParams){let a=new URLSearchParams(c.queryParams);d.push(a.toString())}return(null==c?void 0:c.skipBrowserRedirect)&&d.push(`skip_http_redirect=${c.skipBrowserRedirect}`),`${a}?${d.join("&")}`}async _unenroll(a){try{return await this._useSession(async b=>{var c;let{data:d,error:e}=b;return e?this._returnResult({data:null,error:e}):await bL(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:null==(c=null==d?void 0:d.session)?void 0:c.access_token})})}catch(a){if(a6(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(a){try{return await this._useSession(async b=>{var c,d;let{data:e,error:f}=b;if(f)return this._returnResult({data:null,error:f});let g=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},"phone"===a.factorType?{phone:a.phone}:"totp"===a.factorType?{issuer:a.issuer}:{}),{data:h,error:i}=await bL(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:null==(c=null==e?void 0:e.session)?void 0:c.access_token});return i?this._returnResult({data:null,error:i}):("totp"===a.factorType&&"totp"===h.type&&(null==(d=null==h?void 0:h.totp)?void 0:d.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(a){if(a6(a))return this._returnResult({data:null,error:a});throw a}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async b=>{var c,d,e;let{data:f,error:g}=b;if(g)return this._returnResult({data:null,error:g});let h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:"create"===a.webauthn.type?(d=a.webauthn.credential_response,"toJSON"in d&&"function"==typeof d.toJSON?d.toJSON():{id:d.id,rawId:d.id,response:{attestationObject:br(new Uint8Array(d.response.attestationObject)),clientDataJSON:br(new Uint8Array(d.response.clientDataJSON))},type:"public-key",clientExtensionResults:d.getClientExtensionResults(),authenticatorAttachment:null!=(e=d.authenticatorAttachment)?e:void 0}):function(a){var b;if("toJSON"in a&&"function"==typeof a.toJSON)return a.toJSON();let c=a.getClientExtensionResults(),d=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:br(new Uint8Array(d.authenticatorData)),clientDataJSON:br(new Uint8Array(d.clientDataJSON)),signature:br(new Uint8Array(d.signature)),userHandle:d.userHandle?br(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:c,authenticatorAttachment:null!=(b=a.authenticatorAttachment)?b:void 0}}(a.webauthn.credential_response)})}:{code:a.code}),{data:i,error:j}=await bL(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:null==(c=null==f?void 0:f.session)?void 0:c.access_token});return j?this._returnResult({data:null,error:j}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),this._returnResult({data:i,error:j}))})}catch(a){if(a6(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async b=>{var c;let{data:d,error:e}=b;if(e)return this._returnResult({data:null,error:e});let f=await bL(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:null==(c=null==d?void 0:d.session)?void 0:c.access_token});if(f.error)return f;let{data:g}=f;if("webauthn"!==g.type)return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:function(a){if(!a)throw Error("Credential creation options are required");if("u">typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(a);let{challenge:b,user:c,excludeCredentials:d}=a,e=I(a,["challenge","user","excludeCredentials"]),f=bq(b).buffer,g=Object.assign(Object.assign({},c),{id:bq(c.id).buffer}),h=Object.assign(Object.assign({},e),{challenge:f,user:g});if(d&&d.length>0){h.excludeCredentials=Array(d.length);for(let a=0;a<d.length;a++){let b=d[a];h.excludeCredentials[a]=Object.assign(Object.assign({},b),{id:bq(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return h}(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:function(a){if(!a)throw Error("Credential request options are required");if("u">typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(a);let{challenge:b,allowCredentials:c}=a,d=I(a,["challenge","allowCredentials"]),e=bq(b).buffer,f=Object.assign(Object.assign({},d),{challenge:e});if(c&&c.length>0){f.allowCredentials=Array(c.length);for(let a=0;a<c.length;a++){let b=c[a];f.allowCredentials[a]=Object.assign(Object.assign({},b),{id:bq(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return f}(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(a6(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(a){let{data:b,error:c}=await this._challenge({factorId:a.factorId});return c?this._returnResult({data:null,error:c}):await this._verify({factorId:a.factorId,challengeId:b.id,code:a.code})}async _listFactors(){var a;let{data:{user:b},error:c}=await this.getUser();if(c)return{data:null,error:c};let d={all:[],phone:[],totp:[],webauthn:[]};for(let c of null!=(a=null==b?void 0:b.factors)?a:[])d.all.push(c),"verified"===c.status&&d[c.factor_type].push(c);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(a){var b,c,d,e;if(a)try{let{payload:d}=bx(a),e=null;d.aal&&(e=d.aal);let f=e,{data:{user:g},error:h}=await this.getUser(a);if(h)return this._returnResult({data:null,error:h});(null!=(c=null==(b=null==g?void 0:g.factors)?void 0:b.filter(a=>"verified"===a.status))?c:[]).length>0&&(f="aal2");let i=d.amr||[];return{data:{currentLevel:e,nextLevel:f,currentAuthenticationMethods:i},error:null}}catch(a){if(a6(a))return this._returnResult({data:null,error:a});throw a}let{data:{session:f},error:g}=await this.getSession();if(g)return this._returnResult({data:null,error:g});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:h}=bx(f.access_token),i=null;h.aal&&(i=h.aal);let j=i;return(null!=(e=null==(d=f.user.factors)?void 0:d.filter(a=>"verified"===a.status))?e:[]).length>0&&(j="aal2"),{data:{currentLevel:i,nextLevel:j,currentAuthenticationMethods:h.amr||[]},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async b=>{let{data:{session:c},error:d}=b;return d?this._returnResult({data:null,error:d}):c?await bL(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:c.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ba})})}catch(a){if(a6(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(a,b){try{return await this._useSession(async b=>{let{data:{session:c},error:d}=b;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new ba});let e=await bL(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return e.data&&e.data.redirect_url,e})}catch(a){if(a6(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(a,b){try{return await this._useSession(async b=>{let{data:{session:c},error:d}=b;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new ba});let e=await bL(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return e.data&&e.data.redirect_url,e})}catch(a){if(a6(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async a=>{let{data:{session:b},error:c}=a;return c?this._returnResult({data:null,error:c}):b?await bL(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:b.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ba})})}catch(a){if(a6(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async b=>{let{data:{session:c},error:d}=b;return d?this._returnResult({data:null,error:d}):c?(await bL(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:c.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ba})})}catch(a){if(a6(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(a,b={keys:[]}){let c=b.keys.find(b=>b.kid===a);if(c)return c;let d=Date.now();if((c=this.jwks.keys.find(b=>b.kid===a))&&this.jwks_cached_at+6e5>d)return c;let{data:e,error:f}=await bL(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return e.keys&&0!==e.keys.length&&(this.jwks=e,this.jwks_cached_at=d,c=e.keys.find(b=>b.kid===a))?c:null}async getClaims(a,b={}){try{var c;let d,e=a;if(!e){let{data:a,error:b}=await this.getSession();if(b||!a.session)return this._returnResult({data:null,error:b});e=a.session.access_token}let{header:f,payload:g,signature:h,raw:{header:i,payload:j}}=bx(e);(null==b?void 0:b.allowExpired)||function(a){if(!a)throw Error("Missing exp claim");if(a<=Math.floor(Date.now()/1e3))throw Error("JWT has expired")}(g.exp);let k=!f.alg||f.alg.startsWith("HS")||!f.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(f.kid,(null==b?void 0:b.keys)?{keys:b.keys}:null==b?void 0:b.jwks);if(!k){let{error:a}=await this.getUser(e);if(a)throw a;return{data:{claims:g,header:f,signature:h},error:null}}let l=function(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw Error("Invalid alg claim")}}(f.alg),m=await crypto.subtle.importKey("jwk",k,l,!0,["verify"]);if(!await crypto.subtle.verify(l,m,h,(c=`${i}.${j}`,d=[],!function(a,b){for(let c=0;c<a.length;c+=1){let d=a.charCodeAt(c);if(d>55295&&d<=56319){let b=(d-55296)*1024&65535;d=(a.charCodeAt(c+1)-56320&65535|b)+65536,c+=1}!function(a,b){if(a<=127)return b(a);if(a<=2047){b(192|a>>6),b(128|63&a);return}if(a<=65535){b(224|a>>12),b(128|a>>6&63),b(128|63&a);return}if(a<=1114111){b(240|a>>18),b(128|a>>12&63),b(128|a>>6&63),b(128|63&a);return}throw Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}(d,b)}}(c,a=>d.push(a)),new Uint8Array(d))))throw new bj("Invalid JWT signature");return{data:{claims:g,header:f,signature:h},error:null}}catch(a){if(a6(a))return this._returnResult({data:null,error:a});throw a}}}b9.nextInstanceID={};let ca=b9,cb="";cb="u">typeof Deno?"deno":"u">typeof document?"web":"u">typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";let cc={headers:{"X-Client-Info":`supabase-js-${cb}/2.95.3`}},cd={schema:"public"},ce={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cf={};function cg(a){return(cg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function ch(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ci(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ch(Object(c),!0).forEach(function(b){!function(a,b,c){var d;(d=function(a,b){if("object"!=cg(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=cg(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"==cg(d)?d:d+"")in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c}(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ch(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var cj=class extends ca{constructor(a){super(a)}},ck=class{constructor(a,b,c){var d,e,f;this.supabaseUrl=a,this.supabaseKey=b;const g=function(a){let b=null==a?void 0:a.trim();if(!b)throw Error("supabaseUrl is required.");if(!b.match(/^https?:\/\//i))throw Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(b.endsWith("/")?b:b+"/")}catch(a){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(a);if(!b)throw Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const h=`sb-${g.hostname.split(".")[0]}-auth-token`,i=function(a,b){var c,d;let{db:e,auth:f,realtime:g,global:h}=a,{db:i,auth:j,realtime:k,global:l}=b,m={db:ci(ci({},i),e),auth:ci(ci({},j),f),realtime:ci(ci({},k),g),storage:{},global:ci(ci(ci({},l),h),{},{headers:ci(ci({},null!=(c=null==l?void 0:l.headers)?c:{}),null!=(d=null==h?void 0:h.headers)?d:{})}),accessToken:async()=>""};return a.accessToken?m.accessToken=a.accessToken:delete m.accessToken,m}(null!=c?c:{},{db:cd,realtime:cf,auth:ci(ci({},ce),{},{storageKey:h}),global:cc});this.storageKey=null!=(d=i.auth.storageKey)?d:"",this.headers=null!=(e=i.global.headers)?e:{},i.accessToken?(this.accessToken=i.accessToken,this.auth=new Proxy({},{get:(a,b)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!=(f=i.auth)?f:{},this.headers,i.global.fetch),this.fetch=((a,b,c)=>{let d=c?(...a)=>c(...a):(...a)=>fetch(...a),e=Headers;return async(c,f)=>{var g;let h=null!=(g=await b())?g:a,i=new e(null==f?void 0:f.headers);return i.has("apikey")||i.set("apikey",a),i.has("Authorization")||i.set("Authorization",`Bearer ${h}`),d(c,ci(ci({},f),{},{headers:i}))}})(b,this._getAccessToken.bind(this),i.global.fetch),this.realtime=this._initRealtimeClient(ci({headers:this.headers,accessToken:this._getAccessToken.bind(this)},i.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(a=>this.realtime.setAuth(a)).catch(a=>console.warn("Failed to set initial Realtime auth token:",a)),this.rest=new T(new URL("rest/v1",g).href,{headers:this.headers,schema:i.db.schema,fetch:this.fetch,timeout:i.db.timeout,urlLengthLimit:i.db.urlLengthLimit}),this.storage=new a_(this.storageUrl.href,this.headers,this.fetch,null==c?void 0:c.storage),i.accessToken||this._listenForAuthEvents()}get functions(){return new J(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,b={},c={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,b,c)}channel(a,b={config:{}}){return this.realtime.channel(a,b)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a,b;if(this.accessToken)return await this.accessToken();let{data:c}=await this.auth.getSession();return null!=(a=null==(b=c.session)?void 0:b.access_token)?a:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:b,detectSessionInUrl:c,storage:d,userStorage:e,storageKey:f,flowType:g,lock:h,debug:i,throwOnError:j},k,l){let m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cj({url:this.authUrl.href,headers:ci(ci({},m),k),storageKey:f,autoRefreshToken:a,persistSession:b,detectSessionInUrl:c,storage:d,userStorage:e,flowType:g,lock:h,debug:i,throwOnError:j,fetch:l,hasCustomAuthorizationHeader:Object.keys(this.headers).some(a=>"authorization"===a.toLowerCase())})}_initRealtimeClient(a){return new am(this.realtimeUrl.href,ci(ci({},a),{},{params:ci(ci({},{apikey:this.supabaseKey}),null==a?void 0:a.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,b)=>{this._handleTokenChanged(a,"CLIENT",null==b?void 0:b.access_token)})}_handleTokenChanged(a,b,c){("TOKEN_REFRESHED"===a||"SIGNED_IN"===a)&&this.changedAccessToken!==c?(this.changedAccessToken=c,this.realtime.setAuth(c)):"SIGNED_OUT"===a&&(this.realtime.setAuth(),"STORAGE"==b&&this.auth.signOut(),this.changedAccessToken=void 0)}};(function(){let a=globalThis.process;if(!a)return!1;let b=a.version;if(null==b)return!1;let c=b.match(/^v(\d+)\./);return!!c&&18>=parseInt(c[1],10)})()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let cl=new ck("https://cqrizcfxvaeqgbrmisjo.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxcml6Y2Z4dmFlcWdicm1pc2pvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA2MjQ1MzYsImV4cCI6MjA4NjIwMDUzNn0.6AMkIHsMndpYGVdSYi8e97V9LumRtkG3JPBQD9dlNCc",void 0),cm=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim(),cn=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)};var co={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let cp=(0,D.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:e="",children:f,iconNode:g,...h},i)=>(0,D.createElement)("svg",{ref:i,...co,width:b,height:b,stroke:a,strokeWidth:d?24*Number(c)/Number(b):c,className:cm("lucide",e),...!f&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0;return!1})(h)&&{"aria-hidden":"true"},...h},[...g.map(([a,b])=>(0,D.createElement)(a,b)),...Array.isArray(f)?f:[f]])),cq=(a,b)=>{let c=(0,D.forwardRef)(({className:c,...d},e)=>(0,D.createElement)(cp,{ref:e,iconNode:b,className:cm(`lucide-${cn(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,c),...d}));return c.displayName=cn(a),c},cr=cq("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),cs=cq("circle-arrow-up",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]),ct=cq("circle-arrow-down",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]),cu=cq("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),cv=cq("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),cw=cq("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),cx=cq("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),cy=cq("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),cz=cq("utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]),cA=cq("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),cB=cq("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),cC=cq("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),cD=cq("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),cE=cq("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),cF=cq("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),cG=cq("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var cH=Symbol.for("immer-nothing"),cI=Symbol.for("immer-draftable"),cJ=Symbol.for("immer-state");function cK(a){throw Error(`[Immer] minified error nr: ${a}. Full error at: https://bit.ly/3cXEKWf`)}var cL=Object,cM=cL.getPrototypeOf,cN="constructor",cO="prototype",cP="configurable",cQ="enumerable",cR="writable",cS="value",cT=a=>!!a&&!!a[cJ];function cU(a){return!!a&&(cX(a)||c1(a)||!!a[cI]||!!a[cN]?.[cI]||c2(a)||c3(a))}var cV=cL[cO][cN].toString(),cW=new WeakMap;function cX(a){if(!a||!c4(a))return!1;let b=cM(a);if(null===b||b===cL[cO])return!0;let c=cL.hasOwnProperty.call(b,cN)&&b[cN];if(c===Object)return!0;if(!c5(c))return!1;let d=cW.get(c);return void 0===d&&(d=Function.toString.call(c),cW.set(c,d)),d===cV}function cY(a,b,c=!0){0===cZ(a)?(c?Reflect.ownKeys(a):cL.keys(a)).forEach(c=>{b(c,a[c],a)}):a.forEach((c,d)=>b(d,c,a))}function cZ(a){let b=a[cJ];return b?b.type_:c1(a)?1:c2(a)?2:3*!!c3(a)}var c$=(a,b,c=cZ(a))=>2===c?a.has(b):cL[cO].hasOwnProperty.call(a,b),c_=(a,b,c=cZ(a))=>2===c?a.get(b):a[b],c0=(a,b,c,d=cZ(a))=>{2===d?a.set(b,c):3===d?a.add(c):a[b]=c},c1=Array.isArray,c2=a=>a instanceof Map,c3=a=>a instanceof Set,c4=a=>"object"==typeof a,c5=a=>"function"==typeof a,c6=a=>a.modified_?a.copy_:a.base_;function c7(a,b){if(c2(a))return new Map(a);if(c3(a))return new Set(a);if(c1(a))return Array[cO].slice.call(a);let c=cX(a);if(!0!==b&&("class_only"!==b||c)){let b=cM(a);if(null!==b&&c)return{...a};let d=cL.create(b);return cL.assign(d,a)}{let b=cL.getOwnPropertyDescriptors(a);delete b[cJ];let c=Reflect.ownKeys(b);for(let d=0;d<c.length;d++){let e=c[d],f=b[e];!1===f[cR]&&(f[cR]=!0,f[cP]=!0),(f.get||f.set)&&(b[e]={[cP]:!0,[cR]:!0,[cQ]:f[cQ],[cS]:a[e]})}return cL.create(cM(a),b)}}function c8(a,b=!1){return da(a)||cT(a)||!cU(a)||(cZ(a)>1&&cL.defineProperties(a,{set:c9,add:c9,clear:c9,delete:c9}),cL.freeze(a),b&&cY(a,(a,b)=>{c8(b,!0)},!1)),a}var c9={[cS]:function(){cK(2)}};function da(a){return!(null!==a&&c4(a))||cL.isFrozen(a)}var db="MapSet",dc="Patches",dd="ArrayMethods",de={};function df(a){let b=de[a];return b||cK(0,a),b}var dg=a=>!!de[a];function dh(a,b){b&&(a.patchPlugin_=df(dc),a.patches_=[],a.inversePatches_=[],a.patchListener_=b)}function di(a){dj(a),a.drafts_.forEach(dl),a.drafts_=null}function dj(a){a===lK&&(lK=a.parent_)}var dk=a=>lK={drafts_:[],parent_:lK,immer_:a,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:dg(db)?df(db):void 0,arrayMethodsPlugin_:dg(dd)?df(dd):void 0};function dl(a){let b=a[cJ];0===b.type_||1===b.type_?b.revoke_():b.revoked_=!0}function dm(a,b){b.unfinalizedDrafts_=b.drafts_.length;let c=b.drafts_[0];if(void 0!==a&&a!==c){c[cJ].modified_&&(di(b),cK(4)),cU(a)&&(a=dn(b,a));let{patchPlugin_:d}=b;d&&d.generateReplacementPatches_(c[cJ].base_,a,b)}else a=dn(b,c);return function(a,b,c=!1){!a.parent_&&a.immer_.autoFreeze_&&a.canAutoFreeze_&&c8(b,c)}(b,a,!0),di(b),b.patches_&&b.patchListener_(b.patches_,b.inversePatches_),a!==cH?a:void 0}function dn(a,b){if(da(b))return b;let c=b[cJ];if(!c)return du(b,a.handledSet_,a);if(!dq(c,a))return b;if(!c.modified_)return c.base_;if(!c.finalized_){let{callbacks_:b}=c;if(b)for(;b.length>0;)b.pop()(a);dt(c,a)}return c.copy_}function dp(a){a.finalized_=!0,a.scope_.unfinalizedDrafts_--}var dq=(a,b)=>a.scope_===b,dr=[];function ds(a,b,c,d){let e=a.copy_||a.base_,f=a.type_;if(void 0!==d&&c_(e,d,f)===b)return void c0(e,d,c,f);if(!a.draftLocations_){let b=a.draftLocations_=new Map;cY(e,(a,c)=>{if(cT(c)){let d=b.get(c)||[];d.push(a),b.set(c,d)}})}for(let d of a.draftLocations_.get(b)??dr)c0(e,d,c,f)}function dt(a,b){if(a.modified_&&!a.finalized_&&(3===a.type_||1===a.type_&&a.allIndicesReassigned_||(a.assigned_?.size??0)>0)){let{patchPlugin_:c}=b;if(c){let d=c.getPath(a);d&&c.generatePatches_(a,d,b)}dp(a)}}function du(a,b,c){return!c.immer_.autoFreeze_&&c.unfinalizedDrafts_<1||cT(a)||b.has(a)||!cU(a)||da(a)||(b.add(a),cY(a,(d,e)=>{if(cT(e)){let b=e[cJ];dq(b,c)&&(c0(a,d,c6(b),a.type_),dp(b))}else cU(e)&&du(e,b,c)})),a}var dv={get(a,b){let c;if(b===cJ)return a;let d=a.scope_.arrayMethodsPlugin_,e=1===a.type_&&"string"==typeof b;if(e&&d?.isArrayOperationMethod(b))return d.createMethodInterceptor(a,b);let f=a.copy_||a.base_;if(!c$(f,b,a.type_)){var g;let c;return g=a,(c=dy(f,b))?cS in c?c[cS]:c.get?.call(g.draft_):void 0}let h=f[b];if(a.finalized_||!cU(h)||e&&a.operationMethod&&d?.isMutatingArrayMethod(a.operationMethod)&&Number.isInteger(c=+b)&&String(c)===b)return h;if(h===dx(a.base_,b)){dA(a);let c=1===a.type_?+b:b,d=dB(a.scope_,h,a,c);return a.copy_[c]=d}return h},has:(a,b)=>b in(a.copy_||a.base_),ownKeys:a=>Reflect.ownKeys(a.copy_||a.base_),set(a,b,c){let d=dy(a.copy_||a.base_,b);if(d?.set)return d.set.call(a.draft_,c),!0;if(!a.modified_){let d=dx(a.copy_||a.base_,b),e=d?.[cJ];if(e&&e.base_===c)return a.copy_[b]=c,a.assigned_.set(b,!1),!0;if((c===d?0!==c||1/c==1/d:c!=c&&d!=d)&&(void 0!==c||c$(a.base_,b,a.type_)))return!0;dA(a),dz(a)}return!!(a.copy_[b]===c&&(void 0!==c||b in a.copy_)||Number.isNaN(c)&&Number.isNaN(a.copy_[b]))||(a.copy_[b]=c,a.assigned_.set(b,!0),!function(a,b,c){let{scope_:d}=a;if(cT(c)){let e=c[cJ];dq(e,d)&&e.callbacks_.push(function(){dA(a),ds(a,c,c6(e),b)})}else cU(c)&&a.callbacks_.push(function(){let e=a.copy_||a.base_;3===a.type_?e.has(c)&&du(c,d.handledSet_,d):c_(e,b,a.type_)===c&&d.drafts_.length>1&&(a.assigned_.get(b)??!1)===!0&&a.copy_&&du(c_(a.copy_,b,a.type_),d.handledSet_,d)})}(a,b,c),!0)},deleteProperty:(a,b)=>(dA(a),void 0!==dx(a.base_,b)||b in a.base_?(a.assigned_.set(b,!1),dz(a)):a.assigned_.delete(b),a.copy_&&delete a.copy_[b],!0),getOwnPropertyDescriptor(a,b){let c=a.copy_||a.base_,d=Reflect.getOwnPropertyDescriptor(c,b);return d?{[cR]:!0,[cP]:1!==a.type_||"length"!==b,[cQ]:d[cQ],[cS]:c[b]}:d},defineProperty(){cK(11)},getPrototypeOf:a=>cM(a.base_),setPrototypeOf(){cK(12)}},dw={};for(let a in dv){let b=dv[a];dw[a]=function(){let a=arguments;return a[0]=a[0][0],b.apply(this,a)}}function dx(a,b){let c=a[cJ];return(c?c.copy_||c.base_:a)[b]}function dy(a,b){if(!(b in a))return;let c=cM(a);for(;c;){let a=Object.getOwnPropertyDescriptor(c,b);if(a)return a;c=cM(c)}}function dz(a){!a.modified_&&(a.modified_=!0,a.parent_&&dz(a.parent_))}function dA(a){a.copy_||(a.assigned_=new Map,a.copy_=c7(a.base_,a.scope_.immer_.useStrictShallowCopy_))}function dB(a,b,c,d){let[e,f]=c2(b)?df(db).proxyMap_(b,c):c3(b)?df(db).proxySet_(b,c):function(a,b){let c=c1(a),d={type_:+!!c,scope_:b?b.scope_:lK,modified_:!1,finalized_:!1,assigned_:void 0,parent_:b,base_:a,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0},e=d,f=dv;c&&(e=[d],f=dw);let{revoke:g,proxy:h}=Proxy.revocable(e,f);return d.draft_=h,d.revoke_=g,[h,d]}(b,c);if((c?.scope_??lK).drafts_.push(e),f.callbacks_=c?.callbacks_??[],f.key_=d,c&&void 0!==d)c.callbacks_.push(function(a){if(!f||!dq(f,a))return;a.mapSetPlugin_?.fixSetContents(f);let b=c6(f);ds(c,f.draft_??f,b,d),dt(f,a)});else f.callbacks_.push(function(a){a.mapSetPlugin_?.fixSetContents(f);let{patchPlugin_:b}=a;f.modified_&&b&&b.generatePatches_(f,[],a)});return e}function dC(a){return cT(a)||cK(10,a),function a(b){let c;if(!cU(b)||da(b))return b;let d=b[cJ],e=!0;if(d){if(!d.modified_)return d.base_;d.finalized_=!0,c=c7(b,d.scope_.immer_.useStrictShallowCopy_),e=d.scope_.immer_.shouldUseStrictIteration()}else c=c7(b,!0);return cY(c,(b,d)=>{c0(c,b,a(d))},e),d&&(d.finalized_=!1),c}(a)}dw.deleteProperty=function(a,b){return dw.set.call(this,a,b,void 0)},dw.set=function(a,b,c){return dv.set.call(this,a[0],b,c,a[0])};var dD=new class{constructor(a){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(a,b,c)=>{let d;if(c5(a)&&!c5(b)){let c=b;b=a;let d=this;return function(a=c,...e){return d.produce(a,a=>b.call(this,a,...e))}}if(c5(b)||cK(6),void 0===c||c5(c)||cK(7),cU(a)){let e=dk(this),f=dB(e,a,void 0),g=!0;try{d=b(f),g=!1}finally{g?di(e):dj(e)}return dh(e,c),dm(d,e)}if(a&&c4(a))cK(1,a);else{if(void 0===(d=b(a))&&(d=a),d===cH&&(d=void 0),this.autoFreeze_&&c8(d,!0),c){let b=[],e=[];df(dc).generateReplacementPatches_(a,d,{patches_:b,inversePatches_:e}),c(b,e)}return d}},this.produceWithPatches=(a,b)=>{let c,d;return c5(a)?(b,...c)=>this.produceWithPatches(b,b=>a(b,...c)):[this.produce(a,b,(a,b)=>{c=a,d=b}),c,d]},(a=>"boolean"==typeof a)(a?.autoFreeze)&&this.setAutoFreeze(a.autoFreeze),(a=>"boolean"==typeof a)(a?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(a.useStrictShallowCopy),(a=>"boolean"==typeof a)(a?.useStrictIteration)&&this.setUseStrictIteration(a.useStrictIteration)}createDraft(a){cU(a)||cK(8),cT(a)&&(a=dC(a));let b=dk(this),c=dB(b,a,void 0);return c[cJ].isManual_=!0,dj(b),c}finishDraft(a,b){let c=a&&a[cJ];c&&c.isManual_||cK(9);let{scope_:d}=c;return dh(d,b),dm(void 0,d)}setAutoFreeze(a){this.autoFreeze_=a}setUseStrictShallowCopy(a){this.useStrictShallowCopy_=a}setUseStrictIteration(a){this.useStrictIteration_=a}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(a,b){let c;for(c=b.length-1;c>=0;c--){let d=b[c];if(0===d.path.length&&"replace"===d.op){a=d.value;break}}c>-1&&(b=b.slice(c+1));let d=df(dc).applyPatches_;return cT(a)?d(a,b):this.produce(a,a=>d(a,b))}}().produce,dE=a=>Array.isArray(a)?a:[a],dF=0,dG=class{revision=dF;_value;_lastValue;_isEqual=dH;constructor(a,b=dH){this._value=this._lastValue=a,this._isEqual=b}get value(){return this._value}set value(a){this.value!==a&&(this._value=a,this.revision=++dF)}};function dH(a,b){return a===b}function dI(a){return a instanceof dG||console.warn("Not a valid cell! ",a),a.value}var dJ=(a,b)=>!1;function dK(){return function(a,b=dH){return new dG(null,b)}(0,dJ)}var dL=a=>{let b=a.collectionTag;null===b&&(b=a.collectionTag=dK()),dI(b)};Symbol();var dM=0,dN=Object.getPrototypeOf({}),dO=class{constructor(a){this.value=a,this.value=a,this.tag.value=a}proxy=new Proxy(this,dP);tag=dK();tags={};children={};collectionTag=null;id=dM++},dP={get:(a,b)=>(function(){let{value:c}=a,d=Reflect.get(c,b);if("symbol"==typeof b||b in dN)return d;if("object"==typeof d&&null!==d){var e;let c=a.children[b];return void 0===c&&(c=a.children[b]=Array.isArray(e=d)?new dQ(e):new dO(e)),c.tag&&dI(c.tag),c.proxy}{let c=a.tags[b];return void 0===c&&((c=a.tags[b]=dK()).value=d),dI(c),d}})(),ownKeys:a=>(dL(a),Reflect.ownKeys(a.value)),getOwnPropertyDescriptor:(a,b)=>Reflect.getOwnPropertyDescriptor(a.value,b),has:(a,b)=>Reflect.has(a.value,b)},dQ=class{constructor(a){this.value=a,this.value=a,this.tag.value=a}proxy=new Proxy([this],dR);tag=dK();tags={};children={};collectionTag=null;id=dM++},dR={get:([a],b)=>("length"===b&&dL(a),dP.get(a,b)),ownKeys:([a])=>dP.ownKeys(a),getOwnPropertyDescriptor:([a],b)=>dP.getOwnPropertyDescriptor(a,b),has:([a],b)=>dP.has(a,b)},dS="u">typeof WeakRef?WeakRef:class{constructor(a){this.value=a}deref(){return this.value}};function dT(){return{s:0,v:void 0,o:null,p:null}}function dU(a,b={}){let c,d=dT(),{resultEqualityCheck:e}=b,f=0;function g(){let b,g=d,{length:h}=arguments;for(let a=0;a<h;a++){let b=arguments[a];if("function"==typeof b||"object"==typeof b&&null!==b){let a=g.o;null===a&&(g.o=a=new WeakMap);let c=a.get(b);void 0===c?(g=dT(),a.set(b,g)):g=c}else{let a=g.p;null===a&&(g.p=a=new Map);let c=a.get(b);void 0===c?(g=dT(),a.set(b,g)):g=c}}let i=g;if(1===g.s)b=g.v;else if(b=a.apply(null,arguments),f++,e){let a=c?.deref?.()??c;null!=a&&e(a,b)&&(b=a,0!==f&&f--),c="object"==typeof b&&null!==b||"function"==typeof b?new dS(b):b}return i.s=1,i.v=b,b}return g.clearCache=()=>{d=dT(),g.resetResultsCount()},g.resultsCount=()=>f,g.resetResultsCount=()=>{f=0},g}var dV=function(a,...b){let c="function"==typeof a?{memoize:a,memoizeOptions:b}:a,d=(...a)=>{let b,d,e=0,f=0,g={},h=a.pop();"object"==typeof h&&(g=h,h=a.pop()),function(a,b=`expected a function, instead received ${typeof a}`){if("function"!=typeof a)throw TypeError(b)}(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);let{memoize:i,memoizeOptions:j=[],argsMemoize:k=dU,argsMemoizeOptions:l=[],devModeChecks:m={}}={...c,...g},n=dE(j),o=dE(l),p=(!function(a,b="expected all items to be functions, instead received the following types: "){if(!a.every(a=>"function"==typeof a)){let c=a.map(a=>"function"==typeof a?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw TypeError(`${b}[${c}]`)}}(b=Array.isArray(a[0])?a[0]:a,"createSelector expects all input-selectors to be functions, but received the following types: "),b),q=i(function(){return e++,h.apply(null,arguments)},...n);return Object.assign(k(function(){f++;let a=function(a,b){let c=[],{length:d}=a;for(let e=0;e<d;e++)c.push(a[e].apply(null,b));return c}(p,arguments);return d=q.apply(null,a)},...o),{resultFunc:h,memoizedResultFunc:q,dependencies:p,dependencyRecomputations:()=>f,resetDependencyRecomputations:()=>{f=0},lastResult:()=>d,recomputations:()=>e,resetRecomputations:()=>{e=0},memoize:i,argsMemoize:k})};return Object.assign(d,{withTypes:()=>d}),d}(dU),dW=Object.assign((a,b=dV)=>{!function(a,b=`expected an object, instead received ${typeof a}`){if("object"!=typeof a)throw TypeError(b)}(a,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof a}`);let c=Object.keys(a);return b(c.map(b=>a[b]),(...a)=>a.reduce((a,b,d)=>(a[c[d]]=b,a),{}))},{withTypes:()=>dW});function dX(a){return`Minified Redux error #${a}; visit https://redux.js.org/Errors?code=${a} for the full message or use the non-minified dev environment for full errors. `}var dY="function"==typeof Symbol&&Symbol.observable||"@@observable",dZ=()=>Math.random().toString(36).substring(7).split("").join("."),d$={INIT:`@@redux/INIT${dZ()}`,REPLACE:`@@redux/REPLACE${dZ()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${dZ()}`};function d_(a){if("object"!=typeof a||null===a)return!1;let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b||null===Object.getPrototypeOf(a)}function d0(a){let b,c=Object.keys(a),d={};for(let b=0;b<c.length;b++){let e=c[b];"function"==typeof a[e]&&(d[e]=a[e])}let e=Object.keys(d);try{Object.keys(d).forEach(a=>{let b=d[a];if(void 0===b(void 0,{type:d$.INIT}))throw Error(dX(12));if(void 0===b(void 0,{type:d$.PROBE_UNKNOWN_ACTION()}))throw Error(dX(13))})}catch(a){b=a}return function(a={},c){if(b)throw b;let f=!1,g={};for(let b=0;b<e.length;b++){let h=e[b],i=d[h],j=a[h],k=i(j,c);if(void 0===k)throw c&&c.type,Error(dX(14));g[h]=k,f=f||k!==j}return(f=f||e.length!==Object.keys(a).length)?g:a}}function d1(...a){return 0===a.length?a=>a:1===a.length?a[0]:a.reduce((a,b)=>(...c)=>a(b(...c)))}function d2(a){return d_(a)&&"type"in a&&"string"==typeof a.type}function d3(a){return({dispatch:b,getState:c})=>d=>e=>"function"==typeof e?e(b,c,a):d(e)}var d4=d3(),d5=function(){if(0!=arguments.length)return"object"==typeof arguments[0]?d1:d1.apply(null,arguments)};function d6(a,b){function c(...d){if(b){let c=b(...d);if(!c)throw Error(eN(0));return{type:a,payload:c.payload,..."meta"in c&&{meta:c.meta},..."error"in c&&{error:c.error}}}return{type:a,payload:d[0]}}return c.toString=()=>`${a}`,c.type=a,c.match=b=>d2(b)&&b.type===a,c}var d7=class a extends Array{constructor(...b){super(...b),Object.setPrototypeOf(this,a.prototype)}static get[Symbol.species](){return a}concat(...a){return super.concat.apply(this,a)}prepend(...b){return 1===b.length&&Array.isArray(b[0])?new a(...b[0].concat(this)):new a(...b.concat(this))}};function d8(a){return cU(a)?dD(a,()=>{}):a}function d9(a,b,c){return a.has(b)?a.get(b):a.set(b,c(b)).get(b)}var ea="RTK_autoBatch",eb=()=>a=>({payload:a,meta:{[ea]:!0}}),ec=a=>b=>{setTimeout(b,a)},ed=(a={type:"raf"})=>b=>(...c)=>{let d=b(...c),e=!0,f=!1,g=!1,h=new Set,i="tick"===a.type?queueMicrotask:"raf"===a.type?ec(10):"callback"===a.type?a.queueNotification:ec(a.timeout),j=()=>{g=!1,f&&(f=!1,h.forEach(a=>a()))};return Object.assign({},d,{subscribe(a){let b=d.subscribe(()=>e&&a());return h.add(a),()=>{b(),h.delete(a)}},dispatch(a){try{return(f=!(e=!a?.meta?.[ea]))&&!g&&(g=!0,i(j)),d.dispatch(a)}finally{e=!0}}})};function ee(a){let b,c={},d=[],e={addCase(a,b){let d="string"==typeof a?a:a.type;if(!d)throw Error(eN(28));if(d in c)throw Error(eN(29));return c[d]=b,e},addAsyncThunk:(a,b)=>(b.pending&&(c[a.pending.type]=b.pending),b.rejected&&(c[a.rejected.type]=b.rejected),b.fulfilled&&(c[a.fulfilled.type]=b.fulfilled),b.settled&&d.push({matcher:a.settled,reducer:b.settled}),e),addMatcher:(a,b)=>(d.push({matcher:a,reducer:b}),e),addDefaultCase:a=>(b=a,e)};return a(e),[c,d,b]}var ef=Symbol.for("rtk-slice-createasyncthunk"),eg=((ly=eg||{}).reducer="reducer",ly.reducerWithPrepare="reducerWithPrepare",ly.asyncThunk="asyncThunk",ly),eh=function({creators:a}={}){let b=a?.asyncThunk?.[ef];return function(a){let c,{name:d,reducerPath:e=d}=a;if(!d)throw Error(eN(11));let f=("function"==typeof a.reducers?a.reducers(function(){function a(a,b){return{_reducerDefinitionType:"asyncThunk",payloadCreator:a,...b}}return a.withTypes=()=>a,{reducer:a=>Object.assign({[a.name]:(...b)=>a(...b)}[a.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(a,b)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:a,reducer:b}),asyncThunk:a}}()):a.reducers)||{},g=Object.keys(f),h={},i={},j={},k=[],l={addCase(a,b){let c="string"==typeof a?a:a.type;if(!c)throw Error(eN(12));if(c in i)throw Error(eN(13));return i[c]=b,l},addMatcher:(a,b)=>(k.push({matcher:a,reducer:b}),l),exposeAction:(a,b)=>(j[a]=b,l),exposeCaseReducer:(a,b)=>(h[a]=b,l)};function m(){let[b={},c=[],d]="function"==typeof a.extraReducers?ee(a.extraReducers):[a.extraReducers],e={...b,...i};return function(a,b){let c,[d,e,f]=ee(b);if("function"==typeof a)c=()=>d8(a());else{let b=d8(a);c=()=>b}function g(a=c(),b){let h=[d[b.type],...e.filter(({matcher:a})=>a(b)).map(({reducer:a})=>a)];return 0===h.filter(a=>!!a).length&&(h=[f]),h.reduce((a,c)=>{if(c)if(cT(a)){let d=c(a,b);return void 0===d?a:d}else{if(cU(a))return dD(a,a=>c(a,b));let d=c(a,b);if(void 0===d){if(null===a)return a;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}return a},a)}return g.getInitialState=c,g}(a.initialState,a=>{for(let b in e)a.addCase(b,e[b]);for(let b of k)a.addMatcher(b.matcher,b.reducer);for(let b of c)a.addMatcher(b.matcher,b.reducer);d&&a.addDefaultCase(d)})}g.forEach(c=>{let e=f[c],g={reducerName:c,type:`${d}/${c}`,createNotation:"function"==typeof a.reducers};"asyncThunk"===e._reducerDefinitionType?function({type:a,reducerName:b},c,d,e){if(!e)throw Error(eN(18));let{payloadCreator:f,fulfilled:g,pending:h,rejected:i,settled:j,options:k}=c,l=e(a,f,k);d.exposeAction(b,l),g&&d.addCase(l.fulfilled,g),h&&d.addCase(l.pending,h),i&&d.addCase(l.rejected,i),j&&d.addMatcher(l.settled,j),d.exposeCaseReducer(b,{fulfilled:g||ei,pending:h||ei,rejected:i||ei,settled:j||ei})}(g,e,l,b):function({type:a,reducerName:b,createNotation:c},d,e){let f,g;if("reducer"in d){if(c&&"reducerWithPrepare"!==d._reducerDefinitionType)throw Error(eN(17));f=d.reducer,g=d.prepare}else f=d;e.addCase(a,f).exposeCaseReducer(b,f).exposeAction(b,g?d6(a,g):d6(a))}(g,e,l)});let n=a=>a,o=new Map,p=new WeakMap;function q(a,b){return c||(c=m()),c(a,b)}function r(){return c||(c=m()),c.getInitialState()}function s(b,c=!1){function d(a){let e=a[b];return void 0===e&&c&&(e=d9(p,d,r)),e}function e(b=n){let d=d9(o,c,()=>new WeakMap);return d9(d,b,()=>{let d={};for(let[e,f]of Object.entries(a.selectors??{}))d[e]=function(a,b,c,d){function e(f,...g){let h=b(f);return void 0===h&&d&&(h=c()),a(h,...g)}return e.unwrapped=a,e}(f,b,()=>d9(p,b,r),c);return d})}return{reducerPath:b,getSelectors:e,get selectors(){return e(d)},selectSlice:d}}let t={name:d,reducer:q,actions:j,caseReducers:h,getInitialState:r,...s(e),injectInto(a,{reducerPath:b,...c}={}){let d=b??e;return a.inject({reducerPath:d,reducer:q},c),{...t,...s(d,!0)}}};return t}}();function ei(){}var ej="listener",ek="completed",el="cancelled",em=`task-${el}`,en=`task-${ek}`,eo=`${ej}-${el}`,ep=`${ej}-${ek}`,eq=class{constructor(a){this.code=a,this.message=`task ${el} (reason: ${a})`}name="TaskAbortError";message},er=(a,b)=>{if("function"!=typeof a)throw TypeError(eN(32))},es=()=>{},et=(a,b=es)=>(a.catch(b),a),eu=(a,b)=>(a.addEventListener("abort",b,{once:!0}),()=>a.removeEventListener("abort",b)),ev=a=>{if(a.aborted)throw new eq(a.reason)};function ew(a,b){let c=es;return new Promise((d,e)=>{let f=()=>e(new eq(a.reason));a.aborted?f():(c=eu(a,f),b.finally(()=>c()).then(d,e))}).finally(()=>{c=es})}var ex=async(a,b)=>{try{await Promise.resolve();let b=await a();return{status:"ok",value:b}}catch(a){return{status:a instanceof eq?"cancelled":"rejected",error:a}}finally{b?.()}},ey=a=>b=>et(ew(a,b).then(b=>(ev(a),b))),ez=a=>{let b=ey(a);return a=>b(new Promise(b=>setTimeout(b,a)))},{assign:eA}=Object,eB={},eC="listenerMiddleware",eD=a=>{let{type:b,actionCreator:c,matcher:d,predicate:e,effect:f}=a;if(b)e=d6(b).match;else if(c)b=c.type,e=c.match;else if(d)e=d;else if(e);else throw Error(eN(21));return er(f,"options.listener"),{predicate:e,type:b,effect:f}},eE=eA(a=>{let{type:b,predicate:c,effect:d}=eD(a);return{id:((a=21)=>{let b="",c=a;for(;c--;)b+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return b})(),effect:d,type:b,predicate:c,pending:new Set,unsubscribe:()=>{throw Error(eN(22))}}},{withTypes:()=>eE}),eF=(a,b)=>{let{type:c,effect:d,predicate:e}=eD(b);return Array.from(a.values()).find(a=>("string"==typeof c?a.type===c:a.predicate===e)&&a.effect===d)},eG=a=>{a.pending.forEach(a=>{a.abort(eo)})},eH=(a,b,c)=>{try{a(b,c)}catch(a){setTimeout(()=>{throw a},0)}},eI=eA(d6(`${eC}/add`),{withTypes:()=>eI}),eJ=d6(`${eC}/removeAll`),eK=eA(d6(`${eC}/remove`),{withTypes:()=>eK}),eL=(...a)=>{console.error(`${eC}/error`,...a)},eM=(a={})=>{let b=new Map,c=new Map,{extra:d,onError:e=eL}=a;er(e,"onError");let f=a=>{var c;return(c=eF(b,a)??eE(a)).unsubscribe=()=>b.delete(c.id),b.set(c.id,c),a=>{c.unsubscribe(),a?.cancelActive&&eG(c)}};eA(f,{withTypes:()=>f});let g=a=>{let c=eF(b,a);return c&&(c.unsubscribe(),a.cancelActive&&eG(c)),!!c};eA(g,{withTypes:()=>g});let h=async(a,g,h,i)=>{var j,k;let l,m=new AbortController,n=(j=m.signal,l=async(a,b)=>{ev(j);let c=()=>{},d=[new Promise((b,d)=>{let e=f({predicate:a,effect:(a,c)=>{c.unsubscribe(),b([a,c.getState(),c.getOriginalState()])}});c=()=>{e(),d()}})];null!=b&&d.push(new Promise(a=>setTimeout(a,b,null)));try{let a=await ew(j,Promise.race(d));return ev(j),a}finally{c()}},(a,b)=>et(l(a,b))),o=[];try{let e;a.pending.add(m),e=c.get(a)??0,c.set(a,e+1),await Promise.resolve(a.effect(g,eA({},h,{getOriginalState:i,condition:(a,b)=>n(a,b).then(Boolean),take:n,delay:ez(m.signal),pause:ey(m.signal),extra:d,signal:m.signal,fork:(k=m.signal,(a,b)=>{er(a,"taskExecutor");let c=new AbortController;eu(k,()=>c.abort(k.reason));let d=ex(async()=>{ev(k),ev(c.signal);let b=await a({pause:ey(c.signal),delay:ez(c.signal),signal:c.signal});return ev(c.signal),b},()=>c.abort(en));return b?.autoJoin&&o.push(d.catch(es)),{result:ey(k)(d),cancel(){c.abort(em)}}}),unsubscribe:a.unsubscribe,subscribe:()=>{b.set(a.id,a)},cancelActiveListeners:()=>{a.pending.forEach((a,b,c)=>{a!==m&&(a.abort(eo),c.delete(a))})},cancel:()=>{m.abort(eo),a.pending.delete(m)},throwIfCancelled:()=>{ev(m.signal)}})))}catch(a){a instanceof eq||eH(e,a,{raisedBy:"effect"})}finally{let b;await Promise.all(o),m.abort(ep),1===(b=c.get(a)??1)?c.delete(a):c.set(a,b-1),a.pending.delete(m)}},i=()=>{for(let a of c.keys())eG(a);b.clear()};return{middleware:a=>c=>d=>{let j;if(!d2(d))return c(d);if(eI.match(d))return f(d.payload);if(eJ.match(d))return void i();if(eK.match(d))return g(d.payload);let k=a.getState(),l=()=>{if(k===eB)throw Error(eN(23));return k};try{if(j=c(d),b.size>0){let c=a.getState();for(let f of Array.from(b.values())){let b=!1;try{b=f.predicate(d,c,k)}catch(a){b=!1,eH(e,a,{raisedBy:"predicate"})}b&&h(f,d,a,l)}}}finally{k=eB}return j},startListening:f,stopListening:g,clearListeners:i}};function eN(a){return`Minified Redux Toolkit error #${a}; visit https://redux-toolkit.js.org/Errors?code=${a} for the full message or use the non-minified dev environment for full errors. `}Symbol.for("rtk-state-proxy-original");var eO=a.i(88804);function eP(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,c=10**b,d=Math.round(a*c)/c;return Object.is(d,-0)?0:d}function eQ(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return a.reduce((a,b,d)=>{var e=c[d-1];return"string"==typeof e?a+e+b:void 0!==e?a+eP(e)+b:a+b},"")}var eR=a=>0===a?0:a>0?1:-1,eS=a=>"number"==typeof a&&a!=+a,eT=a=>"string"==typeof a&&a.indexOf("%")===a.length-1,eU=a=>("number"==typeof a||a instanceof Number)&&!eS(a),eV=a=>eU(a)||"string"==typeof a,eW=0,eX=a=>{var b=++eW;return"".concat(a||"").concat(b)},eY=function(a,b){var c,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!eU(a)&&"string"!=typeof a)return d;if(eT(a)){if(null==b)return d;var f=a.indexOf("%");c=b*parseFloat(a.slice(0,f))/100}else c=+a;return eS(c)&&(c=d),e&&null!=b&&c>b&&(c=b),c},eZ=a=>{if(!Array.isArray(a))return!1;for(var b=a.length,c={},d=0;d<b;d++)if(c[String(a[d])])return!0;else c[String(a[d])]=!0;return!1};function e$(a,b,c){return eU(a)&&eU(b)?eP(a+c*(b-a)):b}var e_=a=>null==a?a:"".concat(a.charAt(0).toUpperCase()).concat(a.slice(1));function e0(a){return null!=a}function e1(){}var e2=(a,b)=>{if(b&&Array.isArray(a)){var c=Number.parseInt(b,10);if(!eS(c))return a[c]}},e3=eh({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:()=>void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:a=>{null==a.eventEmitter&&(a.eventEmitter=Symbol("rechartsEventEmitter"))}}}),e4=e3.reducer,{createEventEmitter:e5}=e3.actions,e6=(a.i(32473),{notify(){},get:()=>[]}),e7="u">typeof navigator&&"ReactNative"===navigator.product,e8=e7?D.useLayoutEffect:D.useEffect;function e9(a,b){return a===b?0!==a||0!==b||1/a==1/b:a!=a&&b!=b}var fa=Symbol.for("react-redux-context"),fb="u">typeof globalThis?globalThis:{},fc=function(){if(!D.createContext)return{};let a=fb[fa]??=new Map,b=a.get(D.createContext);return b||(b=D.createContext(null),a.set(D.createContext,b)),b}(),fd=function(a){let{children:b,context:c,serverState:d,store:e}=a,f=D.useMemo(()=>{let a=function(a,b){let c,d=e6,e=0,f=!1;function g(){j.onStateChange&&j.onStateChange()}function h(){if(e++,!c){let b,e;c=a.subscribe(g),b=null,e=null,d={clear(){b=null,e=null},notify(){let a=b;for(;a;)a.callback(),a=a.next},get(){let a=[],c=b;for(;c;)a.push(c),c=c.next;return a},subscribe(a){let c=!0,d=e={callback:a,next:null,prev:e};return d.prev?d.prev.next=d:b=d,function(){c&&null!==b&&(c=!1,d.next?d.next.prev=d.prev:e=d.prev,d.prev?d.prev.next=d.next:b=d.next)}}}}}function i(){e--,c&&0===e&&(c(),c=void 0,d.clear(),d=e6)}let j={addNestedSub:function(a){h();let b=d.subscribe(a),c=!1;return()=>{c||(c=!0,b(),i())}},notifyNestedSubs:function(){d.notify()},handleChangeWrapper:g,isSubscribed:function(){return f},trySubscribe:function(){f||(f=!0,h())},tryUnsubscribe:function(){f&&(f=!1,i())},getListeners:()=>d};return j}(e);return{store:e,subscription:a,getServerState:d?()=>d:void 0}},[e,d]),g=D.useMemo(()=>e.getState(),[e]);return e8(()=>{let{subscription:a}=f;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),g!==e.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[f,g]),D.createElement((c||fc).Provider,{value:f},b)};function fe(a=fc){return function(){return D.useContext(a)}}var ff=fe(),fg=Symbol.for("immer-nothing"),fh=Symbol.for("immer-draftable"),fi=Symbol.for("immer-state");function fj(a){throw Error(`[Immer] minified error nr: ${a}. Full error at: https://bit.ly/3cXEKWf`)}var fk=Object.getPrototypeOf;function fl(a){return!!a&&!!a[fi]}function fm(a){return!!a&&(fp(a)||Array.isArray(a)||!!a[fh]||!!a.constructor?.[fh]||fu(a)||fv(a))}var fn=Object.prototype.constructor.toString(),fo=new WeakMap;function fp(a){if(!a||"object"!=typeof a)return!1;let b=Object.getPrototypeOf(a);if(null===b||b===Object.prototype)return!0;let c=Object.hasOwnProperty.call(b,"constructor")&&b.constructor;if(c===Object)return!0;if("function"!=typeof c)return!1;let d=fo.get(c);return void 0===d&&(d=Function.toString.call(c),fo.set(c,d)),d===fn}function fq(a,b,c=!0){0===fr(a)?(c?Reflect.ownKeys(a):Object.keys(a)).forEach(c=>{b(c,a[c],a)}):a.forEach((c,d)=>b(d,c,a))}function fr(a){let b=a[fi];return b?b.type_:Array.isArray(a)?1:fu(a)?2:3*!!fv(a)}function fs(a,b){return 2===fr(a)?a.has(b):Object.prototype.hasOwnProperty.call(a,b)}function ft(a,b,c){let d=fr(a);2===d?a.set(b,c):3===d?a.add(c):a[b]=c}function fu(a){return a instanceof Map}function fv(a){return a instanceof Set}function fw(a){return a.copy_||a.base_}function fx(a,b){if(fu(a))return new Map(a);if(fv(a))return new Set(a);if(Array.isArray(a))return Array.prototype.slice.call(a);let c=fp(a);if(!0!==b&&("class_only"!==b||c)){let b=fk(a);return null!==b&&c?{...a}:Object.assign(Object.create(b),a)}{let b=Object.getOwnPropertyDescriptors(a);delete b[fi];let c=Reflect.ownKeys(b);for(let d=0;d<c.length;d++){let e=c[d],f=b[e];!1===f.writable&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(b[e]={configurable:!0,writable:!0,enumerable:f.enumerable,value:a[e]})}return Object.create(fk(a),b)}}function fy(a,b=!1){return fA(a)||fl(a)||!fm(a)||(fr(a)>1&&Object.defineProperties(a,{set:fz,add:fz,clear:fz,delete:fz}),Object.freeze(a),b&&Object.values(a).forEach(a=>fy(a,!0))),a}var fz={value:function(){fj(2)}};function fA(a){return null===a||"object"!=typeof a||Object.isFrozen(a)}var fB={};function fC(a){let b=fB[a];return b||fj(0,a),b}function fD(a,b){b&&(fC("Patches"),a.patches_=[],a.inversePatches_=[],a.patchListener_=b)}function fE(a){fF(a),a.drafts_.forEach(fH),a.drafts_=null}function fF(a){a===lL&&(lL=a.parent_)}function fG(a){return lL={drafts_:[],parent_:lL,immer_:a,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fH(a){let b=a[fi];0===b.type_||1===b.type_?b.revoke_():b.revoked_=!0}function fI(a,b){b.unfinalizedDrafts_=b.drafts_.length;let c=b.drafts_[0];return void 0!==a&&a!==c?(c[fi].modified_&&(fE(b),fj(4)),fm(a)&&(a=fJ(b,a),b.parent_||fL(b,a)),b.patches_&&fC("Patches").generateReplacementPatches_(c[fi].base_,a,b.patches_,b.inversePatches_)):a=fJ(b,c,[]),fE(b),b.patches_&&b.patchListener_(b.patches_,b.inversePatches_),a!==fg?a:void 0}function fJ(a,b,c){if(fA(b))return b;let d=a.immer_.shouldUseStrictIteration(),e=b[fi];if(!e)return fq(b,(d,f)=>fK(a,e,b,d,f,c),d),b;if(e.scope_!==a)return b;if(!e.modified_)return fL(a,e.base_,!0),e.base_;if(!e.finalized_){e.finalized_=!0,e.scope_.unfinalizedDrafts_--;let b=e.copy_,f=b,g=!1;3===e.type_&&(f=new Set(b),b.clear(),g=!0),fq(f,(d,f)=>fK(a,e,b,d,f,c,g),d),fL(a,b,!1),c&&a.patches_&&fC("Patches").generatePatches_(e,c,a.patches_,a.inversePatches_)}return e.copy_}function fK(a,b,c,d,e,f,g){if(null==e||"object"!=typeof e&&!g)return;let h=fA(e);if(!h||g){if(fl(e)){let g=fJ(a,e,f&&b&&3!==b.type_&&!fs(b.assigned_,d)?f.concat(d):void 0);if(ft(c,d,g),!fl(g))return;a.canAutoFreeze_=!1}else g&&c.add(e);if(fm(e)&&!h){if(!a.immer_.autoFreeze_&&a.unfinalizedDrafts_<1||b&&b.base_&&b.base_[d]===e&&h)return;fJ(a,e),(!b||!b.scope_.parent_)&&"symbol"!=typeof d&&(fu(c)?c.has(d):Object.prototype.propertyIsEnumerable.call(c,d))&&fL(a,e)}}}function fL(a,b,c=!1){!a.parent_&&a.immer_.autoFreeze_&&a.canAutoFreeze_&&fy(b,c)}var fM={get(a,b){if(b===fi)return a;let c=fw(a);if(!fs(c,b)){var d;let e;return d=a,(e=fP(c,b))?"value"in e?e.value:e.get?.call(d.draft_):void 0}let e=c[b];return a.finalized_||!fm(e)?e:e===fO(a.base_,b)?(fR(a),a.copy_[b]=fT(e,a)):e},has:(a,b)=>b in fw(a),ownKeys:a=>Reflect.ownKeys(fw(a)),set(a,b,c){let d=fP(fw(a),b);if(d?.set)return d.set.call(a.draft_,c),!0;if(!a.modified_){let d=fO(fw(a),b),e=d?.[fi];if(e&&e.base_===c)return a.copy_[b]=c,a.assigned_[b]=!1,!0;if((c===d?0!==c||1/c==1/d:c!=c&&d!=d)&&(void 0!==c||fs(a.base_,b)))return!0;fR(a),fQ(a)}return!!(a.copy_[b]===c&&(void 0!==c||b in a.copy_)||Number.isNaN(c)&&Number.isNaN(a.copy_[b]))||(a.copy_[b]=c,a.assigned_[b]=!0,!0)},deleteProperty:(a,b)=>(void 0!==fO(a.base_,b)||b in a.base_?(a.assigned_[b]=!1,fR(a),fQ(a)):delete a.assigned_[b],a.copy_&&delete a.copy_[b],!0),getOwnPropertyDescriptor(a,b){let c=fw(a),d=Reflect.getOwnPropertyDescriptor(c,b);return d?{writable:!0,configurable:1!==a.type_||"length"!==b,enumerable:d.enumerable,value:c[b]}:d},defineProperty(){fj(11)},getPrototypeOf:a=>fk(a.base_),setPrototypeOf(){fj(12)}},fN={};function fO(a,b){let c=a[fi];return(c?fw(c):a)[b]}function fP(a,b){if(!(b in a))return;let c=fk(a);for(;c;){let a=Object.getOwnPropertyDescriptor(c,b);if(a)return a;c=fk(c)}}function fQ(a){!a.modified_&&(a.modified_=!0,a.parent_&&fQ(a.parent_))}function fR(a){a.copy_||(a.copy_=fx(a.base_,a.scope_.immer_.useStrictShallowCopy_))}fq(fM,(a,b)=>{fN[a]=function(){return arguments[0]=arguments[0][0],b.apply(this,arguments)}}),fN.deleteProperty=function(a,b){return fN.set.call(this,a,b,void 0)},fN.set=function(a,b,c){return fM.set.call(this,a[0],b,c,a[0])};var fS=class{constructor(a){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(a,b,c)=>{let d;if("function"==typeof a&&"function"!=typeof b){let c=b;b=a;let d=this;return function(a=c,...e){return d.produce(a,a=>b.call(this,a,...e))}}if("function"!=typeof b&&fj(6),void 0!==c&&"function"!=typeof c&&fj(7),fm(a)){let e=fG(this),f=fT(a,void 0),g=!0;try{d=b(f),g=!1}finally{g?fE(e):fF(e)}return fD(e,c),fI(d,e)}if(a&&"object"==typeof a)fj(1,a);else{if(void 0===(d=b(a))&&(d=a),d===fg&&(d=void 0),this.autoFreeze_&&fy(d,!0),c){let b=[],e=[];fC("Patches").generateReplacementPatches_(a,d,b,e),c(b,e)}return d}},this.produceWithPatches=(a,b)=>{let c,d;return"function"==typeof a?(b,...c)=>this.produceWithPatches(b,b=>a(b,...c)):[this.produce(a,b,(a,b)=>{c=a,d=b}),c,d]},"boolean"==typeof a?.autoFreeze&&this.setAutoFreeze(a.autoFreeze),"boolean"==typeof a?.useStrictShallowCopy&&this.setUseStrictShallowCopy(a.useStrictShallowCopy),"boolean"==typeof a?.useStrictIteration&&this.setUseStrictIteration(a.useStrictIteration)}createDraft(a){var b;fm(a)||fj(8),fl(a)&&(fl(b=a)||fj(10,b),a=function a(b){let c;if(!fm(b)||fA(b))return b;let d=b[fi],e=!0;if(d){if(!d.modified_)return d.base_;d.finalized_=!0,c=fx(b,d.scope_.immer_.useStrictShallowCopy_),e=d.scope_.immer_.shouldUseStrictIteration()}else c=fx(b,!0);return fq(c,(b,d)=>{ft(c,b,a(d))},e),d&&(d.finalized_=!1),c}(b));let c=fG(this),d=fT(a,void 0);return d[fi].isManual_=!0,fF(c),d}finishDraft(a,b){let c=a&&a[fi];c&&c.isManual_||fj(9);let{scope_:d}=c;return fD(d,b),fI(void 0,d)}setAutoFreeze(a){this.autoFreeze_=a}setUseStrictShallowCopy(a){this.useStrictShallowCopy_=a}setUseStrictIteration(a){this.useStrictIteration_=a}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(a,b){let c;for(c=b.length-1;c>=0;c--){let d=b[c];if(0===d.path.length&&"replace"===d.op){a=d.value;break}}c>-1&&(b=b.slice(c+1));let d=fC("Patches").applyPatches_;return fl(a)?d(a,b):this.produce(a,a=>d(a,b))}};function fT(a,b){let c=fu(a)?fC("MapSet").proxyMap_(a,b):fv(a)?fC("MapSet").proxySet_(a,b):function(a,b){let c=Array.isArray(a),d={type_:+!!c,scope_:b?b.scope_:lL,modified_:!1,finalized_:!1,assigned_:{},parent_:b,base_:a,draft_:null,copy_:null,revoke_:null,isManual_:!1},e=d,f=fM;c&&(e=[d],f=fN);let{revoke:g,proxy:h}=Proxy.revocable(e,f);return d.draft_=h,d.revoke_=g,h}(a,b);return(b?b.scope_:lL).drafts_.push(c),c}new fS().produce;var fU={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},fV=eh({name:"tooltip",initialState:{itemInteraction:{click:fU,hover:fU},axisInteraction:{click:fU,hover:fU},keyboardInteraction:fU,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(a,b){a.tooltipItemPayloads.push(b.payload)},prepare:eb()},replaceTooltipEntrySettings:{reducer(a,b){var{prev:c,next:d}=b.payload,e=dC(a).tooltipItemPayloads.indexOf(c);e>-1&&(a.tooltipItemPayloads[e]=d)},prepare:eb()},removeTooltipEntrySettings:{reducer(a,b){var c=dC(a).tooltipItemPayloads.indexOf(b.payload);c>-1&&a.tooltipItemPayloads.splice(c,1)},prepare:eb()},setTooltipSettingsState(a,b){a.settings=b.payload},setActiveMouseOverItemIndex(a,b){a.syncInteraction.active=!1,a.keyboardInteraction.active=!1,a.itemInteraction.hover.active=!0,a.itemInteraction.hover.index=b.payload.activeIndex,a.itemInteraction.hover.dataKey=b.payload.activeDataKey,a.itemInteraction.hover.graphicalItemId=b.payload.activeGraphicalItemId,a.itemInteraction.hover.coordinate=b.payload.activeCoordinate},mouseLeaveChart(a){a.itemInteraction.hover.active=!1,a.axisInteraction.hover.active=!1},mouseLeaveItem(a){a.itemInteraction.hover.active=!1},setActiveClickItemIndex(a,b){a.syncInteraction.active=!1,a.itemInteraction.click.active=!0,a.keyboardInteraction.active=!1,a.itemInteraction.click.index=b.payload.activeIndex,a.itemInteraction.click.dataKey=b.payload.activeDataKey,a.itemInteraction.click.graphicalItemId=b.payload.activeGraphicalItemId,a.itemInteraction.click.coordinate=b.payload.activeCoordinate},setMouseOverAxisIndex(a,b){a.syncInteraction.active=!1,a.axisInteraction.hover.active=!0,a.keyboardInteraction.active=!1,a.axisInteraction.hover.index=b.payload.activeIndex,a.axisInteraction.hover.dataKey=b.payload.activeDataKey,a.axisInteraction.hover.coordinate=b.payload.activeCoordinate},setMouseClickAxisIndex(a,b){a.syncInteraction.active=!1,a.keyboardInteraction.active=!1,a.axisInteraction.click.active=!0,a.axisInteraction.click.index=b.payload.activeIndex,a.axisInteraction.click.dataKey=b.payload.activeDataKey,a.axisInteraction.click.coordinate=b.payload.activeCoordinate},setSyncInteraction(a,b){a.syncInteraction=b.payload},setKeyboardInteraction(a,b){a.keyboardInteraction.active=b.payload.active,a.keyboardInteraction.index=b.payload.activeIndex,a.keyboardInteraction.coordinate=b.payload.activeCoordinate}}}),{addTooltipEntrySettings:fW,replaceTooltipEntrySettings:fX,removeTooltipEntrySettings:fY,setTooltipSettingsState:fZ,setActiveMouseOverItemIndex:f$,mouseLeaveItem:f_,mouseLeaveChart:f0,setActiveClickItemIndex:f1,setMouseOverAxisIndex:f2,setMouseClickAxisIndex:f3,setSyncInteraction:f4,setKeyboardInteraction:f5}=fV.actions,f6=fV.reducer,f7=eh({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(a,b){if(a.chartData=b.payload,null==b.payload){a.dataStartIndex=0,a.dataEndIndex=0;return}b.payload.length>0&&a.dataEndIndex!==b.payload.length-1&&(a.dataEndIndex=b.payload.length-1)},setComputedData(a,b){a.computedData=b.payload},setDataStartEndIndexes(a,b){var{startIndex:c,endIndex:d}=b.payload;null!=c&&(a.dataStartIndex=c),null!=d&&(a.dataEndIndex=d)}}}),{setChartData:f8,setDataStartEndIndexes:f9,setComputedData:ga}=f7.actions,gb=f7.reducer,gc=eh({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(a,b){a.layoutType=b.payload},setChartSize(a,b){a.width=b.payload.width,a.height=b.payload.height},setMargin(a,b){var c,d,e,f;a.margin.top=null!=(c=b.payload.top)?c:0,a.margin.right=null!=(d=b.payload.right)?d:0,a.margin.bottom=null!=(e=b.payload.bottom)?e:0,a.margin.left=null!=(f=b.payload.left)?f:0},setScale(a,b){a.scale=b.payload}}}),{setMargin:gd,setLayout:ge,setChartSize:gf,setScale:gg}=gc.actions,gh=gc.reducer,gi=a.i(64442),gj=(0,D.createContext)(null),gk=a=>a,gl=()=>{var a=(0,D.useContext)(gj);return a?a.store.dispatch:gk},gm=()=>{},gn=()=>gm,go=(a,b)=>a===b;function gp(a){var b=(0,D.useContext)(gj),c=(0,D.useMemo)(()=>b?b=>{if(null!=b)return a(b)}:gm,[b,a]);return(0,gi.useSyncExternalStoreWithSelector)(b?b.subscription.addNestedSub:gn,b?b.store.getState:gm,b?b.store.getState:gm,c,go)}var gq=a.i(81101),gr=a=>a.legend.settings;function gs(a){return"object"==typeof a&&"length"in a?a:Array.from(a)}function gt(a){return function(){return a}}function gu(a,b){if((e=a.length)>1)for(var c,d,e,f=1,g=a[b[0]],h=g.length;f<e;++f)for(d=g,g=a[b[f]],c=0;c<h;++c)g[c][1]+=g[c][0]=isNaN(d[c][1])?d[c][0]:d[c][1]}function gv(a){for(var b=a.length,c=Array(b);--b>=0;)c[b]=b;return c}function gw(a,b){return a[b]}function gx(a){let b=[];return b.key=a,b}function gy(a,b,c){return Array.isArray(a)&&a&&b+c!==0?a.slice(b,c+1):a}function gz(a){return Number.isFinite(a)}function gA(a){return"number"==typeof a&&a>0&&Number.isFinite(a)}function gB(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function gC(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?gB(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):gB(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function gD(a,b,c){return null==a||null==b?c:eV(b)?(0,eO.default)(a,b,c):"function"==typeof b?b(a):c}dV([a=>a.legend.payload,gr],(a,b)=>{var{itemSorter:c}=b,d=a.flat(1);return c?(0,gq.default)(d,c):d}),Array.prototype.slice;var gE=(a,b)=>"horizontal"===a&&"xAxis"===b||"vertical"===a&&"yAxis"===b||"centric"===a&&"angleAxis"===b||"radial"===a&&"radiusAxis"===b,gF={sign:a=>{var b,c=a.length;if(!(c<=0)){var d=null==(b=a[0])?void 0:b.length;if(null!=d&&!(d<=0))for(var e=0;e<d;++e)for(var f=0,g=0,h=0;h<c;++h){var i=a[h],j=null==i?void 0:i[e];if(null!=j){var k=j[1],l=j[0],m=eS(k)?l:k;m>=0?(j[0]=f,f+=m,j[1]=f):(j[0]=g,g+=m,j[1]=g)}}}},expand:function(a,b){if((d=a.length)>0){for(var c,d,e,f=0,g=a[0].length;f<g;++f){for(e=c=0;c<d;++c)e+=a[c][f][1]||0;if(e)for(c=0;c<d;++c)a[c][f][1]/=e}gu(a,b)}},none:gu,silhouette:function(a,b){if((c=a.length)>0){for(var c,d=0,e=a[b[0]],f=e.length;d<f;++d){for(var g=0,h=0;g<c;++g)h+=a[g][d][1]||0;e[d][1]+=e[d][0]=-h/2}gu(a,b)}},wiggle:function(a,b){if((e=a.length)>0&&(d=(c=a[b[0]]).length)>0){for(var c,d,e,f=0,g=1;g<d;++g){for(var h=0,i=0,j=0;h<e;++h){for(var k=a[b[h]],l=k[g][1]||0,m=(l-(k[g-1][1]||0))/2,n=0;n<h;++n){var o=a[b[n]];m+=(o[g][1]||0)-(o[g-1][1]||0)}i+=l,j+=m*l}c[g-1][1]+=c[g-1][0]=f,i&&(f-=j/i)}c[g-1][1]+=c[g-1][0]=f,gu(a,b)}},positive:a=>{var b,c=a.length;if(!(c<=0)){var d=null==(b=a[0])?void 0:b.length;if(null!=d&&!(d<=0))for(var e=0;e<d;++e)for(var f=0,g=0;g<c;++g){var h=a[g],i=null==h?void 0:h[e];if(null!=i){var j=eS(i[1])?i[0]:i[1];j>=0?(i[0]=f,f+=j,i[1]=f):(i[0]=0,i[1]=0)}}}}},gG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gH=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gI=(a,b,c)=>{if(a&&a.scale&&a.scale.bandwidth){var d=a.scale.bandwidth();if(!c||d>0)return d}if(a&&b&&b.length>=2){for(var e=(0,gq.default)(b,a=>a.coordinate),f=1/0,g=1,h=e.length;g<h;g++){var i=e[g],j=e[g-1];f=Math.min(((null==i?void 0:i.coordinate)||0)-((null==j?void 0:j.coordinate)||0),f)}return f===1/0?0:f}return c?void 0:0};function gJ(a){var{tooltipEntrySettings:b,dataKey:c,payload:d,value:e,name:f}=a;return gC(gC({},b),{},{dataKey:c,payload:d,value:e,name:f})}function gK(a,b){return a?String(a):"string"==typeof b?b:void 0}var gL=a=>a.layout.width,gM=a=>a.layout.height,gN=a=>a.layout.scale,gO=a=>a.layout.margin,gP=dV(a=>a.cartesianAxis.xAxis,a=>Object.values(a)),gQ=dV(a=>a.cartesianAxis.yAxis,a=>Object.values(a)),gR="data-recharts-item-index",gS="data-recharts-item-id";function gT(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function gU(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?gT(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):gT(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var gV=dV([gL,gM,gO,a=>a.brush.height,function(a){return gQ(a).reduce((a,b)=>"left"!==b.orientation||b.mirror||b.hide?a:a+("number"==typeof b.width?b.width:60),0)},function(a){return gQ(a).reduce((a,b)=>"right"!==b.orientation||b.mirror||b.hide?a:a+("number"==typeof b.width?b.width:60),0)},function(a){return gP(a).reduce((a,b)=>"top"!==b.orientation||b.mirror||b.hide?a:a+b.height,0)},function(a){return gP(a).reduce((a,b)=>"bottom"!==b.orientation||b.mirror||b.hide?a:a+b.height,0)},gr,a=>a.legend.size],(a,b,c,d,e,f,g,h,i,j)=>{var k={left:(c.left||0)+e,right:(c.right||0)+f},l=gU(gU({},{top:(c.top||0)+g,bottom:(c.bottom||0)+h}),k),m=l.bottom;l.bottom+=d;var n=a-(l=((a,b,c)=>{if(b&&c){var{width:d,height:e}=c,{align:f,verticalAlign:g,layout:h}=b;if(("vertical"===h||"horizontal"===h&&"middle"===g)&&"center"!==f&&eU(a[f]))return gC(gC({},a),{},{[f]:a[f]+(d||0)});if(("horizontal"===h||"vertical"===h&&"center"===f)&&"middle"!==g&&eU(a[g]))return gC(gC({},a),{},{[g]:a[g]+(e||0)})}return a})(l,i,j)).left-l.right,o=b-l.top-l.bottom;return gU(gU({brushBottom:m},l),{},{width:Math.max(n,0),height:Math.max(o,0)})}),gW=dV(gV,a=>({x:a.left,y:a.top,width:a.width,height:a.height}));dV(gL,gM,(a,b)=>({x:0,y:0,width:a,height:b}));var gX=(0,D.createContext)(null),gY=()=>null!=(0,D.useContext)(gX),gZ=a=>a.brush,g$=dV([gZ,gV,gO],(a,b,c)=>({height:a.height,x:eU(a.x)?a.x:b.left,y:eU(a.y)?a.y:b.top+b.height+b.brushBottom-((null==c?void 0:c.bottom)||0),width:eU(a.width)?a.width:b.width}));function g_(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}var g0=a.i(61349),g1=function(a,b){for(var c=arguments.length,d=Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];if("u">typeof console&&console.warn&&(void 0===b&&console.warn("LogUtils requires an error message argument"),!a))if(void 0===b)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=0;console.warn(b.replace(/%s/g,()=>d[f++]))}},g2="100%",g3="100%",g4={width:-1,height:-1},g5=(a,b,c)=>{var{width:d=g2,height:e=g3,aspect:f,maxHeight:g}=c,h=eT(d)?a:Number(d),i=eT(e)?b:Number(e);return f&&f>0&&(h?i=h/f:i&&(h=i*f),g&&null!=i&&i>g&&(i=g)),{calculatedWidth:h,calculatedHeight:i}},g6={width:0,height:0,overflow:"visible"},g7={width:0,overflowX:"visible"},g8={height:0,overflowY:"visible"},g9={};function ha(){return(ha=Object.assign.bind()).apply(null,arguments)}function hb(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function hc(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?hb(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):hb(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var hd=(0,D.createContext)(g4);function he(a){var{children:b,width:c,height:d}=a,e=(0,D.useMemo)(()=>({width:c,height:d}),[c,d]);return gA(e.width)&&gA(e.height)?D.createElement(hd.Provider,{value:e},b):null}var hf=()=>(0,D.useContext)(hd),hg=(0,D.forwardRef)((a,b)=>{var{aspect:c,initialDimension:d=g4,width:e,height:f,minWidth:g=0,minHeight:h,maxHeight:i,children:j,debounce:k=0,id:l,className:m,onResize:n,style:o={}}=a,p=(0,D.useRef)(null),q=(0,D.useRef)();q.current=n,(0,D.useImperativeHandle)(b,()=>p.current);var[r,s]=(0,D.useState)({containerWidth:d.width,containerHeight:d.height}),t=(0,D.useCallback)((a,b)=>{s(c=>{var d=Math.round(a),e=Math.round(b);return c.containerWidth===d&&c.containerHeight===e?c:{containerWidth:d,containerHeight:e}})},[]);(0,D.useEffect)(()=>{if(null==p.current||"u"<typeof ResizeObserver)return e1;var a=a=>{var b,c=a[0];if(null!=c){var{width:d,height:e}=c.contentRect;t(d,e),null==(b=q.current)||b.call(q,d,e)}};k>0&&(a=(0,g0.default)(a,k,{trailing:!0,leading:!1}));var b=new ResizeObserver(a),{width:c,height:d}=p.current.getBoundingClientRect();return t(c,d),b.observe(p.current),()=>{b.disconnect()}},[t,k]);var{containerWidth:u,containerHeight:v}=r;g1(!c||c>0,"The aspect(%s) must be greater than zero.",c);var{calculatedWidth:w,calculatedHeight:x}=g5(u,v,{width:e,height:f,aspect:c,maxHeight:i});return g1(null!=w&&w>0||null!=x&&x>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",w,x,e,f,g,h,c),D.createElement("div",{id:l?"".concat(l):void 0,className:g_("recharts-responsive-container",m),style:hc(hc({},o),{},{width:e,height:f,minWidth:g,minHeight:h,maxHeight:i}),ref:p},D.createElement("div",{style:(a=>{var{width:b,height:c}=a,d=eT(b),e=eT(c);return d&&e?g6:d?g7:e?g8:g9})({width:e,height:f})},D.createElement(he,{width:w,height:x},j)))}),hh=(0,D.forwardRef)((a,b)=>{var c=hf();if(gA(c.width)&&gA(c.height))return a.children;var{width:d,height:e}=function(a){var{width:b,height:c,aspect:d}=a,e=b,f=c;return void 0===e&&void 0===f?(e=g2,f=g3):void 0===e?e=d&&d>0?void 0:g2:void 0===f&&(f=d&&d>0?void 0:g3),{width:e,height:f}}({width:a.width,height:a.height,aspect:a.aspect}),{calculatedWidth:f,calculatedHeight:g}=g5(void 0,void 0,{width:d,height:e,aspect:a.aspect,maxHeight:a.maxHeight});return eU(f)&&eU(g)?D.createElement(he,{width:f,height:g},a.children):D.createElement(hg,ha({},a,{width:d,height:e,ref:b}))});function hi(a){if(a)return{x:a.x,y:a.y,upperWidth:"upperWidth"in a?a.upperWidth:a.width,lowerWidth:"lowerWidth"in a?a.lowerWidth:a.width,width:a.width,height:a.height}}var hj=()=>{var a,b=gY(),c=gp(gW),d=gp(g$),e=null==(a=gp(gZ))?void 0:a.padding;return b&&d&&e?{width:d.width-e.left-e.right,height:d.height-e.top-e.bottom,x:e.left,y:e.top}:c},hk={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},hl=a=>a.layout.layoutType,hm=a=>{var b=a.layout.layoutType;if("centric"===b||"radial"===b)return b},hn=a=>{var b=gl(),c=gY(),{width:d,height:e}=a,f=hf(),g=d,h=e;return f&&(g=f.width>0?f.width:d,h=f.height>0?f.height:e),(0,D.useEffect)(()=>{!c&&gA(g)&&gA(h)&&b(gf({width:g,height:h}))},[b,c,g,h]),null},ho=a.i(56161);function hp(a,b){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(b).domain(a)}return this}function hq(a,b){switch(arguments.length){case 0:break;case 1:"function"==typeof a?this.interpolator(a):this.range(a);break;default:this.domain(a),"function"==typeof b?this.interpolator(b):this.range(b)}return this}a.s([],62346),a.i(62346),a.s([],75333),a.i(75333);class hr extends Map{constructor(a,b=ht){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:b}}),null!=a)for(const[b,c]of a)this.set(b,c)}get(a){return super.get(hs(this,a))}has(a){return super.has(hs(this,a))}set(a,b){return super.set(function({_intern:a,_key:b},c){let d=b(c);return a.has(d)?a.get(d):(a.set(d,c),c)}(this,a),b)}delete(a){return super.delete(function({_intern:a,_key:b},c){let d=b(c);return a.has(d)&&(c=a.get(d),a.delete(d)),c}(this,a))}}function hs({_intern:a,_key:b},c){let d=b(c);return a.has(d)?a.get(d):c}function ht(a){return null!==a&&"object"==typeof a?a.valueOf():a}let hu=Symbol("implicit");function hv(){var a=new hr,b=[],c=[],d=hu;function e(e){let f=a.get(e);if(void 0===f){if(d!==hu)return d;a.set(e,f=b.push(e)-1)}return c[f%c.length]}return e.domain=function(c){if(!arguments.length)return b.slice();for(let d of(b=[],a=new hr,c))a.has(d)||a.set(d,b.push(d)-1);return e},e.range=function(a){return arguments.length?(c=Array.from(a),e):c.slice()},e.unknown=function(a){return arguments.length?(d=a,e):d},e.copy=function(){return hv(b,c).unknown(d)},hp.apply(e,arguments),e}function hw(){var a,b,c=hv().unknown(void 0),d=c.domain,e=c.range,f=0,g=1,h=!1,i=0,j=0,k=.5;function l(){var c=d().length,l=g<f,m=l?g:f,n=l?f:g;a=(n-m)/Math.max(1,c-i+2*j),h&&(a=Math.floor(a)),m+=(n-m-a*(c-i))*k,b=a*(1-i),h&&(m=Math.round(m),b=Math.round(b));var o=(function(a,b,c){a*=1,b*=1,c=(e=arguments.length)<2?(b=a,a=0,1):e<3?1:+c;for(var d=-1,e=0|Math.max(0,Math.ceil((b-a)/c)),f=Array(e);++d<e;)f[d]=a+d*c;return f})(c).map(function(b){return m+a*b});return e(l?o.reverse():o)}return delete c.unknown,c.domain=function(a){return arguments.length?(d(a),l()):d()},c.range=function(a){return arguments.length?([f,g]=a,f*=1,g*=1,l()):[f,g]},c.rangeRound=function(a){return[f,g]=a,f*=1,g*=1,h=!0,l()},c.bandwidth=function(){return b},c.step=function(){return a},c.round=function(a){return arguments.length?(h=!!a,l()):h},c.padding=function(a){return arguments.length?(i=Math.min(1,j=+a),l()):i},c.paddingInner=function(a){return arguments.length?(i=Math.min(1,a),l()):i},c.paddingOuter=function(a){return arguments.length?(j=+a,l()):j},c.align=function(a){return arguments.length?(k=Math.max(0,Math.min(1,a)),l()):k},c.copy=function(){return hw(d(),[f,g]).round(h).paddingInner(i).paddingOuter(j).align(k)},hp.apply(l(),arguments)}function hx(){return function a(b){var c=b.copy;return b.padding=b.paddingOuter,delete b.paddingInner,delete b.paddingOuter,b.copy=function(){return a(c())},b}(hw.apply(null,arguments).paddingInner(1))}let hy=Math.sqrt(50),hz=Math.sqrt(10),hA=Math.sqrt(2);function hB(a,b,c){let d,e,f,g=(b-a)/Math.max(0,c),h=Math.floor(Math.log10(g)),i=g/Math.pow(10,h),j=i>=hy?10:i>=hz?5:i>=hA?2:1;return(h<0?(d=Math.round(a*(f=Math.pow(10,-h)/j)),e=Math.round(b*f),d/f<a&&++d,e/f>b&&--e,f=-f):(d=Math.round(a/(f=Math.pow(10,h)*j)),e=Math.round(b/f),d*f<a&&++d,e*f>b&&--e),e<d&&.5<=c&&c<2)?hB(a,b,2*c):[d,e,f]}function hC(a,b,c){if(b*=1,a*=1,!((c*=1)>0))return[];if(a===b)return[a];let d=b<a,[e,f,g]=d?hB(b,a,c):hB(a,b,c);if(!(f>=e))return[];let h=f-e+1,i=Array(h);if(d)if(g<0)for(let a=0;a<h;++a)i[a]=-((f-a)/g);else for(let a=0;a<h;++a)i[a]=(f-a)*g;else if(g<0)for(let a=0;a<h;++a)i[a]=-((e+a)/g);else for(let a=0;a<h;++a)i[a]=(e+a)*g;return i}function hD(a,b,c){return hB(a*=1,b*=1,c*=1)[2]}function hE(a,b,c){b*=1,a*=1,c*=1;let d=b<a,e=d?hD(b,a,c):hD(a,b,c);return(d?-1:1)*(e<0?-(1/e):e)}function hF(a,b){return null==a||null==b?NaN:a<b?-1:a>b?1:a>=b?0:NaN}function hG(a,b){return null==a||null==b?NaN:b<a?-1:b>a?1:b>=a?0:NaN}function hH(a){let b,c,d;function e(a,d,f=0,g=a.length){if(f<g){if(0!==b(d,d))return g;do{let b=f+g>>>1;0>c(a[b],d)?f=b+1:g=b}while(f<g)}return f}return 2!==a.length?(b=hF,c=(b,c)=>hF(a(b),c),d=(b,c)=>a(b)-c):(b=a===hF||a===hG?a:hI,c=a,d=a),{left:e,center:function(a,b,c=0,f=a.length){let g=e(a,b,c,f-1);return g>c&&d(a[g-1],b)>-d(a[g],b)?g-1:g},right:function(a,d,e=0,f=a.length){if(e<f){if(0!==b(d,d))return f;do{let b=e+f>>>1;0>=c(a[b],d)?e=b+1:f=b}while(e<f)}return e}}}function hI(){return 0}function hJ(a){return null===a?NaN:+a}let hK=hH(hF),hL=hK.right;function hM(a,b,c){a.prototype=b.prototype=c,c.constructor=a}function hN(a,b){var c=Object.create(a.prototype);for(var d in b)c[d]=b[d];return c}function hO(){}hK.left,hH(hJ).center;var hP="\\s*([+-]?\\d+)\\s*",hQ="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hR="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hS=/^#([0-9a-f]{3,8})$/,hT=RegExp(`^rgb\\(${hP},${hP},${hP}\\)$`),hU=RegExp(`^rgb\\(${hR},${hR},${hR}\\)$`),hV=RegExp(`^rgba\\(${hP},${hP},${hP},${hQ}\\)$`),hW=RegExp(`^rgba\\(${hR},${hR},${hR},${hQ}\\)$`),hX=RegExp(`^hsl\\(${hQ},${hR},${hR}\\)$`),hY=RegExp(`^hsla\\(${hQ},${hR},${hR},${hQ}\\)$`),hZ={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function h$(){return this.rgb().formatHex()}function h_(){return this.rgb().formatRgb()}function h0(a){var b,c;return a=(a+"").trim().toLowerCase(),(b=hS.exec(a))?(c=b[1].length,b=parseInt(b[1],16),6===c?h1(b):3===c?new h4(b>>8&15|b>>4&240,b>>4&15|240&b,(15&b)<<4|15&b,1):8===c?h2(b>>24&255,b>>16&255,b>>8&255,(255&b)/255):4===c?h2(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|240&b,((15&b)<<4|15&b)/255):null):(b=hT.exec(a))?new h4(b[1],b[2],b[3],1):(b=hU.exec(a))?new h4(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=hV.exec(a))?h2(b[1],b[2],b[3],b[4]):(b=hW.exec(a))?h2(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=hX.exec(a))?ia(b[1],b[2]/100,b[3]/100,1):(b=hY.exec(a))?ia(b[1],b[2]/100,b[3]/100,b[4]):hZ.hasOwnProperty(a)?h1(hZ[a]):"transparent"===a?new h4(NaN,NaN,NaN,0):null}function h1(a){return new h4(a>>16&255,a>>8&255,255&a,1)}function h2(a,b,c,d){return d<=0&&(a=b=c=NaN),new h4(a,b,c,d)}function h3(a,b,c,d){var e;return 1==arguments.length?((e=a)instanceof hO||(e=h0(e)),e)?new h4((e=e.rgb()).r,e.g,e.b,e.opacity):new h4:new h4(a,b,c,null==d?1:d)}function h4(a,b,c,d){this.r=+a,this.g=+b,this.b=+c,this.opacity=+d}function h5(){return`#${h9(this.r)}${h9(this.g)}${h9(this.b)}`}function h6(){let a=h7(this.opacity);return`${1===a?"rgb(":"rgba("}${h8(this.r)}, ${h8(this.g)}, ${h8(this.b)}${1===a?")":`, ${a})`}`}function h7(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function h8(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function h9(a){return((a=h8(a))<16?"0":"")+a.toString(16)}function ia(a,b,c,d){return d<=0?a=b=c=NaN:c<=0||c>=1?a=b=NaN:b<=0&&(a=NaN),new ic(a,b,c,d)}function ib(a){if(a instanceof ic)return new ic(a.h,a.s,a.l,a.opacity);if(a instanceof hO||(a=h0(a)),!a)return new ic;if(a instanceof ic)return a;var b=(a=a.rgb()).r/255,c=a.g/255,d=a.b/255,e=Math.min(b,c,d),f=Math.max(b,c,d),g=NaN,h=f-e,i=(f+e)/2;return h?(g=b===f?(c-d)/h+(c<d)*6:c===f?(d-b)/h+2:(b-c)/h+4,h/=i<.5?f+e:2-f-e,g*=60):h=i>0&&i<1?0:g,new ic(g,h,i,a.opacity)}function ic(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function id(a){return(a=(a||0)%360)<0?a+360:a}function ie(a){return Math.max(0,Math.min(1,a||0))}function ig(a,b,c){return(a<60?b+(c-b)*a/60:a<180?c:a<240?b+(c-b)*(240-a)/60:b)*255}function ih(a,b,c,d,e){var f=a*a,g=f*a;return((1-3*a+3*f-g)*b+(4-6*f+3*g)*c+(1+3*a+3*f-3*g)*d+g*e)/6}hM(hO,h0,{copy(a){return Object.assign(new this.constructor,this,a)},displayable(){return this.rgb().displayable()},hex:h$,formatHex:h$,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ib(this).formatHsl()},formatRgb:h_,toString:h_}),hM(h4,h3,hN(hO,{brighter(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new h4(this.r*a,this.g*a,this.b*a,this.opacity)},darker(a){return a=null==a?.7:Math.pow(.7,a),new h4(this.r*a,this.g*a,this.b*a,this.opacity)},rgb(){return this},clamp(){return new h4(h8(this.r),h8(this.g),h8(this.b),h7(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h5,formatHex:h5,formatHex8:function(){return`#${h9(this.r)}${h9(this.g)}${h9(this.b)}${h9((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:h6,toString:h6})),hM(ic,function(a,b,c,d){return 1==arguments.length?ib(a):new ic(a,b,c,null==d?1:d)},hN(hO,{brighter(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new ic(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=null==a?.7:Math.pow(.7,a),new ic(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=this.h%360+(this.h<0)*360,b=isNaN(a)||isNaN(this.s)?0:this.s,c=this.l,d=c+(c<.5?c:1-c)*b,e=2*c-d;return new h4(ig(a>=240?a-240:a+120,e,d),ig(a,e,d),ig(a<120?a+240:a-120,e,d),this.opacity)},clamp(){return new ic(id(this.h),ie(this.s),ie(this.l),h7(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let a=h7(this.opacity);return`${1===a?"hsl(":"hsla("}${id(this.h)}, ${100*ie(this.s)}%, ${100*ie(this.l)}%${1===a?")":`, ${a})`}`}}));let ii=a=>()=>a;function ij(a,b){var c=b-a;return c?function(b){return a+b*c}:ii(isNaN(a)?b:a)}let ik=function a(b){var c,d=1==(c=+b)?ij:function(a,b){var d,e,f;return b-a?(d=a,e=b,d=Math.pow(d,f=c),e=Math.pow(e,f)-d,f=1/f,function(a){return Math.pow(d+a*e,f)}):ii(isNaN(a)?b:a)};function e(a,b){var c=d((a=h3(a)).r,(b=h3(b)).r),e=d(a.g,b.g),f=d(a.b,b.b),g=ij(a.opacity,b.opacity);return function(b){return a.r=c(b),a.g=e(b),a.b=f(b),a.opacity=g(b),a+""}}return e.gamma=a,e}(1);function il(a){return function(b){var c,d,e=b.length,f=Array(e),g=Array(e),h=Array(e);for(c=0;c<e;++c)d=h3(b[c]),f[c]=d.r||0,g[c]=d.g||0,h[c]=d.b||0;return f=a(f),g=a(g),h=a(h),d.opacity=1,function(a){return d.r=f(a),d.g=g(a),d.b=h(a),d+""}}}function im(a,b){return a*=1,b*=1,function(c){return a*(1-c)+b*c}}il(function(a){var b=a.length-1;return function(c){var d=c<=0?c=0:c>=1?(c=1,b-1):Math.floor(c*b),e=a[d],f=a[d+1],g=d>0?a[d-1]:2*e-f,h=d<b-1?a[d+2]:2*f-e;return ih((c-d/b)*b,g,e,f,h)}}),il(function(a){var b=a.length;return function(c){var d=Math.floor(((c%=1)<0?++c:c)*b),e=a[(d+b-1)%b],f=a[d%b],g=a[(d+1)%b],h=a[(d+2)%b];return ih((c-d/b)*b,e,f,g,h)}});var io=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ip=RegExp(io.source,"g");function iq(a,b){var c,d,e=typeof b;return null==b||"boolean"===e?ii(b):("number"===e?im:"string"===e?(d=h0(b))?(b=d,ik):function(a,b){var c,d,e,f,g,h=io.lastIndex=ip.lastIndex=0,i=-1,j=[],k=[];for(a+="",b+="";(e=io.exec(a))&&(f=ip.exec(b));)(g=f.index)>h&&(g=b.slice(h,g),j[i]?j[i]+=g:j[++i]=g),(e=e[0])===(f=f[0])?j[i]?j[i]+=f:j[++i]=f:(j[++i]=null,k.push({i:i,x:im(e,f)})),h=ip.lastIndex;return h<b.length&&(g=b.slice(h),j[i]?j[i]+=g:j[++i]=g),j.length<2?k[0]?(c=k[0].x,function(a){return c(a)+""}):(d=b,function(){return d}):(b=k.length,function(a){for(var c,d=0;d<b;++d)j[(c=k[d]).i]=c.x(a);return j.join("")})}:b instanceof h0?ik:b instanceof Date?function(a,b){var c=new Date;return a*=1,b*=1,function(d){return c.setTime(a*(1-d)+b*d),c}}:!ArrayBuffer.isView(c=b)||c instanceof DataView?Array.isArray(b)?function(a,b){var c,d=b?b.length:0,e=a?Math.min(d,a.length):0,f=Array(e),g=Array(d);for(c=0;c<e;++c)f[c]=iq(a[c],b[c]);for(;c<d;++c)g[c]=b[c];return function(a){for(c=0;c<e;++c)g[c]=f[c](a);return g}}:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?function(a,b){var c,d={},e={};for(c in(null===a||"object"!=typeof a)&&(a={}),(null===b||"object"!=typeof b)&&(b={}),b)c in a?d[c]=iq(a[c],b[c]):e[c]=b[c];return function(a){for(c in d)e[c]=d[c](a);return e}}:im:function(a,b){b||(b=[]);var c,d=a?Math.min(b.length,a.length):0,e=b.slice();return function(f){for(c=0;c<d;++c)e[c]=a[c]*(1-f)+b[c]*f;return e}})(a,b)}function ir(a,b){return a*=1,b*=1,function(c){return Math.round(a*(1-c)+b*c)}}function is(a){return+a}var it=[0,1];function iu(a){return a}function iv(a,b){var c;return(b-=a*=1)?function(c){return(c-a)/b}:(c=isNaN(b)?NaN:.5,function(){return c})}function iw(a,b,c){var d=a[0],e=a[1],f=b[0],g=b[1];return e<d?(d=iv(e,d),f=c(g,f)):(d=iv(d,e),f=c(f,g)),function(a){return f(d(a))}}function ix(a,b,c){var d=Math.min(a.length,b.length)-1,e=Array(d),f=Array(d),g=-1;for(a[d]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++g<d;)e[g]=iv(a[g],a[g+1]),f[g]=c(b[g],b[g+1]);return function(b){var c=hL(a,b,1,d)-1;return f[c](e[c](b))}}function iy(a,b){return b.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function iz(){var a,b,c,d,e,f,g=it,h=it,i=iq,j=iu;function k(){var a,b,c,i=Math.min(g.length,h.length);return j!==iu&&(a=g[0],b=g[i-1],a>b&&(c=a,a=b,b=c),j=function(c){return Math.max(a,Math.min(b,c))}),d=i>2?ix:iw,e=f=null,l}function l(b){return null==b||isNaN(b*=1)?c:(e||(e=d(g.map(a),h,i)))(a(j(b)))}return l.invert=function(c){return j(b((f||(f=d(h,g.map(a),im)))(c)))},l.domain=function(a){return arguments.length?(g=Array.from(a,is),k()):g.slice()},l.range=function(a){return arguments.length?(h=Array.from(a),k()):h.slice()},l.rangeRound=function(a){return h=Array.from(a),i=ir,k()},l.clamp=function(a){return arguments.length?(j=!!a||iu,k()):j!==iu},l.interpolate=function(a){return arguments.length?(i=a,k()):i},l.unknown=function(a){return arguments.length?(c=a,l):c},function(c,d){return a=c,b=d,k()}}function iA(){return iz()(iu,iu)}function iB(a,b){if(!isFinite(a)||0===a)return null;var c=(a=b?a.toExponential(b-1):a.toExponential()).indexOf("e"),d=a.slice(0,c);return[d.length>1?d[0]+d.slice(2):d,+a.slice(c+1)]}function iC(a){return(a=iB(Math.abs(a)))?a[1]:NaN}var iD=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function iE(a){var b;if(!(b=iD.exec(a)))throw Error("invalid format: "+a);return new iF({fill:b[1],align:b[2],sign:b[3],symbol:b[4],zero:b[5],width:b[6],comma:b[7],precision:b[8]&&b[8].slice(1),trim:b[9],type:b[10]})}function iF(a){this.fill=void 0===a.fill?" ":a.fill+"",this.align=void 0===a.align?">":a.align+"",this.sign=void 0===a.sign?"-":a.sign+"",this.symbol=void 0===a.symbol?"":a.symbol+"",this.zero=!!a.zero,this.width=void 0===a.width?void 0:+a.width,this.comma=!!a.comma,this.precision=void 0===a.precision?void 0:+a.precision,this.trim=!!a.trim,this.type=void 0===a.type?"":a.type+""}function iG(a,b){var c=iB(a,b);if(!c)return a+"";var d=c[0],e=c[1];return e<0?"0."+Array(-e).join("0")+d:d.length>e+1?d.slice(0,e+1)+"."+d.slice(e+1):d+Array(e-d.length+2).join("0")}iE.prototype=iF.prototype,iF.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};let iH={"%":(a,b)=>(100*a).toFixed(b),b:a=>Math.round(a).toString(2),c:a=>a+"",d:function(a){return Math.abs(a=Math.round(a))>=1e21?a.toLocaleString("en").replace(/,/g,""):a.toString(10)},e:(a,b)=>a.toExponential(b),f:(a,b)=>a.toFixed(b),g:(a,b)=>a.toPrecision(b),o:a=>Math.round(a).toString(8),p:(a,b)=>iG(100*a,b),r:iG,s:function(a,b){var c=iB(a,b);if(!c)return lM=void 0,a.toPrecision(b);var d=c[0],e=c[1],f=e-(lM=3*Math.max(-8,Math.min(8,Math.floor(e/3))))+1,g=d.length;return f===g?d:f>g?d+Array(f-g+1).join("0"):f>0?d.slice(0,f)+"."+d.slice(f):"0."+Array(1-f).join("0")+iB(a,Math.max(0,b+f-1))[0]},X:a=>Math.round(a).toString(16).toUpperCase(),x:a=>Math.round(a).toString(16)};function iI(a){return a}var iJ=Array.prototype.map,iK=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function iL(a,b,c,d){var e,f,g=hE(a,b,c);switch((d=iE(null==d?",f":d)).type){case"s":var h=Math.max(Math.abs(a),Math.abs(b));return null!=d.precision||isNaN(f=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(iC(h)/3)))-iC(Math.abs(g))))||(d.precision=f),lP(d,h);case"":case"e":case"g":case"p":case"r":null!=d.precision||isNaN(f=Math.max(0,iC(Math.abs(Math.max(Math.abs(a),Math.abs(b)))-(e=Math.abs(e=g)))-iC(e))+1)||(d.precision=f-("e"===d.type));break;case"f":case"%":null!=d.precision||isNaN(f=Math.max(0,-iC(Math.abs(g))))||(d.precision=f-("%"===d.type)*2)}return lO(d)}function iM(a){var b=a.domain;return a.ticks=function(a){var c=b();return hC(c[0],c[c.length-1],null==a?10:a)},a.tickFormat=function(a,c){var d=b();return iL(d[0],d[d.length-1],null==a?10:a,c)},a.nice=function(c){null==c&&(c=10);var d,e,f=b(),g=0,h=f.length-1,i=f[g],j=f[h],k=10;for(j<i&&(e=i,i=j,j=e,e=g,g=h,h=e);k-- >0;){if((e=hD(i,j,c))===d)return f[g]=i,f[h]=j,b(f);if(e>0)i=Math.floor(i/e)*e,j=Math.ceil(j/e)*e;else if(e<0)i=Math.ceil(i*e)/e,j=Math.floor(j*e)/e;else break;d=e}return a},a}function iN(){var a=iA();return a.copy=function(){return iy(a,iN())},hp.apply(a,arguments),iM(a)}function iO(a){var b;function c(a){return null==a||isNaN(a*=1)?b:a}return c.invert=c,c.domain=c.range=function(b){return arguments.length?(a=Array.from(b,is),c):a.slice()},c.unknown=function(a){return arguments.length?(b=a,c):b},c.copy=function(){return iO(a).unknown(b)},a=arguments.length?Array.from(a,is):[0,1],iM(c)}function iP(a,b){a=a.slice();var c,d=0,e=a.length-1,f=a[d],g=a[e];return g<f&&(c=d,d=e,e=c,c=f,f=g,g=c),a[d]=b.floor(f),a[e]=b.ceil(g),a}function iQ(a){return Math.log(a)}function iR(a){return Math.exp(a)}function iS(a){return-Math.log(-a)}function iT(a){return-Math.exp(-a)}function iU(a){return isFinite(a)?+("1e"+a):a<0?0:a}function iV(a){return(b,c)=>-a(-b,c)}function iW(a){let b,c,d=a(iQ,iR),e=d.domain,f=10;function g(){var g,h;return b=(g=f)===Math.E?Math.log:10===g&&Math.log10||2===g&&Math.log2||(g=Math.log(g),a=>Math.log(a)/g),c=10===(h=f)?iU:h===Math.E?Math.exp:a=>Math.pow(h,a),e()[0]<0?(b=iV(b),c=iV(c),a(iS,iT)):a(iQ,iR),d}return d.base=function(a){return arguments.length?(f=+a,g()):f},d.domain=function(a){return arguments.length?(e(a),g()):e()},d.ticks=a=>{let d,g,h=e(),i=h[0],j=h[h.length-1],k=j<i;k&&([i,j]=[j,i]);let l=b(i),m=b(j),n=null==a?10:+a,o=[];if(!(f%1)&&m-l<n){if(l=Math.floor(l),m=Math.ceil(m),i>0){for(;l<=m;++l)for(d=1;d<f;++d)if(!((g=l<0?d/c(-l):d*c(l))<i)){if(g>j)break;o.push(g)}}else for(;l<=m;++l)for(d=f-1;d>=1;--d)if(!((g=l>0?d/c(-l):d*c(l))<i)){if(g>j)break;o.push(g)}2*o.length<n&&(o=hC(i,j,n))}else o=hC(l,m,Math.min(m-l,n)).map(c);return k?o.reverse():o},d.tickFormat=(a,e)=>{if(null==a&&(a=10),null==e&&(e=10===f?"s":","),"function"!=typeof e&&(f%1||null!=(e=iE(e)).precision||(e.trim=!0),e=lO(e)),a===1/0)return e;let g=Math.max(1,f*a/d.ticks().length);return a=>{let d=a/c(Math.round(b(a)));return d*f<f-.5&&(d*=f),d<=g?e(a):""}},d.nice=()=>e(iP(e(),{floor:a=>c(Math.floor(b(a))),ceil:a=>c(Math.ceil(b(a)))})),d}function iX(){let a=iW(iz()).domain([1,10]);return a.copy=()=>iy(a,iX()).base(a.base()),hp.apply(a,arguments),a}function iY(a){return function(b){return Math.sign(b)*Math.log1p(Math.abs(b/a))}}function iZ(a){return function(b){return Math.sign(b)*Math.expm1(Math.abs(b))*a}}function i$(a){var b=1,c=a(iY(1),iZ(b));return c.constant=function(c){return arguments.length?a(iY(b=+c),iZ(b)):b},iM(c)}function i_(){var a=i$(iz());return a.copy=function(){return iy(a,i_()).constant(a.constant())},hp.apply(a,arguments)}function i0(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}function i1(a){return a<0?-Math.sqrt(-a):Math.sqrt(a)}function i2(a){return a<0?-a*a:a*a}function i3(a){var b=a(iu,iu),c=1;return b.exponent=function(b){return arguments.length?1==(c=+b)?a(iu,iu):.5===c?a(i1,i2):a(i0(c),i0(1/c)):c},iM(b)}function i4(){var a=i3(iz());return a.copy=function(){return iy(a,i4()).exponent(a.exponent())},hp.apply(a,arguments),a}function i5(){return i4.apply(null,arguments).exponent(.5)}function i6(a){return Math.sign(a)*a*a}function i7(){var a,b=iA(),c=[0,1],d=!1;function e(c){var e,f=Math.sign(e=b(c))*Math.sqrt(Math.abs(e));return isNaN(f)?a:d?Math.round(f):f}return e.invert=function(a){return b.invert(i6(a))},e.domain=function(a){return arguments.length?(b.domain(a),e):b.domain()},e.range=function(a){return arguments.length?(b.range((c=Array.from(a,is)).map(i6)),e):c.slice()},e.rangeRound=function(a){return e.range(a).round(!0)},e.round=function(a){return arguments.length?(d=!!a,e):d},e.clamp=function(a){return arguments.length?(b.clamp(a),e):b.clamp()},e.unknown=function(b){return arguments.length?(a=b,e):a},e.copy=function(){return i7(b.domain(),c).round(d).clamp(b.clamp()).unknown(a)},hp.apply(e,arguments),iM(e)}function i8(a,b){let c;if(void 0===b)for(let b of a)null!=b&&(c<b||void 0===c&&b>=b)&&(c=b);else{let d=-1;for(let e of a)null!=(e=b(e,++d,a))&&(c<e||void 0===c&&e>=e)&&(c=e)}return c}function i9(a,b){let c;if(void 0===b)for(let b of a)null!=b&&(c>b||void 0===c&&b>=b)&&(c=b);else{let d=-1;for(let e of a)null!=(e=b(e,++d,a))&&(c>e||void 0===c&&e>=e)&&(c=e)}return c}function ja(a,b){return(null==a||!(a>=a))-(null==b||!(b>=b))||(a<b?-1:+(a>b))}function jb(a,b,c){let d=a[b];a[b]=a[c],a[c]=d}function jc(){var a,b=[],c=[],d=[];function e(){var a=0,e=Math.max(1,c.length);for(d=Array(e-1);++a<e;)d[a-1]=function(a,b,c=hJ){if(!(!(d=a.length)||isNaN(b*=1))){if(b<=0||d<2)return+c(a[0],0,a);if(b>=1)return+c(a[d-1],d-1,a);var d,e=(d-1)*b,f=Math.floor(e),g=+c(a[f],f,a);return g+(c(a[f+1],f+1,a)-g)*(e-f)}}(b,a/e);return f}function f(b){return null==b||isNaN(b*=1)?a:c[hL(d,b)]}return f.invertExtent=function(a){var e=c.indexOf(a);return e<0?[NaN,NaN]:[e>0?d[e-1]:b[0],e<d.length?d[e]:b[b.length-1]]},f.domain=function(a){if(!arguments.length)return b.slice();for(let c of(b=[],a))null==c||isNaN(c*=1)||b.push(c);return b.sort(hF),e()},f.range=function(a){return arguments.length?(c=Array.from(a),e()):c.slice()},f.unknown=function(b){return arguments.length?(a=b,f):a},f.quantiles=function(){return d.slice()},f.copy=function(){return jc().domain(b).range(c).unknown(a)},hp.apply(f,arguments)}function jd(){var a,b=0,c=1,d=1,e=[.5],f=[0,1];function g(b){return null!=b&&b<=b?f[hL(e,b,0,d)]:a}function h(){var a=-1;for(e=Array(d);++a<d;)e[a]=((a+1)*c-(a-d)*b)/(d+1);return g}return g.domain=function(a){return arguments.length?([b,c]=a,b*=1,c*=1,h()):[b,c]},g.range=function(a){return arguments.length?(d=(f=Array.from(a)).length-1,h()):f.slice()},g.invertExtent=function(a){var g=f.indexOf(a);return g<0?[NaN,NaN]:g<1?[b,e[0]]:g>=d?[e[d-1],c]:[e[g-1],e[g]]},g.unknown=function(b){return arguments.length&&(a=b),g},g.thresholds=function(){return e.slice()},g.copy=function(){return jd().domain([b,c]).range(f).unknown(a)},hp.apply(iM(g),arguments)}function je(){var a,b=[.5],c=[0,1],d=1;function e(e){return null!=e&&e<=e?c[hL(b,e,0,d)]:a}return e.domain=function(a){return arguments.length?(d=Math.min((b=Array.from(a)).length,c.length-1),e):b.slice()},e.range=function(a){return arguments.length?(c=Array.from(a),d=Math.min(b.length,c.length-1),e):c.slice()},e.invertExtent=function(a){var d=c.indexOf(a);return[b[d-1],b[d]]},e.unknown=function(b){return arguments.length?(a=b,e):a},e.copy=function(){return je().domain(b).range(c).unknown(a)},hp.apply(e,arguments)}lO=(lN=function(a){var b,c,d,e=void 0===a.grouping||void 0===a.thousands?iI:(b=iJ.call(a.grouping,Number),c=a.thousands+"",function(a,d){for(var e=a.length,f=[],g=0,h=b[0],i=0;e>0&&h>0&&(i+h+1>d&&(h=Math.max(1,d-i)),f.push(a.substring(e-=h,e+h)),!((i+=h+1)>d));)h=b[g=(g+1)%b.length];return f.reverse().join(c)}),f=void 0===a.currency?"":a.currency[0]+"",g=void 0===a.currency?"":a.currency[1]+"",h=void 0===a.decimal?".":a.decimal+"",i=void 0===a.numerals?iI:(d=iJ.call(a.numerals,String),function(a){return a.replace(/[0-9]/g,function(a){return d[+a]})}),j=void 0===a.percent?"%":a.percent+"",k=void 0===a.minus?"":a.minus+"",l=void 0===a.nan?"NaN":a.nan+"";function m(a,b){var c=(a=iE(a)).fill,d=a.align,m=a.sign,n=a.symbol,o=a.zero,p=a.width,q=a.comma,r=a.precision,s=a.trim,t=a.type;"n"===t?(q=!0,t="g"):iH[t]||(void 0===r&&(r=12),s=!0,t="g"),(o||"0"===c&&"="===d)&&(o=!0,c="0",d="=");var u=(b&&void 0!==b.prefix?b.prefix:"")+("$"===n?f:"#"===n&&/[boxX]/.test(t)?"0"+t.toLowerCase():""),v=("$"===n?g:/[%p]/.test(t)?j:"")+(b&&void 0!==b.suffix?b.suffix:""),w=iH[t],x=/[defgprs%]/.test(t);function y(a){var b,f,g,j=u,n=v;if("c"===t)n=w(a)+n,a="";else{var y=(a*=1)<0||1/a<0;if(a=isNaN(a)?l:w(Math.abs(a),r),s&&(a=function(a){a:for(var b,c=a.length,d=1,e=-1;d<c;++d)switch(a[d]){case".":e=b=d;break;case"0":0===e&&(e=d),b=d;break;default:if(!+a[d])break a;e>0&&(e=0)}return e>0?a.slice(0,e)+a.slice(b+1):a}(a)),y&&0==+a&&"+"!==m&&(y=!1),j=(y?"("===m?m:k:"-"===m||"("===m?"":m)+j,n=("s"!==t||isNaN(a)||void 0===lM?"":iK[8+lM/3])+n+(y&&"("===m?")":""),x){for(b=-1,f=a.length;++b<f;)if(48>(g=a.charCodeAt(b))||g>57){n=(46===g?h+a.slice(b+1):a.slice(b))+n,a=a.slice(0,b);break}}}q&&!o&&(a=e(a,1/0));var z=j.length+a.length+n.length,A=z<p?Array(p-z+1).join(c):"";switch(q&&o&&(a=e(A+a,A.length?p-n.length:1/0),A=""),d){case"<":a=j+a+n+A;break;case"=":a=j+A+a+n;break;case"^":a=A.slice(0,z=A.length>>1)+j+a+n+A.slice(z);break;default:a=A+j+a+n}return i(a)}return r=void 0===r?6:/[gprs]/.test(t)?Math.max(1,Math.min(21,r)):Math.max(0,Math.min(20,r)),y.toString=function(){return a+""},y}return{format:m,formatPrefix:function(a,b){var c=3*Math.max(-8,Math.min(8,Math.floor(iC(b)/3))),d=Math.pow(10,-c),e=m(((a=iE(a)).type="f",a),{suffix:iK[8+c/3]});return function(a){return e(d*a)}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,lP=lN.formatPrefix;let jf=new Date,jg=new Date;function jh(a,b,c,d){function e(b){return a(b=0==arguments.length?new Date:new Date(+b)),b}return e.floor=b=>(a(b=new Date(+b)),b),e.ceil=c=>(a(c=new Date(c-1)),b(c,1),a(c),c),e.round=a=>{let b=e(a),c=e.ceil(a);return a-b<c-a?b:c},e.offset=(a,c)=>(b(a=new Date(+a),null==c?1:Math.floor(c)),a),e.range=(c,d,f)=>{let g,h=[];if(c=e.ceil(c),f=null==f?1:Math.floor(f),!(c<d)||!(f>0))return h;do h.push(g=new Date(+c)),b(c,f),a(c);while(g<c&&c<d)return h},e.filter=c=>jh(b=>{if(b>=b)for(;a(b),!c(b);)b.setTime(b-1)},(a,d)=>{if(a>=a)if(d<0)for(;++d<=0;)for(;b(a,-1),!c(a););else for(;--d>=0;)for(;b(a,1),!c(a););}),c&&(e.count=(b,d)=>(jf.setTime(+b),jg.setTime(+d),a(jf),a(jg),Math.floor(c(jf,jg))),e.every=a=>isFinite(a=Math.floor(a))&&a>0?a>1?e.filter(d?b=>d(b)%a==0:b=>e.count(0,b)%a==0):e:null),e}let ji=jh(a=>{a.setMonth(0,1),a.setHours(0,0,0,0)},(a,b)=>{a.setFullYear(a.getFullYear()+b)},(a,b)=>b.getFullYear()-a.getFullYear(),a=>a.getFullYear());ji.every=a=>isFinite(a=Math.floor(a))&&a>0?jh(b=>{b.setFullYear(Math.floor(b.getFullYear()/a)*a),b.setMonth(0,1),b.setHours(0,0,0,0)},(b,c)=>{b.setFullYear(b.getFullYear()+c*a)}):null,ji.range;let jj=jh(a=>{a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCFullYear(a.getUTCFullYear()+b)},(a,b)=>b.getUTCFullYear()-a.getUTCFullYear(),a=>a.getUTCFullYear());jj.every=a=>isFinite(a=Math.floor(a))&&a>0?jh(b=>{b.setUTCFullYear(Math.floor(b.getUTCFullYear()/a)*a),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},(b,c)=>{b.setUTCFullYear(b.getUTCFullYear()+c*a)}):null,jj.range;let jk=jh(a=>{a.setDate(1),a.setHours(0,0,0,0)},(a,b)=>{a.setMonth(a.getMonth()+b)},(a,b)=>b.getMonth()-a.getMonth()+(b.getFullYear()-a.getFullYear())*12,a=>a.getMonth());jk.range;let jl=jh(a=>{a.setUTCDate(1),a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCMonth(a.getUTCMonth()+b)},(a,b)=>b.getUTCMonth()-a.getUTCMonth()+(b.getUTCFullYear()-a.getUTCFullYear())*12,a=>a.getUTCMonth());jl.range;function jm(a){return jh(b=>{b.setDate(b.getDate()-(b.getDay()+7-a)%7),b.setHours(0,0,0,0)},(a,b)=>{a.setDate(a.getDate()+7*b)},(a,b)=>(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*6e4)/6048e5)}let jn=jm(0),jo=jm(1),jp=jm(2),jq=jm(3),jr=jm(4),js=jm(5),jt=jm(6);function ju(a){return jh(b=>{b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-a)%7),b.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCDate(a.getUTCDate()+7*b)},(a,b)=>(b-a)/6048e5)}jn.range,jo.range,jp.range,jq.range,jr.range,js.range,jt.range;let jv=ju(0),jw=ju(1),jx=ju(2),jy=ju(3),jz=ju(4),jA=ju(5),jB=ju(6);jv.range,jw.range,jx.range,jy.range,jz.range,jA.range,jB.range;let jC=jh(a=>a.setHours(0,0,0,0),(a,b)=>a.setDate(a.getDate()+b),(a,b)=>(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*6e4)/864e5,a=>a.getDate()-1);jC.range;let jD=jh(a=>{a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCDate(a.getUTCDate()+b)},(a,b)=>(b-a)/864e5,a=>a.getUTCDate()-1);jD.range;let jE=jh(a=>{a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCDate(a.getUTCDate()+b)},(a,b)=>(b-a)/864e5,a=>Math.floor(a/864e5));jE.range;let jF=jh(a=>{a.setTime(a-a.getMilliseconds()-1e3*a.getSeconds()-6e4*a.getMinutes())},(a,b)=>{a.setTime(+a+36e5*b)},(a,b)=>(b-a)/36e5,a=>a.getHours());jF.range;let jG=jh(a=>{a.setUTCMinutes(0,0,0)},(a,b)=>{a.setTime(+a+36e5*b)},(a,b)=>(b-a)/36e5,a=>a.getUTCHours());jG.range;let jH=jh(a=>{a.setTime(a-a.getMilliseconds()-1e3*a.getSeconds())},(a,b)=>{a.setTime(+a+6e4*b)},(a,b)=>(b-a)/6e4,a=>a.getMinutes());jH.range;let jI=jh(a=>{a.setUTCSeconds(0,0)},(a,b)=>{a.setTime(+a+6e4*b)},(a,b)=>(b-a)/6e4,a=>a.getUTCMinutes());jI.range;let jJ=jh(a=>{a.setTime(a-a.getMilliseconds())},(a,b)=>{a.setTime(+a+1e3*b)},(a,b)=>(b-a)/1e3,a=>a.getUTCSeconds());jJ.range;let jK=jh(()=>{},(a,b)=>{a.setTime(+a+b)},(a,b)=>b-a);function jL(a,b,c,d,e,f){let g=[[jJ,1,1e3],[jJ,5,5e3],[jJ,15,15e3],[jJ,30,3e4],[f,1,6e4],[f,5,3e5],[f,15,9e5],[f,30,18e5],[e,1,36e5],[e,3,108e5],[e,6,216e5],[e,12,432e5],[d,1,864e5],[d,2,1728e5],[c,1,6048e5],[b,1,2592e6],[b,3,7776e6],[a,1,31536e6]];function h(b,c,d){let e=Math.abs(c-b)/d,f=hH(([,,a])=>a).right(g,e);if(f===g.length)return a.every(hE(b/31536e6,c/31536e6,d));if(0===f)return jK.every(Math.max(hE(b,c,d),1));let[h,i]=g[e/g[f-1][2]<g[f][2]/e?f-1:f];return h.every(i)}return[function(a,b,c){let d=b<a;d&&([a,b]=[b,a]);let e=c&&"function"==typeof c.range?c:h(a,b,c),f=e?e.range(a,+b+1):[];return d?f.reverse():f},h]}jK.every=a=>isFinite(a=Math.floor(a))&&a>0?a>1?jh(b=>{b.setTime(Math.floor(b/a)*a)},(b,c)=>{b.setTime(+b+c*a)},(b,c)=>(c-b)/a):jK:null,jK.range;let[jM,jN]=jL(jj,jl,jv,jE,jG,jI),[jO,jP]=jL(ji,jk,jn,jC,jF,jH);function jQ(a){if(0<=a.y&&a.y<100){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);return b.setFullYear(a.y),b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function jR(a){if(0<=a.y&&a.y<100){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));return b.setUTCFullYear(a.y),b}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function jS(a,b,c){return{y:a,m:b,d:c,H:0,M:0,S:0,L:0}}var jT={"-":"",_:" ",0:"0"},jU=/^\s*\d+/,jV=/^%/,jW=/[\\^$*+?|[\]().{}]/g;function jX(a,b,c){var d=a<0?"-":"",e=(d?-a:a)+"",f=e.length;return d+(f<c?Array(c-f+1).join(b)+e:e)}function jY(a){return a.replace(jW,"\\$&")}function jZ(a){return RegExp("^(?:"+a.map(jY).join("|")+")","i")}function j$(a){return new Map(a.map((a,b)=>[a.toLowerCase(),b]))}function j_(a,b,c){var d=jU.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function j0(a,b,c){var d=jU.exec(b.slice(c,c+1));return d?(a.u=+d[0],c+d[0].length):-1}function j1(a,b,c){var d=jU.exec(b.slice(c,c+2));return d?(a.U=+d[0],c+d[0].length):-1}function j2(a,b,c){var d=jU.exec(b.slice(c,c+2));return d?(a.V=+d[0],c+d[0].length):-1}function j3(a,b,c){var d=jU.exec(b.slice(c,c+2));return d?(a.W=+d[0],c+d[0].length):-1}function j4(a,b,c){var d=jU.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function j5(a,b,c){var d=jU.exec(b.slice(c,c+2));return d?(a.y=+d[0]+(+d[0]>68?1900:2e3),c+d[0].length):-1}function j6(a,b,c){var d=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(b.slice(c,c+6));return d?(a.Z=d[1]?0:-(d[2]+(d[3]||"00")),c+d[0].length):-1}function j7(a,b,c){var d=jU.exec(b.slice(c,c+1));return d?(a.q=3*d[0]-3,c+d[0].length):-1}function j8(a,b,c){var d=jU.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function j9(a,b,c){var d=jU.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function ka(a,b,c){var d=jU.exec(b.slice(c,c+3));return d?(a.m=0,a.d=+d[0],c+d[0].length):-1}function kb(a,b,c){var d=jU.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function kc(a,b,c){var d=jU.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function kd(a,b,c){var d=jU.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function ke(a,b,c){var d=jU.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function kf(a,b,c){var d=jU.exec(b.slice(c,c+6));return d?(a.L=Math.floor(d[0]/1e3),c+d[0].length):-1}function kg(a,b,c){var d=jV.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function kh(a,b,c){var d=jU.exec(b.slice(c));return d?(a.Q=+d[0],c+d[0].length):-1}function ki(a,b,c){var d=jU.exec(b.slice(c));return d?(a.s=+d[0],c+d[0].length):-1}function kj(a,b){return jX(a.getDate(),b,2)}function kk(a,b){return jX(a.getHours(),b,2)}function kl(a,b){return jX(a.getHours()%12||12,b,2)}function km(a,b){return jX(1+jC.count(ji(a),a),b,3)}function kn(a,b){return jX(a.getMilliseconds(),b,3)}function ko(a,b){return kn(a,b)+"000"}function kp(a,b){return jX(a.getMonth()+1,b,2)}function kq(a,b){return jX(a.getMinutes(),b,2)}function kr(a,b){return jX(a.getSeconds(),b,2)}function ks(a){var b=a.getDay();return 0===b?7:b}function kt(a,b){return jX(jn.count(ji(a)-1,a),b,2)}function ku(a){var b=a.getDay();return b>=4||0===b?jr(a):jr.ceil(a)}function kv(a,b){return a=ku(a),jX(jr.count(ji(a),a)+(4===ji(a).getDay()),b,2)}function kw(a){return a.getDay()}function kx(a,b){return jX(jo.count(ji(a)-1,a),b,2)}function ky(a,b){return jX(a.getFullYear()%100,b,2)}function kz(a,b){return jX((a=ku(a)).getFullYear()%100,b,2)}function kA(a,b){return jX(a.getFullYear()%1e4,b,4)}function kB(a,b){var c=a.getDay();return jX((a=c>=4||0===c?jr(a):jr.ceil(a)).getFullYear()%1e4,b,4)}function kC(a){var b=a.getTimezoneOffset();return(b>0?"-":(b*=-1,"+"))+jX(b/60|0,"0",2)+jX(b%60,"0",2)}function kD(a,b){return jX(a.getUTCDate(),b,2)}function kE(a,b){return jX(a.getUTCHours(),b,2)}function kF(a,b){return jX(a.getUTCHours()%12||12,b,2)}function kG(a,b){return jX(1+jD.count(jj(a),a),b,3)}function kH(a,b){return jX(a.getUTCMilliseconds(),b,3)}function kI(a,b){return kH(a,b)+"000"}function kJ(a,b){return jX(a.getUTCMonth()+1,b,2)}function kK(a,b){return jX(a.getUTCMinutes(),b,2)}function kL(a,b){return jX(a.getUTCSeconds(),b,2)}function kM(a){var b=a.getUTCDay();return 0===b?7:b}function kN(a,b){return jX(jv.count(jj(a)-1,a),b,2)}function kO(a){var b=a.getUTCDay();return b>=4||0===b?jz(a):jz.ceil(a)}function kP(a,b){return a=kO(a),jX(jz.count(jj(a),a)+(4===jj(a).getUTCDay()),b,2)}function kQ(a){return a.getUTCDay()}function kR(a,b){return jX(jw.count(jj(a)-1,a),b,2)}function kS(a,b){return jX(a.getUTCFullYear()%100,b,2)}function kT(a,b){return jX((a=kO(a)).getUTCFullYear()%100,b,2)}function kU(a,b){return jX(a.getUTCFullYear()%1e4,b,4)}function kV(a,b){var c=a.getUTCDay();return jX((a=c>=4||0===c?jz(a):jz.ceil(a)).getUTCFullYear()%1e4,b,4)}function kW(){return"+0000"}function kX(){return"%"}function kY(a){return+a}function kZ(a){return Math.floor(a/1e3)}function k$(a){return new Date(a)}function k_(a){return a instanceof Date?+a:+new Date(+a)}function k0(a,b,c,d,e,f,g,h,i,j){var k=iA(),l=k.invert,m=k.domain,n=j(".%L"),o=j(":%S"),p=j("%I:%M"),q=j("%I %p"),r=j("%a %d"),s=j("%b %d"),t=j("%B"),u=j("%Y");function v(a){return(i(a)<a?n:h(a)<a?o:g(a)<a?p:f(a)<a?q:d(a)<a?e(a)<a?r:s:c(a)<a?t:u)(a)}return k.invert=function(a){return new Date(l(a))},k.domain=function(a){return arguments.length?m(Array.from(a,k_)):m().map(k$)},k.ticks=function(b){var c=m();return a(c[0],c[c.length-1],null==b?10:b)},k.tickFormat=function(a,b){return null==b?v:j(b)},k.nice=function(a){var c=m();return a&&"function"==typeof a.range||(a=b(c[0],c[c.length-1],null==a?10:a)),a?m(iP(c,a)):k},k.copy=function(){return iy(k,k0(a,b,c,d,e,f,g,h,i,j))},k}function k1(){return hp.apply(k0(jO,jP,ji,jk,jn,jC,jF,jH,jJ,lR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function k2(){return hp.apply(k0(jM,jN,jj,jl,jv,jD,jG,jI,jJ,lS).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function k3(){var a,b,c,d,e,f=0,g=1,h=iu,i=!1;function j(b){return null==b||isNaN(b*=1)?e:h(0===c?.5:(b=(d(b)-a)*c,i?Math.max(0,Math.min(1,b)):b))}function k(a){return function(b){var c,d;return arguments.length?([c,d]=b,h=a(c,d),j):[h(0),h(1)]}}return j.domain=function(e){return arguments.length?([f,g]=e,a=d(f*=1),b=d(g*=1),c=a===b?0:1/(b-a),j):[f,g]},j.clamp=function(a){return arguments.length?(i=!!a,j):i},j.interpolator=function(a){return arguments.length?(h=a,j):h},j.range=k(iq),j.rangeRound=k(ir),j.unknown=function(a){return arguments.length?(e=a,j):e},function(e){return d=e,a=e(f),b=e(g),c=a===b?0:1/(b-a),j}}function k4(a,b){return b.domain(a.domain()).interpolator(a.interpolator()).clamp(a.clamp()).unknown(a.unknown())}function k5(){var a=iM(k3()(iu));return a.copy=function(){return k4(a,k5())},hq.apply(a,arguments)}function k6(){var a=iW(k3()).domain([1,10]);return a.copy=function(){return k4(a,k6()).base(a.base())},hq.apply(a,arguments)}function k7(){var a=i$(k3());return a.copy=function(){return k4(a,k7()).constant(a.constant())},hq.apply(a,arguments)}function k8(){var a=i3(k3());return a.copy=function(){return k4(a,k8()).exponent(a.exponent())},hq.apply(a,arguments)}function k9(){return k8.apply(null,arguments).exponent(.5)}function la(){var a=[],b=iu;function c(c){if(null!=c&&!isNaN(c*=1))return b((hL(a,c,1)-1)/(a.length-1))}return c.domain=function(b){if(!arguments.length)return a.slice();for(let c of(a=[],b))null==c||isNaN(c*=1)||a.push(c);return a.sort(hF),c},c.interpolator=function(a){return arguments.length?(b=a,c):b},c.range=function(){return a.map((c,d)=>b(d/(a.length-1)))},c.quantiles=function(b){return Array.from({length:b+1},(c,d)=>(function(a,b,c){if(!(!(d=(a=Float64Array.from(function*(a,b){if(void 0===b)for(let b of a)null!=b&&(b*=1)>=b&&(yield b);else{let c=-1;for(let d of a)null!=(d=b(d,++c,a))&&(d*=1)>=d&&(yield d)}}(a,void 0))).length)||isNaN(b*=1))){if(b<=0||d<2)return i9(a);if(b>=1)return i8(a);var d,e=(d-1)*b,f=Math.floor(e),g=i8((function a(b,c,d=0,e=1/0,f){if(c=Math.floor(c),d=Math.floor(Math.max(0,d)),e=Math.floor(Math.min(b.length-1,e)),!(d<=c&&c<=e))return b;for(f=void 0===f?ja:function(a=hF){if(a===hF)return ja;if("function"!=typeof a)throw TypeError("compare is not a function");return(b,c)=>{let d=a(b,c);return d||0===d?d:(0===a(c,c))-(0===a(b,b))}}(f);e>d;){if(e-d>600){let g=e-d+1,h=c-d+1,i=Math.log(g),j=.5*Math.exp(2*i/3),k=.5*Math.sqrt(i*j*(g-j)/g)*(h-g/2<0?-1:1),l=Math.max(d,Math.floor(c-h*j/g+k)),m=Math.min(e,Math.floor(c+(g-h)*j/g+k));a(b,c,l,m,f)}let g=b[c],h=d,i=e;for(jb(b,d,c),f(b[e],g)>0&&jb(b,d,e);h<i;){for(jb(b,h,i),++h,--i;0>f(b[h],g);)++h;for(;f(b[i],g)>0;)--i}0===f(b[d],g)?jb(b,d,i):jb(b,++i,e),i<=c&&(d=i+1),c<=i&&(e=i-1)}return b})(a,f).subarray(0,f+1));return g+(i9(a.subarray(f+1))-g)*(e-f)}})(a,d/b))},c.copy=function(){return la(b).domain(a)},hq.apply(c,arguments)}function lb(){var a,b,c,d,e,f,g,h=0,i=.5,j=1,k=1,l=iu,m=!1;function n(a){return isNaN(a*=1)?g:(a=.5+((a=+f(a))-b)*(k*a<k*b?d:e),l(m?Math.max(0,Math.min(1,a)):a))}function o(a){return function(b){var c,d,e;return arguments.length?([c,d,e]=b,l=function(a,b){void 0===b&&(b=a,a=iq);for(var c=0,d=b.length-1,e=b[0],f=Array(d<0?0:d);c<d;)f[c]=a(e,e=b[++c]);return function(a){var b=Math.max(0,Math.min(d-1,Math.floor(a*=d)));return f[b](a-b)}}(a,[c,d,e]),n):[l(0),l(.5),l(1)]}}return n.domain=function(g){return arguments.length?([h,i,j]=g,a=f(h*=1),b=f(i*=1),c=f(j*=1),d=a===b?0:.5/(b-a),e=b===c?0:.5/(c-b),k=b<a?-1:1,n):[h,i,j]},n.clamp=function(a){return arguments.length?(m=!!a,n):m},n.interpolator=function(a){return arguments.length?(l=a,n):l},n.range=o(iq),n.rangeRound=o(ir),n.unknown=function(a){return arguments.length?(g=a,n):g},function(g){return f=g,a=g(h),b=g(i),c=g(j),d=a===b?0:.5/(b-a),e=b===c?0:.5/(c-b),k=b<a?-1:1,n}}function lc(){var a=iM(lb()(iu));return a.copy=function(){return k4(a,lc())},hq.apply(a,arguments)}function ld(){var a=iW(lb()).domain([.1,1,10]);return a.copy=function(){return k4(a,ld()).base(a.base())},hq.apply(a,arguments)}function le(){var a=i$(lb());return a.copy=function(){return k4(a,le()).constant(a.constant())},hq.apply(a,arguments)}function lf(){var a=i3(lb());return a.copy=function(){return k4(a,lf()).exponent(a.exponent())},hq.apply(a,arguments)}function lg(){return lf.apply(null,arguments).exponent(.5)}lR=(lQ=function(a){var b=a.dateTime,c=a.date,d=a.time,e=a.periods,f=a.days,g=a.shortDays,h=a.months,i=a.shortMonths,j=jZ(e),k=j$(e),l=jZ(f),m=j$(f),n=jZ(g),o=j$(g),p=jZ(h),q=j$(h),r=jZ(i),s=j$(i),t={a:function(a){return g[a.getDay()]},A:function(a){return f[a.getDay()]},b:function(a){return i[a.getMonth()]},B:function(a){return h[a.getMonth()]},c:null,d:kj,e:kj,f:ko,g:kz,G:kB,H:kk,I:kl,j:km,L:kn,m:kp,M:kq,p:function(a){return e[+(a.getHours()>=12)]},q:function(a){return 1+~~(a.getMonth()/3)},Q:kY,s:kZ,S:kr,u:ks,U:kt,V:kv,w:kw,W:kx,x:null,X:null,y:ky,Y:kA,Z:kC,"%":kX},u={a:function(a){return g[a.getUTCDay()]},A:function(a){return f[a.getUTCDay()]},b:function(a){return i[a.getUTCMonth()]},B:function(a){return h[a.getUTCMonth()]},c:null,d:kD,e:kD,f:kI,g:kT,G:kV,H:kE,I:kF,j:kG,L:kH,m:kJ,M:kK,p:function(a){return e[+(a.getUTCHours()>=12)]},q:function(a){return 1+~~(a.getUTCMonth()/3)},Q:kY,s:kZ,S:kL,u:kM,U:kN,V:kP,w:kQ,W:kR,x:null,X:null,y:kS,Y:kU,Z:kW,"%":kX},v={a:function(a,b,c){var d=n.exec(b.slice(c));return d?(a.w=o.get(d[0].toLowerCase()),c+d[0].length):-1},A:function(a,b,c){var d=l.exec(b.slice(c));return d?(a.w=m.get(d[0].toLowerCase()),c+d[0].length):-1},b:function(a,b,c){var d=r.exec(b.slice(c));return d?(a.m=s.get(d[0].toLowerCase()),c+d[0].length):-1},B:function(a,b,c){var d=p.exec(b.slice(c));return d?(a.m=q.get(d[0].toLowerCase()),c+d[0].length):-1},c:function(a,c,d){return y(a,b,c,d)},d:j9,e:j9,f:kf,g:j5,G:j4,H:kb,I:kb,j:ka,L:ke,m:j8,M:kc,p:function(a,b,c){var d=j.exec(b.slice(c));return d?(a.p=k.get(d[0].toLowerCase()),c+d[0].length):-1},q:j7,Q:kh,s:ki,S:kd,u:j0,U:j1,V:j2,w:j_,W:j3,x:function(a,b,d){return y(a,c,b,d)},X:function(a,b,c){return y(a,d,b,c)},y:j5,Y:j4,Z:j6,"%":kg};function w(a,b){return function(c){var d,e,f,g=[],h=-1,i=0,j=a.length;for(c instanceof Date||(c=new Date(+c));++h<j;)37===a.charCodeAt(h)&&(g.push(a.slice(i,h)),null!=(e=jT[d=a.charAt(++h)])?d=a.charAt(++h):e="e"===d?" ":"0",(f=b[d])&&(d=f(c,e)),g.push(d),i=h+1);return g.push(a.slice(i,h)),g.join("")}}function x(a,b){return function(c){var d,e,f=jS(1900,void 0,1);if(y(f,a,c+="",0)!=c.length)return null;if("Q"in f)return new Date(f.Q);if("s"in f)return new Date(1e3*f.s+("L"in f?f.L:0));if(!b||"Z"in f||(f.Z=0),"p"in f&&(f.H=f.H%12+12*f.p),void 0===f.m&&(f.m="q"in f?f.q:0),"V"in f){if(f.V<1||f.V>53)return null;"w"in f||(f.w=1),"Z"in f?(d=(e=(d=jR(jS(f.y,0,1))).getUTCDay())>4||0===e?jw.ceil(d):jw(d),d=jD.offset(d,(f.V-1)*7),f.y=d.getUTCFullYear(),f.m=d.getUTCMonth(),f.d=d.getUTCDate()+(f.w+6)%7):(d=(e=(d=jQ(jS(f.y,0,1))).getDay())>4||0===e?jo.ceil(d):jo(d),d=jC.offset(d,(f.V-1)*7),f.y=d.getFullYear(),f.m=d.getMonth(),f.d=d.getDate()+(f.w+6)%7)}else("W"in f||"U"in f)&&("w"in f||(f.w="u"in f?f.u%7:+("W"in f)),e="Z"in f?jR(jS(f.y,0,1)).getUTCDay():jQ(jS(f.y,0,1)).getDay(),f.m=0,f.d="W"in f?(f.w+6)%7+7*f.W-(e+5)%7:f.w+7*f.U-(e+6)%7);return"Z"in f?(f.H+=f.Z/100|0,f.M+=f.Z%100,jR(f)):jQ(f)}}function y(a,b,c,d){for(var e,f,g=0,h=b.length,i=c.length;g<h;){if(d>=i)return -1;if(37===(e=b.charCodeAt(g++))){if(!(f=v[(e=b.charAt(g++))in jT?b.charAt(g++):e])||(d=f(a,c,d))<0)return -1}else if(e!=c.charCodeAt(d++))return -1}return d}return t.x=w(c,t),t.X=w(d,t),t.c=w(b,t),u.x=w(c,u),u.X=w(d,u),u.c=w(b,u),{format:function(a){var b=w(a+="",t);return b.toString=function(){return a},b},parse:function(a){var b=x(a+="",!1);return b.toString=function(){return a},b},utcFormat:function(a){var b=w(a+="",u);return b.toString=function(){return a},b},utcParse:function(a){var b=x(a+="",!0);return b.toString=function(){return a},b}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,lQ.parse,lS=lQ.utcFormat,lQ.utcParse,a.s(["scaleBand",()=>hw,"scaleDiverging",()=>lc,"scaleDivergingLog",()=>ld,"scaleDivergingPow",()=>lf,"scaleDivergingSqrt",()=>lg,"scaleDivergingSymlog",()=>le,"scaleIdentity",()=>iO,"scaleImplicit",0,hu,"scaleLinear",()=>iN,"scaleLog",()=>iX,"scaleOrdinal",()=>hv,"scalePoint",()=>hx,"scalePow",()=>i4,"scaleQuantile",()=>jc,"scaleQuantize",()=>jd,"scaleRadial",()=>i7,"scaleSequential",()=>k5,"scaleSequentialLog",()=>k6,"scaleSequentialPow",()=>k8,"scaleSequentialQuantile",()=>la,"scaleSequentialSqrt",()=>k9,"scaleSequentialSymlog",()=>k7,"scaleSqrt",()=>i5,"scaleSymlog",()=>i_,"scaleThreshold",()=>je,"scaleTime",()=>k1,"scaleUtc",()=>k2,"tickFormat",()=>iL],48117),a.i(48117),a.s(["scaleBand",()=>hw,"scaleDiverging",()=>lc,"scaleDivergingLog",()=>ld,"scaleDivergingPow",()=>lf,"scaleDivergingSqrt",()=>lg,"scaleDivergingSymlog",()=>le,"scaleIdentity",()=>iO,"scaleImplicit",0,hu,"scaleLinear",()=>iN,"scaleLog",()=>iX,"scaleOrdinal",()=>hv,"scalePoint",()=>hx,"scalePow",()=>i4,"scaleQuantile",()=>jc,"scaleQuantize",()=>jd,"scaleRadial",()=>i7,"scaleSequential",()=>k5,"scaleSequentialLog",()=>k6,"scaleSequentialPow",()=>k8,"scaleSequentialQuantile",()=>la,"scaleSequentialSqrt",()=>k9,"scaleSequentialSymlog",()=>k7,"scaleSqrt",()=>i5,"scaleSymlog",()=>i_,"scaleThreshold",()=>je,"scaleTime",()=>k1,"scaleUtc",()=>k2,"tickFormat",()=>iL],62599);var lh=a.i(62599),li=a=>a.chartData,lj=dV([li],a=>{var b=null!=a.chartData?a.chartData.length-1:0;return{chartData:a.chartData,computedData:a.computedData,dataEndIndex:b,dataStartIndex:0}}),lk=(a,b,c,d)=>d?lj(a):li(a);function ll(a){if(Array.isArray(a)&&2===a.length){var[b,c]=a;if(gz(b)&&gz(c))return!0}return!1}function lm(a,b,c){return c?a:[Math.min(a[0],b[0]),Math.max(a[1],b[1])]}function ln(a,b){if(b&&"function"!=typeof a&&Array.isArray(a)&&2===a.length){var c,d,[e,f]=a;if(gz(e))c=e;else if("function"==typeof e)return;if(gz(f))d=f;else if("function"==typeof f)return;var g=[c,d];if(ll(g))return g}}var lo,lp,lq,lr,ls,lt,lu,lv,lw,lx,ly,lz,lA,lB,lC,lD,lE,lF,lG,lH,lI,lJ,lK,lL,lM,lN,lO,lP,lQ,lR,lS,lT,lU,lV=!0,lW="[DecimalError] ",lX=lW+"Invalid argument: ",lY=lW+"Exponent out of range: ",lZ=Math.floor,l$=Math.pow,l_=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,l0=lZ(1286742750677284.5),l1={};function l2(a,b){var c,d,e,f,g,h,i,j,k=a.constructor,l=k.precision;if(!a.s||!b.s)return b.s||(b=new k(a)),lV?mc(b,l):b;if(i=a.d,j=b.d,g=a.e,e=b.e,i=i.slice(),f=g-e){for(f<0?(d=i,f=-f,h=j.length):(d=j,e=g,h=i.length),f>(h=(g=Math.ceil(l/7))>h?g+1:h+1)&&(f=h,d.length=1),d.reverse();f--;)d.push(0);d.reverse()}for((h=i.length)-(f=j.length)<0&&(f=h,d=j,j=i,i=d),c=0;f;)c=(i[--f]=i[f]+j[f]+c)/1e7|0,i[f]%=1e7;for(c&&(i.unshift(c),++e),h=i.length;0==i[--h];)i.pop();return b.d=i,b.e=e,lV?mc(b,l):b}function l3(a,b,c){if(a!==~~a||a<b||a>c)throw Error(lX+a)}function l4(a){var b,c,d,e=a.length-1,f="",g=a[0];if(e>0){for(f+=g,b=1;b<e;b++)(c=7-(d=a[b]+"").length)&&(f+=l9(c)),f+=d;(c=7-(d=(g=a[b])+"").length)&&(f+=l9(c))}else if(0===g)return"0";for(;g%10==0;)g/=10;return f+g}l1.absoluteValue=l1.abs=function(){var a=new this.constructor(this);return a.s&&(a.s=1),a},l1.comparedTo=l1.cmp=function(a){var b,c,d,e;if(a=new this.constructor(a),this.s!==a.s)return this.s||-a.s;if(this.e!==a.e)return this.e>a.e^this.s<0?1:-1;for(b=0,c=(d=this.d.length)<(e=a.d.length)?d:e;b<c;++b)if(this.d[b]!==a.d[b])return this.d[b]>a.d[b]^this.s<0?1:-1;return d===e?0:d>e^this.s<0?1:-1},l1.decimalPlaces=l1.dp=function(){var a=this.d.length-1,b=(a-this.e)*7;if(a=this.d[a])for(;a%10==0;a/=10)b--;return b<0?0:b},l1.dividedBy=l1.div=function(a){return l5(this,new this.constructor(a))},l1.dividedToIntegerBy=l1.idiv=function(a){var b=this.constructor;return mc(l5(this,new b(a),0,1),b.precision)},l1.equals=l1.eq=function(a){return!this.cmp(a)},l1.exponent=function(){return l7(this)},l1.greaterThan=l1.gt=function(a){return this.cmp(a)>0},l1.greaterThanOrEqualTo=l1.gte=function(a){return this.cmp(a)>=0},l1.isInteger=l1.isint=function(){return this.e>this.d.length-2},l1.isNegative=l1.isneg=function(){return this.s<0},l1.isPositive=l1.ispos=function(){return this.s>0},l1.isZero=function(){return 0===this.s},l1.lessThan=l1.lt=function(a){return 0>this.cmp(a)},l1.lessThanOrEqualTo=l1.lte=function(a){return 1>this.cmp(a)},l1.logarithm=l1.log=function(a){var b,c=this.constructor,d=c.precision,e=d+5;if(void 0===a)a=new c(10);else if((a=new c(a)).s<1||a.eq(lU))throw Error(lW+"NaN");if(this.s<1)throw Error(lW+(this.s?"NaN":"-Infinity"));return this.eq(lU)?new c(0):(lV=!1,b=l5(ma(this,e),ma(a,e),e),lV=!0,mc(b,d))},l1.minus=l1.sub=function(a){return a=new this.constructor(a),this.s==a.s?md(this,a):l2(this,(a.s=-a.s,a))},l1.modulo=l1.mod=function(a){var b,c=this.constructor,d=c.precision;if(!(a=new c(a)).s)throw Error(lW+"NaN");return this.s?(lV=!1,b=l5(this,a,0,1).times(a),lV=!0,this.minus(b)):mc(new c(this),d)},l1.naturalExponential=l1.exp=function(){return l6(this)},l1.naturalLogarithm=l1.ln=function(){return ma(this)},l1.negated=l1.neg=function(){var a=new this.constructor(this);return a.s=-a.s||0,a},l1.plus=l1.add=function(a){return a=new this.constructor(a),this.s==a.s?l2(this,a):md(this,(a.s=-a.s,a))},l1.precision=l1.sd=function(a){var b,c,d;if(void 0!==a&&!!a!==a&&1!==a&&0!==a)throw Error(lX+a);if(b=l7(this)+1,c=7*(d=this.d.length-1)+1,d=this.d[d]){for(;d%10==0;d/=10)c--;for(d=this.d[0];d>=10;d/=10)c++}return a&&b>c?b:c},l1.squareRoot=l1.sqrt=function(){var a,b,c,d,e,f,g,h=this.constructor;if(this.s<1){if(!this.s)return new h(0);throw Error(lW+"NaN")}for(a=l7(this),lV=!1,0==(e=Math.sqrt(+this))||e==1/0?(((b=l4(this.d)).length+a)%2==0&&(b+="0"),e=Math.sqrt(b),a=lZ((a+1)/2)-(a<0||a%2),d=new h(b=e==1/0?"5e"+a:(b=e.toExponential()).slice(0,b.indexOf("e")+1)+a)):d=new h(e.toString()),e=g=(c=h.precision)+3;;)if(d=(f=d).plus(l5(this,f,g+2)).times(.5),l4(f.d).slice(0,g)===(b=l4(d.d)).slice(0,g)){if(b=b.slice(g-3,g+1),e==g&&"4999"==b){if(mc(f,c+1,0),f.times(f).eq(this)){d=f;break}}else if("9999"!=b)break;g+=4}return lV=!0,mc(d,c)},l1.times=l1.mul=function(a){var b,c,d,e,f,g,h,i,j,k=this.constructor,l=this.d,m=(a=new k(a)).d;if(!this.s||!a.s)return new k(0);for(a.s*=this.s,c=this.e+a.e,(i=l.length)<(j=m.length)&&(f=l,l=m,m=f,g=i,i=j,j=g),f=[],d=g=i+j;d--;)f.push(0);for(d=j;--d>=0;){for(b=0,e=i+d;e>d;)h=f[e]+m[d]*l[e-d-1]+b,f[e--]=h%1e7|0,b=h/1e7|0;f[e]=(f[e]+b)%1e7|0}for(;!f[--g];)f.pop();return b?++c:f.shift(),a.d=f,a.e=c,lV?mc(a,k.precision):a},l1.toDecimalPlaces=l1.todp=function(a,b){var c=this,d=c.constructor;return(c=new d(c),void 0===a)?c:(l3(a,0,1e9),void 0===b?b=d.rounding:l3(b,0,8),mc(c,a+l7(c)+1,b))},l1.toExponential=function(a,b){var c,d=this,e=d.constructor;return void 0===a?c=me(d,!0):(l3(a,0,1e9),void 0===b?b=e.rounding:l3(b,0,8),c=me(d=mc(new e(d),a+1,b),!0,a+1)),c},l1.toFixed=function(a,b){var c,d,e=this.constructor;return void 0===a?me(this):(l3(a,0,1e9),void 0===b?b=e.rounding:l3(b,0,8),c=me((d=mc(new e(this),a+l7(this)+1,b)).abs(),!1,a+l7(d)+1),this.isneg()&&!this.isZero()?"-"+c:c)},l1.toInteger=l1.toint=function(){var a=this.constructor;return mc(new a(this),l7(this)+1,a.rounding)},l1.toNumber=function(){return+this},l1.toPower=l1.pow=function(a){var b,c,d,e,f,g,h=this,i=h.constructor,j=+(a=new i(a));if(!a.s)return new i(lU);if(!(h=new i(h)).s){if(a.s<1)throw Error(lW+"Infinity");return h}if(h.eq(lU))return h;if(d=i.precision,a.eq(lU))return mc(h,d);if(g=(b=a.e)>=(c=a.d.length-1),f=h.s,g){if((c=j<0?-j:j)<=0x1fffffffffffff){for(e=new i(lU),b=Math.ceil(d/7+4),lV=!1;c%2&&mf((e=e.times(h)).d,b),0!==(c=lZ(c/2));)mf((h=h.times(h)).d,b);return lV=!0,a.s<0?new i(lU).div(e):mc(e,d)}}else if(f<0)throw Error(lW+"NaN");return f=f<0&&1&a.d[Math.max(b,c)]?-1:1,h.s=1,lV=!1,e=a.times(ma(h,d+12)),lV=!0,(e=l6(e)).s=f,e},l1.toPrecision=function(a,b){var c,d,e=this,f=e.constructor;return void 0===a?(c=l7(e),d=me(e,c<=f.toExpNeg||c>=f.toExpPos)):(l3(a,1,1e9),void 0===b?b=f.rounding:l3(b,0,8),c=l7(e=mc(new f(e),a,b)),d=me(e,a<=c||c<=f.toExpNeg,a)),d},l1.toSignificantDigits=l1.tosd=function(a,b){var c=this.constructor;return void 0===a?(a=c.precision,b=c.rounding):(l3(a,1,1e9),void 0===b?b=c.rounding:l3(b,0,8)),mc(new c(this),a,b)},l1.toString=l1.valueOf=l1.val=l1.toJSON=l1[Symbol.for("nodejs.util.inspect.custom")]=function(){var a=l7(this),b=this.constructor;return me(this,a<=b.toExpNeg||a>=b.toExpPos)};var l5=function(){function a(a,b){var c,d=0,e=a.length;for(a=a.slice();e--;)c=a[e]*b+d,a[e]=c%1e7|0,d=c/1e7|0;return d&&a.unshift(d),a}function b(a,b,c,d){var e,f;if(c!=d)f=c>d?1:-1;else for(e=f=0;e<c;e++)if(a[e]!=b[e]){f=a[e]>b[e]?1:-1;break}return f}function c(a,b,c){for(var d=0;c--;)a[c]-=d,d=+(a[c]<b[c]),a[c]=1e7*d+a[c]-b[c];for(;!a[0]&&a.length>1;)a.shift()}return function(d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=d.constructor,A=d.s==e.s?1:-1,B=d.d,C=e.d;if(!d.s)return new z(d);if(!e.s)throw Error(lW+"Division by zero");for(j=0,i=d.e-e.e,x=C.length,v=B.length,o=(n=new z(A)).d=[];C[j]==(B[j]||0);)++j;if(C[j]>(B[j]||0)&&--i,(s=null==f?f=z.precision:g?f+(l7(d)-l7(e))+1:f)<0)return new z(0);if(s=s/7+2|0,j=0,1==x)for(k=0,C=C[0],s++;(j<v||k)&&s--;j++)t=1e7*k+(B[j]||0),o[j]=t/C|0,k=t%C|0;else{for((k=1e7/(C[0]+1)|0)>1&&(C=a(C,k),B=a(B,k),x=C.length,v=B.length),u=x,q=(p=B.slice(0,x)).length;q<x;)p[q++]=0;(y=C.slice()).unshift(0),w=C[0],C[1]>=1e7/2&&++w;do k=0,(h=b(C,p,x,q))<0?(r=p[0],x!=q&&(r=1e7*r+(p[1]||0)),(k=r/w|0)>1?(k>=1e7&&(k=1e7-1),m=(l=a(C,k)).length,q=p.length,1==(h=b(l,p,m,q))&&(k--,c(l,x<m?y:C,m))):(0==k&&(h=k=1),l=C.slice()),(m=l.length)<q&&l.unshift(0),c(p,l,q),-1==h&&(q=p.length,(h=b(C,p,x,q))<1&&(k++,c(p,x<q?y:C,q))),q=p.length):0===h&&(k++,p=[0]),o[j++]=k,h&&p[0]?p[q++]=B[u]||0:(p=[B[u]],q=1);while((u++<v||void 0!==p[0])&&s--)}return o[0]||o.shift(),n.e=i,mc(n,g?f+l7(n)+1:f)}}();function l6(a,b){var c,d,e,f,g,h=0,i=0,j=a.constructor,k=j.precision;if(l7(a)>16)throw Error(lY+l7(a));if(!a.s)return new j(lU);for(null==b?(lV=!1,g=k):g=b,f=new j(.03125);a.abs().gte(.1);)a=a.times(f),i+=5;for(g+=Math.log(l$(2,i))/Math.LN10*2+5|0,c=d=e=new j(lU),j.precision=g;;){if(d=mc(d.times(a),g),c=c.times(++h),l4((f=e.plus(l5(d,c,g))).d).slice(0,g)===l4(e.d).slice(0,g)){for(;i--;)e=mc(e.times(e),g);return j.precision=k,null==b?(lV=!0,mc(e,k)):e}e=f}}function l7(a){for(var b=7*a.e,c=a.d[0];c>=10;c/=10)b++;return b}function l8(a,b,c){if(b>a.LN10.sd())throw lV=!0,c&&(a.precision=c),Error(lW+"LN10 precision limit exceeded");return mc(new a(a.LN10),b)}function l9(a){for(var b="";a--;)b+="0";return b}function ma(a,b){var c,d,e,f,g,h,i,j,k,l=1,m=a,n=m.d,o=m.constructor,p=o.precision;if(m.s<1)throw Error(lW+(m.s?"NaN":"-Infinity"));if(m.eq(lU))return new o(0);if(null==b?(lV=!1,j=p):j=b,m.eq(10))return null==b&&(lV=!0),l8(o,j);if(o.precision=j+=10,d=(c=l4(n)).charAt(0),!(15e14>Math.abs(f=l7(m))))return i=l8(o,j+2,p).times(f+""),m=ma(new o(d+"."+c.slice(1)),j-10).plus(i),o.precision=p,null==b?(lV=!0,mc(m,p)):m;for(;d<7&&1!=d||1==d&&c.charAt(1)>3;)d=(c=l4((m=m.times(a)).d)).charAt(0),l++;for(f=l7(m),d>1?(m=new o("0."+c),f++):m=new o(d+"."+c.slice(1)),h=g=m=l5(m.minus(lU),m.plus(lU),j),k=mc(m.times(m),j),e=3;;){if(g=mc(g.times(k),j),l4((i=h.plus(l5(g,new o(e),j))).d).slice(0,j)===l4(h.d).slice(0,j))return h=h.times(2),0!==f&&(h=h.plus(l8(o,j+2,p).times(f+""))),h=l5(h,new o(l),j),o.precision=p,null==b?(lV=!0,mc(h,p)):h;h=i,e+=2}}function mb(a,b){var c,d,e;for((c=b.indexOf("."))>-1&&(b=b.replace(".","")),(d=b.search(/e/i))>0?(c<0&&(c=d),c+=+b.slice(d+1),b=b.substring(0,d)):c<0&&(c=b.length),d=0;48===b.charCodeAt(d);)++d;for(e=b.length;48===b.charCodeAt(e-1);)--e;if(b=b.slice(d,e)){if(e-=d,a.e=lZ((c=c-d-1)/7),a.d=[],d=(c+1)%7,c<0&&(d+=7),d<e){for(d&&a.d.push(+b.slice(0,d)),e-=7;d<e;)a.d.push(+b.slice(d,d+=7));d=7-(b=b.slice(d)).length}else d-=e;for(;d--;)b+="0";if(a.d.push(+b),lV&&(a.e>l0||a.e<-l0))throw Error(lY+c)}else a.s=0,a.e=0,a.d=[0];return a}function mc(a,b,c){var d,e,f,g,h,i,j,k,l=a.d;for(g=1,f=l[0];f>=10;f/=10)g++;if((d=b-g)<0)d+=7,e=b,j=l[k=0];else{if((k=Math.ceil((d+1)/7))>=(f=l.length))return a;for(g=1,j=f=l[k];f>=10;f/=10)g++;d%=7,e=d-7+g}if(void 0!==c&&(h=j/(f=l$(10,g-e-1))%10|0,i=b<0||void 0!==l[k+1]||j%f,i=c<4?(h||i)&&(0==c||c==(a.s<0?3:2)):h>5||5==h&&(4==c||i||6==c&&(d>0?e>0?j/l$(10,g-e):0:l[k-1])%10&1||c==(a.s<0?8:7))),b<1||!l[0])return i?(f=l7(a),l.length=1,b=b-f-1,l[0]=l$(10,(7-b%7)%7),a.e=lZ(-b/7)||0):(l.length=1,l[0]=a.e=a.s=0),a;if(0==d?(l.length=k,f=1,k--):(l.length=k+1,f=l$(10,7-d),l[k]=e>0?(j/l$(10,g-e)%l$(10,e)|0)*f:0),i)for(;;)if(0==k){1e7==(l[0]+=f)&&(l[0]=1,++a.e);break}else{if(l[k]+=f,1e7!=l[k])break;l[k--]=0,f=1}for(d=l.length;0===l[--d];)l.pop();if(lV&&(a.e>l0||a.e<-l0))throw Error(lY+l7(a));return a}function md(a,b){var c,d,e,f,g,h,i,j,k,l,m=a.constructor,n=m.precision;if(!a.s||!b.s)return b.s?b.s=-b.s:b=new m(a),lV?mc(b,n):b;if(i=a.d,l=b.d,d=b.e,j=a.e,i=i.slice(),g=j-d){for((k=g<0)?(c=i,g=-g,h=l.length):(c=l,d=j,h=i.length),g>(e=Math.max(Math.ceil(n/7),h)+2)&&(g=e,c.length=1),c.reverse(),e=g;e--;)c.push(0);c.reverse()}else{for((k=(e=i.length)<(h=l.length))&&(h=e),e=0;e<h;e++)if(i[e]!=l[e]){k=i[e]<l[e];break}g=0}for(k&&(c=i,i=l,l=c,b.s=-b.s),h=i.length,e=l.length-h;e>0;--e)i[h++]=0;for(e=l.length;e>g;){if(i[--e]<l[e]){for(f=e;f&&0===i[--f];)i[f]=1e7-1;--i[f],i[e]+=1e7}i[e]-=l[e]}for(;0===i[--h];)i.pop();for(;0===i[0];i.shift())--d;return i[0]?(b.d=i,b.e=d,lV?mc(b,n):b):new m(0)}function me(a,b,c){var d,e=l7(a),f=l4(a.d),g=f.length;return b?(c&&(d=c-g)>0?f=f.charAt(0)+"."+f.slice(1)+l9(d):g>1&&(f=f.charAt(0)+"."+f.slice(1)),f=f+(e<0?"e":"e+")+e):e<0?(f="0."+l9(-e-1)+f,c&&(d=c-g)>0&&(f+=l9(d))):e>=g?(f+=l9(e+1-g),c&&(d=c-e-1)>0&&(f=f+"."+l9(d))):((d=e+1)<g&&(f=f.slice(0,d)+"."+f.slice(d)),c&&(d=c-g)>0&&(e+1===g&&(f+="."),f+=l9(d))),a.s<0?"-"+f:f}function mf(a,b){if(a.length>b)return a.length=b,!0}function mg(a){if(!a||"object"!=typeof a)throw Error(lW+"Object expected");var b,c,d,e=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(b=0;b<e.length;b+=3)if(void 0!==(d=a[c=e[b]]))if(lZ(d)===d&&d>=e[b+1]&&d<=e[b+2])this[c]=d;else throw Error(lX+c+": "+d);if(void 0!==(d=a[c="LN10"]))if(d==Math.LN10)this[c]=new this(d);else throw Error(lX+c+": "+d);return this}var lT=function a(b){var c,d,e;function f(a){if(!(this instanceof f))return new f(a);if(this.constructor=f,a instanceof f){this.s=a.s,this.e=a.e,this.d=(a=a.d)?a.slice():a;return}if("number"==typeof a){if(0*a!=0)throw Error(lX+a);if(a>0)this.s=1;else if(a<0)a=-a,this.s=-1;else{this.s=0,this.e=0,this.d=[0];return}if(a===~~a&&a<1e7){this.e=0,this.d=[a];return}return mb(this,a.toString())}if("string"!=typeof a)throw Error(lX+a);if(45===a.charCodeAt(0)?(a=a.slice(1),this.s=-1):this.s=1,l_.test(a))mb(this,a);else throw Error(lX+a)}if(f.prototype=l1,f.ROUND_UP=0,f.ROUND_DOWN=1,f.ROUND_CEIL=2,f.ROUND_FLOOR=3,f.ROUND_HALF_UP=4,f.ROUND_HALF_DOWN=5,f.ROUND_HALF_EVEN=6,f.ROUND_HALF_CEIL=7,f.ROUND_HALF_FLOOR=8,f.clone=a,f.config=f.set=mg,void 0===b&&(b={}),b)for(c=0,e=["precision","rounding","toExpNeg","toExpPos","LN10"];c<e.length;)b.hasOwnProperty(d=e[c++])||(b[d]=this[d]);return f.config(b),f}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});lU=new lT(1);let mh=lT;function mi(a){return 0===a?1:Math.floor(new mh(a).abs().log(10).toNumber())+1}function mj(a,b,c){for(var d=new mh(a),e=0,f=[];d.lt(b)&&e<1e5;)f.push(d.toNumber()),d=d.add(c),e++;return f}var mk=a=>{var[b,c]=a,[d,e]=[b,c];return b>c&&([d,e]=[c,b]),[d,e]},ml=(a,b,c)=>{if(a.lte(0))return new mh(0);var d=mi(a.toNumber()),e=new mh(10).pow(d),f=a.div(e),g=1!==d?.05:.1,h=new mh(Math.ceil(f.div(g).toNumber())).add(c).mul(g).mul(e);return new mh(b?h.toNumber():Math.ceil(h.toNumber()))},mm=function(a,b,c,d){var e,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((b-a)/(c-1)))return{step:new mh(0),tickMin:new mh(0),tickMax:new mh(0)};var g=ml(new mh(b).sub(a).div(c-1),d,f),h=Math.ceil((e=a<=0&&b>=0?new mh(0):(e=new mh(a).add(b).div(2)).sub(new mh(e).mod(g))).sub(a).div(g).toNumber()),i=Math.ceil(new mh(b).sub(e).div(g).toNumber()),j=h+i+1;return j>c?mm(a,b,c,d,f+1):(j<c&&(i=b>0?i+(c-j):i,h=b>0?h:h+(c-j)),{step:g,tickMin:e.sub(new mh(h).mul(g)),tickMax:e.add(new mh(i).mul(g))})},mn=function(a){var[b,c]=a,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,e=!(arguments.length>2)||void 0===arguments[2]||arguments[2],f=Math.max(d,2),[g,h]=mk([b,c]);if(g===-1/0||h===1/0){var i=h===1/0?[g,...Array(d-1).fill(1/0)]:[...Array(d-1).fill(-1/0),h];return b>c?i.reverse():i}if(g===h)return((a,b,c)=>{var d=new mh(1),e=new mh(a);if(!e.isint()&&c){var f=Math.abs(a);f<1?(d=new mh(10).pow(mi(a)-1),e=new mh(Math.floor(e.div(d).toNumber())).mul(d)):f>1&&(e=new mh(Math.floor(a)))}else 0===a?e=new mh(Math.floor((b-1)/2)):c||(e=new mh(Math.floor(a)));for(var g=Math.floor((b-1)/2),h=[],i=0;i<b;i++)h.push(e.add(new mh(i-g).mul(d)).toNumber());return h})(g,d,e);var{step:j,tickMin:k,tickMax:l}=mm(g,h,f,e,0),m=mj(k,l.add(new mh(.1).mul(j)),j);return b>c?m.reverse():m},mo=function(a,b){var[c,d]=a,e=!(arguments.length>2)||void 0===arguments[2]||arguments[2],[f,g]=mk([c,d]);if(f===-1/0||g===1/0)return[c,d];if(f===g)return[f];var h=Math.max(b,2),i=ml(new mh(g).sub(f).div(h-1),e,0),j=[...mj(new mh(f),new mh(g),i),g];return!1===e&&(j=j.map(a=>Math.round(a))),c>d?j.reverse():j},mp=a=>a.rootProps.stackOffset,mq=a=>a.rootProps.reverseStackOrder,mr=a=>a.options.chartName,ms=a=>a.rootProps.syncId,mt=a=>a.rootProps.syncMethod,mu=a=>a.options.eventEmitter;function mv(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function mw(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?mv(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):mv(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var mx=Math.PI/180,my=(a,b,c,d)=>({x:a+Math.cos(-mx*d)*c,y:b+Math.sin(-mx*d)*c}),mz=function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(a-(c.left||0)-(c.right||0)),Math.abs(b-(c.top||0)-(c.bottom||0)))/2},mA={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},mB={allowDecimals:!1,allowDuplicatedCategory:!0,allowDataOverflow:!1,angle:0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,hide:!1,includeHidden:!1,label:!1,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"auto",zIndex:mA.axis},mC={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,tickLine:!0,type:"auto",zIndex:mA.axis},mD=(a,b)=>{if(a&&b)return null!=a&&a.reversed?[b[1],b[0]]:b};function mE(a,b,c){return"auto"!==c?c:null!=a?gE(a,b)?"category":"number":void 0}function mF(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function mG(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?mF(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):mF(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var mH={allowDataOverflow:mB.allowDataOverflow,allowDecimals:mB.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:mB.angleAxisId,includeHidden:!1,name:void 0,reversed:mB.reversed,scale:mB.scale,tick:mB.tick,tickCount:void 0,ticks:void 0,type:mB.type,unit:void 0},mI={allowDataOverflow:mC.allowDataOverflow,allowDecimals:mC.allowDecimals,allowDuplicatedCategory:mC.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mC.radiusAxisId,includeHidden:mC.includeHidden,name:void 0,reversed:mC.reversed,scale:mC.scale,tick:mC.tick,tickCount:mC.tickCount,ticks:void 0,type:mC.type,unit:void 0},mJ=dV([(a,b)=>{if(null!=b)return a.polarAxis.angleAxis[b]},hm],(a,b)=>{if(null!=a)return a;var c,d=null!=(c=mE(b,"angleAxis",mH.type))?c:"category";return mG(mG({},mH),{},{type:d})}),mK=dV([(a,b)=>a.polarAxis.radiusAxis[b],hm],(a,b)=>{if(null!=a)return a;var c,d=null!=(c=mE(b,"radiusAxis",mI.type))?c:"category";return mG(mG({},mI),{},{type:d})}),mL=a=>a.polarOptions,mM=dV([gL,gM,gV],mz),mN=dV([mL,mM],(a,b)=>{if(null!=a)return eY(a.innerRadius,b,0)}),mO=dV([mL,mM],(a,b)=>{if(null!=a)return eY(a.outerRadius,b,.8*b)}),mP=dV([mL],a=>{if(null==a)return[0,0];var{startAngle:b,endAngle:c}=a;return[b,c]});dV([mJ,mP],mD);var mQ=dV([mM,mN,mO],(a,b,c)=>{if(null!=a&&null!=b&&null!=c)return[b,c]});dV([mK,mQ],mD);var mR=dV([hl,mL,mN,mO,gL,gM],(a,b,c,d,e,f)=>{if(("centric"===a||"radial"===a)&&null!=b&&null!=c&&null!=d){var{cx:g,cy:h,startAngle:i,endAngle:j}=b;return{cx:eY(g,e,e/2),cy:eY(h,f,f/2),innerRadius:c,outerRadius:d,startAngle:i,endAngle:j,clockWise:!1}}}),mS=(a,b)=>b,mT=(a,b,c)=>c;function mU(a){return null==a?void 0:a.id}function mV(a,b,c){var{chartData:d=[]}=b,{allowDuplicatedCategory:e,dataKey:f}=c,g=new Map;return a.forEach(a=>{var b,c=null!=(b=a.data)?b:d;if(null!=c&&0!==c.length){var h=mU(a);c.forEach((b,c)=>{var d,i=null==f||e?c:String(gD(b,f,null)),j=gD(b,a.dataKey,0);Object.assign(d=g.has(i)?g.get(i):{},{[h]:j}),g.set(i,d)})}}),Array.from(g.values())}function mW(a){return"stackId"in a&&null!=a.stackId&&null!=a.dataKey}var mX=(a,b)=>a===b||null!=a&&null!=b&&a[0]===b[0]&&a[1]===b[1];function mY(a,b){return!!(Array.isArray(a)&&Array.isArray(b))&&0===a.length&&0===b.length||a===b}var mZ=a=>{var b=hl(a);return"horizontal"===b?"xAxis":"vertical"===b?"yAxis":"centric"===b?"angleAxis":"radiusAxis"},m$=a=>a.tooltip.settings.axisId;function m_(a){var b=a.ticks,c=a.bandwidth,d=a.range(),e=[Math.min(...d),Math.max(...d)];return{domain:()=>a.domain(),range:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(()=>e),rangeMin:()=>e[0],rangeMax:()=>e[1],isInRange(a){var b=e[0],c=e[1];return b<=c?a>=b&&a<=c:a>=c&&a<=b},bandwidth:c?()=>c.call(a):void 0,ticks:b?c=>b.call(a,c):void 0,map:(b,c)=>{var d=a(b);if(null!=d){if(a.bandwidth&&null!=c&&c.position){var e=a.bandwidth();switch(c.position){case"middle":d+=e/2;break;case"end":d+=e}}return d}}}}function m0(a,b,c){if("function"==typeof a)return m_(a.copy().domain(b).range(c));if(null!=a){var d=function(a){if(a in lh)return lh[a]();var b="scale".concat(e_(a));if(b in lh)return lh[b]()}(a);if(null!=d)return d.domain(b).range(c),m_(d)}}var m1=(a,b)=>{if(null!=b)if("linear"!==a)return b;else{if(!ll(b)){for(var c,d,e=0;e<b.length;e++){var f=b[e];gz(f)&&((void 0===c||f<c)&&(c=f),(void 0===d||f>d)&&(d=f))}return void 0!==c&&void 0!==d?[c,d]:void 0}return b}};function m2(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function m3(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?m2(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):m2(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var m4=[0,"auto"],m5={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},m6=(a,b)=>{var c=a.cartesianAxis.xAxis[b];return null==c?m5:c},m7={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:m4,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},m8=(a,b)=>{var c=a.cartesianAxis.yAxis[b];return null==c?m7:c},m9={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},na=(a,b)=>{var c=a.cartesianAxis.zAxis[b];return null==c?m9:c},nb=(a,b,c)=>{switch(b){case"xAxis":return m6(a,c);case"yAxis":return m8(a,c);case"zAxis":return na(a,c);case"angleAxis":return mJ(a,c);case"radiusAxis":return mK(a,c);default:throw Error("Unexpected axis type: ".concat(b))}},nc=(a,b,c)=>{switch(b){case"xAxis":return m6(a,c);case"yAxis":return m8(a,c);case"angleAxis":return mJ(a,c);case"radiusAxis":return mK(a,c);default:throw Error("Unexpected axis type: ".concat(b))}},nd=a=>a.graphicalItems.cartesianItems.some(a=>"bar"===a.type)||a.graphicalItems.polarItems.some(a=>"radialBar"===a.type);function ne(a,b){return c=>{switch(a){case"xAxis":return"xAxisId"in c&&c.xAxisId===b;case"yAxis":return"yAxisId"in c&&c.yAxisId===b;case"zAxis":return"zAxisId"in c&&c.zAxisId===b;case"angleAxis":return"angleAxisId"in c&&c.angleAxisId===b;case"radiusAxis":return"radiusAxisId"in c&&c.radiusAxisId===b;default:return!1}}}var nf=dV([mS,mT],ne),ng=(a,b,c)=>a.filter(c).filter(a=>(null==b?void 0:b.includeHidden)===!0||!a.hide),nh=dV([a=>a.graphicalItems.cartesianItems,nb,nf],ng,{memoizeOptions:{resultEqualityCheck:mY}}),ni=dV([nh],a=>a.filter(a=>"area"===a.type||"bar"===a.type).filter(mW)),nj=a=>a.filter(a=>!("stackId"in a)||void 0===a.stackId),nk=dV([nh],nj),nl=a=>a.map(a=>a.data).filter(Boolean).flat(1),nm=dV([nh],nl,{memoizeOptions:{resultEqualityCheck:mY}}),nn=(a,b)=>{var{chartData:c=[],dataStartIndex:d,dataEndIndex:e}=b;return a.length>0?a:c.slice(d,e+1)},no=dV([nm,lk],nn),np=(a,b,c)=>(null==b?void 0:b.dataKey)!=null?a.map(a=>({value:gD(a,b.dataKey)})):c.length>0?c.map(a=>a.dataKey).flatMap(b=>a.map(a=>({value:gD(a,b)}))):a.map(a=>({value:a})),nq=dV([no,nb,nh],np);function nr(a,b){switch(a){case"xAxis":return"x"===b.direction;case"yAxis":return"y"===b.direction;default:return!1}}function ns(a){if(eV(a)||a instanceof Date){var b=Number(a);if(gz(b))return b}}function nt(a){if(Array.isArray(a)){var b=[ns(a[0]),ns(a[1])];return ll(b)?b:void 0}var c=ns(a);if(null!=c)return[c,c]}function nu(a){return a.map(ns).filter(e0)}var nv=a=>{var b=mZ(a),c=m$(a);return nc(a,b,c)},nw=dV([nv],a=>null==a?void 0:a.dataKey),nx=dV([ni,lk,nv],mV),ny=(a,b,c,d)=>Object.fromEntries(Object.entries(b.reduce((a,b)=>{if(null==b.stackId)return a;var c=a[b.stackId];return null==c&&(c=[]),c.push(b),a[b.stackId]=c,a},{})).map(b=>{var e,f,g,[h,i]=b,j=d?[...i].reverse():i,k=j.map(mU);return[h,{stackedData:(f=null!=(e=gF[c])?e:gu,(g=(function(){var a=gt([]),b=gv,c=gu,d=gw;function e(e){var f,g,h=Array.from(a.apply(this,arguments),gx),i=h.length,j=-1;for(let a of e)for(f=0,++j;f<i;++f)(h[f][j]=[0,+d(a,h[f].key,j,e)]).data=a;for(f=0,g=gs(b(h));f<i;++f)h[g[f]].index=f;return c(h,g),h}return e.keys=function(b){return arguments.length?(a="function"==typeof b?b:gt(Array.from(b)),e):a},e.value=function(a){return arguments.length?(d="function"==typeof a?a:gt(+a),e):d},e.order=function(a){return arguments.length?(b=null==a?gv:"function"==typeof a?a:gt(Array.from(a)),e):b},e.offset=function(a){return arguments.length?(c=null==a?gu:a,e):c},e})().keys(k).value((a,b)=>Number(gD(a,b,0))).order(gv).offset(f)(a)).forEach((b,c)=>{b.forEach((b,d)=>{var e=gD(a[d],k[c],0);Array.isArray(e)&&2===e.length&&eU(e[0])&&eU(e[1])&&(b[0]=e[0],b[1]=e[1])})}),g),graphicalItems:j}]})),nz=dV([nx,ni,mp,mq],ny),nA=(a,b,c,d)=>{var{dataStartIndex:e,dataEndIndex:f}=b;if(null==d&&"zAxis"!==c){var g=((a,b,c)=>{if(null!=a){let d;return[(d=Object.keys(a).reduce((d,e)=>{var f=a[e];if(!f)return d;var{stackedData:g}=f,h=g.reduce((a,d)=>{var e,f=[Math.min(...e=gy(d,b,c).flat(2).filter(eU)),Math.max(...e)];return gz(f[0])&&gz(f[1])?[Math.min(a[0],f[0]),Math.max(a[1],f[1])]:a},[1/0,-1/0]);return[Math.min(h[0],d[0]),Math.max(h[1],d[1])]},[1/0,-1/0]))[0]===1/0?0:d[0],d[1]===-1/0?0:d[1]]}})(a,e,f);if(null==g||0!==g[0]||0!==g[1])return g}},nB=dV([nb],a=>a.allowDataOverflow),nC=a=>{var b;if(null==a||!("domain"in a))return m4;if(null!=a.domain)return a.domain;if("ticks"in a&&null!=a.ticks){if("number"===a.type){var c=nu(a.ticks);return[Math.min(...c),Math.max(...c)]}if("category"===a.type)return a.ticks.map(String)}return null!=(b=null==a?void 0:a.domain)?b:m4},nD=dV([nb],nC),nE=dV([nD,nB],ln),nF=dV([nz,li,mS,nE],nA,{memoizeOptions:{resultEqualityCheck:mX}}),nG=a=>a.errorBars,nH=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=b.filter(Boolean);if(0!==d.length){var e=d.flat();return[Math.min(...e),Math.max(...e)]}},nI=(a,b,c,d,e)=>{var f,g;if(c.length>0&&a.forEach(a=>{c.forEach(c=>{var h,i,j=null==(h=d[c.id])?void 0:h.filter(a=>nr(e,a)),k=gD(a,null!=(i=b.dataKey)?i:c.dataKey),l=!(!j||"number"!=typeof k||eS(k))&&j.length?nu(j.flatMap(b=>{var c,d,e=gD(a,b.dataKey);if(Array.isArray(e)?[c,d]=e:c=d=e,gz(c)&&gz(d))return[k-c,k+d]})):[];if(l.length>=2){var m=Math.min(...l),n=Math.max(...l);(null==f||m<f)&&(f=m),(null==g||n>g)&&(g=n)}var o=nt(k);null!=o&&(f=null==f?o[0]:Math.min(f,o[0]),g=null==g?o[1]:Math.max(g,o[1]))})}),(null==b?void 0:b.dataKey)!=null&&a.forEach(a=>{var c=nt(gD(a,b.dataKey));null!=c&&(f=null==f?c[0]:Math.min(f,c[0]),g=null==g?c[1]:Math.max(g,c[1]))}),gz(f)&&gz(g))return[f,g]},nJ=dV([no,nb,nk,nG,mS],nI,{memoizeOptions:{resultEqualityCheck:mX}});function nK(a){var{value:b}=a;if(eV(b)||b instanceof Date)return b}var nL=a=>a.referenceElements.dots,nM=(a,b,c)=>a.filter(a=>"extendDomain"===a.ifOverflow).filter(a=>"xAxis"===b?a.xAxisId===c:a.yAxisId===c),nN=dV([nL,mS,mT],nM),nO=a=>a.referenceElements.areas,nP=dV([nO,mS,mT],nM),nQ=a=>a.referenceElements.lines,nR=dV([nQ,mS,mT],nM),nS=(a,b)=>{if(null!=a){var c=nu(a.map(a=>"xAxis"===b?a.x:a.y));if(0!==c.length)return[Math.min(...c),Math.max(...c)]}},nT=dV(nN,mS,nS),nU=(a,b)=>{if(null!=a){var c=nu(a.flatMap(a=>["xAxis"===b?a.x1:a.y1,"xAxis"===b?a.x2:a.y2]));if(0!==c.length)return[Math.min(...c),Math.max(...c)]}},nV=dV([nP,mS],nU),nW=(a,b)=>{if(null!=a){var c=a.flatMap(a=>"xAxis"===b?function(a){if(null!=a.x)return nu([a.x]);var b,c=null==(b=a.segment)?void 0:b.map(a=>a.x);return null==c||0===c.length?[]:nu(c)}(a):function(a){if(null!=a.y)return nu([a.y]);var b,c=null==(b=a.segment)?void 0:b.map(a=>a.y);return null==c||0===c.length?[]:nu(c)}(a));if(0!==c.length)return[Math.min(...c),Math.max(...c)]}},nX=dV([nR,mS],nW),nY=dV(nT,nX,nV,(a,b,c)=>nH(a,c,b)),nZ=(a,b,c,d,e,f,g,h)=>null!=c?c:function(a,b,c){if(c||null!=b){if("function"==typeof a&&null!=b)try{var d=a(b,c);if(ll(d))return lm(d,b,c)}catch(a){}if(Array.isArray(a)&&2===a.length){var e,f,[g,h]=a;if("auto"===g)null!=b&&(e=Math.min(...b));else if(eU(g))e=g;else if("function"==typeof g)try{null!=b&&(e=g(null==b?void 0:b[0]))}catch(a){}else if("string"==typeof g&&gG.test(g)){var i=gG.exec(g);if(null==i||null==i[1]||null==b)e=void 0;else{var j=+i[1];e=b[0]-j}}else e=null==b?void 0:b[0];if("auto"===h)null!=b&&(f=Math.max(...b));else if(eU(h))f=h;else if("function"==typeof h)try{null!=b&&(f=h(null==b?void 0:b[1]))}catch(a){}else if("string"==typeof h&&gH.test(h)){var k=gH.exec(h);if(null==k||null==k[1]||null==b)f=void 0;else{var l=+k[1];f=b[1]+l}}else f=null==b?void 0:b[1];var m=[e,f];if(ll(m))return null==b?m:lm(m,b,c)}}}(b,"vertical"===g&&"xAxis"===h||"horizontal"===g&&"yAxis"===h?nH(d,f,e):nH(f,e),a.allowDataOverflow),n$=dV([nb,nD,nE,nF,nJ,nY,hl,mS],nZ,{memoizeOptions:{resultEqualityCheck:mX}}),n_=[0,1],n0=(a,b,c,d,e,f,g)=>{if(null!=a&&null!=c&&0!==c.length||void 0!==g){var h,i,{dataKey:j,type:k}=a,l=gE(b,f);return l&&null==j?(0,ho.default)(0,null!=(i=null==c?void 0:c.length)?i:0):"category"===k?(h=d.map(nK).filter(a=>null!=a),l&&(null==a.dataKey||a.allowDuplicatedCategory&&eZ(h))?(0,ho.default)(0,d.length):a.allowDuplicatedCategory?h:Array.from(new Set(h))):"expand"===e?n_:g}},n1=dV([nb,hl,no,nq,mp,mS,n$],n0),n2=(a,b,c)=>{if(null!=a){var{scale:d,type:e}=a;if("auto"===d)return"category"===e&&c&&(c.indexOf("LineChart")>=0||c.indexOf("AreaChart")>=0||c.indexOf("ComposedChart")>=0&&!b)?"point":"category"===e?"band":"linear";if("string"==typeof d){var f="scale".concat(e_(d));return f in lh?f:"point"}}},n3=dV([nb,nd,mr],n2);function n4(a,b,c,d){if(null!=c&&null!=d)return"function"==typeof a.scale?m0(a.scale,c,d):m0(b,c,d)}var n5=(a,b,c)=>{var d=nC(b);if("auto"===c||"linear"===c){if(null!=b&&b.tickCount&&Array.isArray(d)&&("auto"===d[0]||"auto"===d[1])&&ll(a))return mn(a,b.tickCount,b.allowDecimals);if(null!=b&&b.tickCount&&"number"===b.type&&ll(a))return mo(a,b.tickCount,b.allowDecimals)}},n6=dV([n1,nc,n3],n5),n7=(a,b,c,d)=>{if("angleAxis"!==d&&(null==a?void 0:a.type)==="number"&&ll(b)&&Array.isArray(c)&&c.length>0){var e,f;return[Math.min(b[0],null!=(e=c[0])?e:0),Math.max(b[1],null!=(f=c[c.length-1])?f:0)]}return b},n8=dV([nb,n1,n6,mS],n7),n9=dV(nq,nb,(a,b)=>{if(b&&"number"===b.type){var c=1/0,d=Array.from(nu(a.map(a=>a.value))).sort((a,b)=>a-b),e=d[0],f=d[d.length-1];if(null==e||null==f)return 1/0;var g=f-e;if(0===g)return 1/0;for(var h=0;h<d.length-1;h++){var i=d[h],j=d[h+1];null!=i&&null!=j&&(c=Math.min(c,j-i))}return c/g}}),oa=dV(n9,hl,a=>a.rootProps.barCategoryGap,gV,(a,b,c,d,e)=>e,(a,b,c,d,e)=>{if(!gz(a))return 0;var f="vertical"===b?d.height:d.width;if("gap"===e)return a*f/2;if("no-gap"===e){var g=eY(c,a*f),h=a*f/2;return h-g-(h-g)/f*g}return 0}),ob=dV(m6,(a,b,c)=>{var d=m6(a,b);return null==d||"string"!=typeof d.padding?0:oa(a,"xAxis",b,c,d.padding)},(a,b)=>{if(null==a)return{left:0,right:0};var c,d,{padding:e}=a;return"string"==typeof e?{left:b,right:b}:{left:(null!=(c=e.left)?c:0)+b,right:(null!=(d=e.right)?d:0)+b}}),oc=dV(m8,(a,b,c)=>{var d=m8(a,b);return null==d||"string"!=typeof d.padding?0:oa(a,"yAxis",b,c,d.padding)},(a,b)=>{if(null==a)return{top:0,bottom:0};var c,d,{padding:e}=a;return"string"==typeof e?{top:b,bottom:b}:{top:(null!=(c=e.top)?c:0)+b,bottom:(null!=(d=e.bottom)?d:0)+b}}),od=dV([gV,ob,g$,gZ,(a,b,c)=>c],(a,b,c,d,e)=>{var{padding:f}=d;return e?[f.left,c.width-f.right]:[a.left+b.left,a.left+a.width-b.right]}),oe=dV([gV,hl,oc,g$,gZ,(a,b,c)=>c],(a,b,c,d,e,f)=>{var{padding:g}=e;return f?[d.height-g.bottom,g.top]:"horizontal"===b?[a.top+a.height-c.bottom,a.top+c.top]:[a.top+c.top,a.top+a.height-c.bottom]}),of=(a,b,c,d)=>{var e;switch(b){case"xAxis":return od(a,c,d);case"yAxis":return oe(a,c,d);case"zAxis":return null==(e=na(a,c))?void 0:e.range;case"angleAxis":return mP(a);case"radiusAxis":return mQ(a,c);default:return}},og=dV([nb,of],mD),oh=dV([n3,n8],m1),oi=dV([nb,n3,oh,og],n4);function oj(a,b){return a.id<b.id?-1:+(a.id>b.id)}dV([nh,nG,mS],(a,b,c)=>a.flatMap(a=>b[a.id]).filter(Boolean).filter(a=>nr(c,a)));var ok=(a,b)=>b,ol=(a,b,c)=>c,om=dV(gP,ok,ol,(a,b,c)=>a.filter(a=>a.orientation===b).filter(a=>a.mirror===c).sort(oj)),on=dV(gQ,ok,ol,(a,b,c)=>a.filter(a=>a.orientation===b).filter(a=>a.mirror===c).sort(oj)),oo=(a,b)=>({width:a.width,height:b.height});dV(gV,m6,oo);var op=dV(gM,gV,om,ok,ol,(a,b,c,d,e)=>{var f,g={};return c.forEach(c=>{var h=oo(b,c);null==f&&(f=((a,b,c)=>{switch(b){case"top":return a.top;case"bottom":return c-a.bottom;default:return 0}})(b,d,a));var i="top"===d&&!e||"bottom"===d&&e;g[c.id]=f-Number(i)*h.height,f+=(i?-1:1)*h.height}),g}),oq=dV(gL,gV,on,ok,ol,(a,b,c,d,e)=>{var f,g={};return c.forEach(c=>{var h={width:"number"==typeof c.width?c.width:60,height:b.height};null==f&&(f=((a,b,c)=>{switch(b){case"left":return a.left;case"right":return c-a.right;default:return 0}})(b,d,a));var i="left"===d&&!e||"right"===d&&e;g[c.id]=f-Number(i)*h.width,f+=(i?-1:1)*h.width}),g});dV([gV,m6,(a,b)=>{var c=m6(a,b);if(null!=c)return op(a,c.orientation,c.mirror)},(a,b)=>b],(a,b,c,d)=>{if(null!=b){var e=null==c?void 0:c[d];return null==e?{x:a.left,y:0}:{x:a.left,y:e}}}),dV([gV,m8,(a,b)=>{var c=m8(a,b);if(null!=c)return oq(a,c.orientation,c.mirror)},(a,b)=>b],(a,b,c,d)=>{if(null!=b){var e=null==c?void 0:c[d];return null==e?{x:0,y:a.top}:{x:e,y:a.top}}}),dV(gV,m8,(a,b)=>({width:"number"==typeof b.width?b.width:60,height:a.height}));var or=(a,b,c,d)=>{if(null!=c){var{allowDuplicatedCategory:e,type:f,dataKey:g}=c,h=gE(a,d),i=b.map(a=>a.value);if(g&&h&&"category"===f&&e&&eZ(i))return i}},os=dV([hl,nq,nb,mS],or),ot=(a,b,c,d)=>{if(null!=c&&null!=c.dataKey){var{type:e,scale:f}=c;if(gE(a,d)&&("number"===e||"auto"!==f))return b.map(a=>a.value)}},ou=dV([hl,nq,nc,mS],ot);dV([hl,(a,b,c)=>{switch(b){case"xAxis":return m6(a,c);case"yAxis":return m8(a,c);default:throw Error("Unexpected axis type: ".concat(b))}},n3,oi,os,ou,of,n6,mS],(a,b,c,d,e,f,g,h,i)=>{if(null!=b){var j=gE(a,i);return{angle:b.angle,interval:b.interval,minTickGap:b.minTickGap,orientation:b.orientation,tick:b.tick,tickCount:b.tickCount,tickFormatter:b.tickFormatter,ticks:b.ticks,type:b.type,unit:b.unit,axisType:i,categoricalDomain:f,duplicateDomain:e,isCategorical:j,niceTicks:h,range:g,realScaleType:c,scale:d}}}),dV([hl,nc,n3,oi,n6,of,os,ou,mS],(a,b,c,d,e,f,g,h,i)=>{if(null!=b&&null!=d){var j=gE(a,i),{type:k,ticks:l,tickCount:m}=b,n="scaleBand"===c&&"function"==typeof d.bandwidth?d.bandwidth()/2:2,o="category"===k&&d.bandwidth?d.bandwidth()/n:0;o="angleAxis"===i&&null!=f&&f.length>=2?2*eR(f[0]-f[1])*o:o;var p=l||e;return p?p.map((a,b)=>{var c=g?g.indexOf(a):a,e=d.map(c);return gz(e)?{index:b,coordinate:e+o,value:a,offset:o}:null}).filter(e0):j&&h?h.map((a,b)=>{var c=d.map(a);return gz(c)?{coordinate:c+o,value:a,index:b,offset:o}:null}).filter(e0):d.ticks?d.ticks(m).map((a,b)=>{var c=d.map(a);return gz(c)?{coordinate:c+o,value:a,index:b,offset:o}:null}).filter(e0):d.domain().map((a,b)=>{var c=d.map(a);return gz(c)?{coordinate:c+o,value:g?g[a]:a,index:b,offset:o}:null}).filter(e0)}}),dV([hl,nc,oi,of,os,ou,mS],(a,b,c,d,e,f,g)=>{if(null!=b&&null!=c&&null!=d&&d[0]!==d[1]){var h=gE(a,g),{tickCount:i}=b,j=0;return(j="angleAxis"===g&&(null==d?void 0:d.length)>=2?2*eR(d[0]-d[1])*j:j,h&&f)?f.map((a,b)=>{var d=c.map(a);return gz(d)?{coordinate:d+j,value:a,index:b,offset:j}:null}).filter(e0):c.ticks?c.ticks(i).map((a,b)=>{var d=c.map(a);return gz(d)?{coordinate:d+j,value:a,index:b,offset:j}:null}).filter(e0):c.domain().map((a,b)=>{var d=c.map(a);return gz(d)?{coordinate:d+j,value:e?e[a]:a,index:b,offset:j}:null}).filter(e0)}}),dV(nb,oi,(a,b)=>{if(null!=a&&null!=b)return m3(m3({},a),{},{scale:b})});var ov=dV([nb,n3,n1,og],n4);dV((a,b,c)=>na(a,c),ov,(a,b)=>{if(null!=a&&null!=b)return m3(m3({},a),{},{scale:b})});var ow=dV([hl,gP,gQ],(a,b,c)=>{switch(a){case"horizontal":return b.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return c.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),ox=a=>a.options.defaultTooltipEventType,oy=a=>a.options.validateTooltipEventTypes;function oz(a,b,c){if(null==a)return b;var d=a?"axis":"item";return null==c?b:c.includes(d)?d:b}function oA(a,b){return oz(b,ox(a),oy(a))}var oB=(a,b)=>{var c,d=Number(b);if(!eS(d)&&null!=b)return d>=0?null==a||null==(c=a[d])?void 0:c.value:void 0};function oC(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function oD(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?oC(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):oC(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var oE=(a,b,c,d)=>{if(null==b)return fU;var e,f,g,h=(e=a,f=b,g=c,"axis"===f?"click"===g?e.axisInteraction.click:e.axisInteraction.hover:"click"===g?e.itemInteraction.click:e.itemInteraction.hover);if(null==h)return fU;if(h.active)return h;if(a.keyboardInteraction.active)return a.keyboardInteraction;if(a.syncInteraction.active&&null!=a.syncInteraction.index)return a.syncInteraction;var i=!0===a.settings.active;if(null!=h.index){if(i)return oD(oD({},h),{},{active:!0})}else if(null!=d)return{active:!0,coordinate:void 0,dataKey:void 0,index:d,graphicalItemId:void 0};return oD(oD({},fU),{},{coordinate:h.coordinate})},oF=(a,b,c,d)=>{var e=null==a?void 0:a.index;if(null==e)return null;var f=Number(e);if(!gz(f))return e;var g=Infinity;b.length>0&&(g=b.length-1);var h=Math.max(0,Math.min(f,g)),i=b[h];return null==i?String(h):!function(a,b,c){if(null==c||null==b)return!0;var d=gD(a,b);return!(null!=d&&ll(c))||function(a,b){var c=function(a){if("number"==typeof a)return Number.isFinite(a)?a:void 0;if(a instanceof Date){var b=a.valueOf();return Number.isFinite(b)?b:void 0}var c=Number(a);return Number.isFinite(c)?c:void 0}(a),d=b[0],e=b[1];if(void 0===c)return!1;var f=Math.min(d,e),g=Math.max(d,e);return c>=f&&c<=g}(d,c)}(i,c,d)?null:String(h)},oG=(a,b,c,d,e,f,g)=>{if(null!=f){var h=g[0],i=null==h?void 0:h.getPosition(f);if(null!=i)return i;var j=null==e?void 0:e[Number(f)];if(j)if("horizontal"===c)return{x:j.coordinate,y:(d.top+b)/2};else return{x:(d.left+a)/2,y:j.coordinate}}},oH=(a,b,c,d)=>{if("axis"===b)return a.tooltipItemPayloads;if(0===a.tooltipItemPayloads.length)return[];if(null==(e="hover"===c?a.itemInteraction.hover.graphicalItemId:a.itemInteraction.click.graphicalItemId)&&null!=d){var e,f=a.tooltipItemPayloads[0];return null!=f?[f]:[]}return a.tooltipItemPayloads.filter(a=>{var b;return(null==(b=a.settings)?void 0:b.graphicalItemId)===e})},oI=a=>a.options.tooltipPayloadSearcher,oJ=a=>a.tooltip;function oK(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function oL(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?oK(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):oK(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var oM=(a,b,c,d,e,f,g)=>{if(null!=b&&null!=f){var{chartData:h,computedData:i,dataStartIndex:j,dataEndIndex:k}=c;return a.reduce((a,c)=>{var l,m,n,{dataDefinedOnItem:o,settings:p}=c,q=null!=o?o:h,r=Array.isArray(q)?gy(q,j,k):q,s=null!=(l=null==p?void 0:p.dataKey)?l:d,t=null==p?void 0:p.nameKey;return Array.isArray(m=d&&Array.isArray(r)&&!Array.isArray(r[0])&&"axis"===g?function(a,b,c){if(a&&a.length)return a.find(a=>a&&("function"==typeof b?b(a):(0,eO.default)(a,b))===c)}(r,d,e):f(r,b,i,t))?m.forEach(b=>{var c=oL(oL({},p),{},{name:b.name,unit:b.unit,color:void 0,fill:void 0});a.push(gJ({tooltipEntrySettings:c,dataKey:b.dataKey,payload:b.payload,value:gD(b.payload,b.dataKey),name:b.name}))}):a.push(gJ({tooltipEntrySettings:p,dataKey:s,payload:m,value:gD(m,s),name:null!=(n=gD(m,t))?n:null==p?void 0:p.name})),a},[])}},oN=dV([nv,nd,mr],n2),oO=dV([a=>a.graphicalItems.cartesianItems,a=>a.graphicalItems.polarItems],(a,b)=>[...a,...b]),oP=dV([mZ,m$],ne),oQ=dV([oO,nv,oP],ng,{memoizeOptions:{resultEqualityCheck:mY}}),oR=dV([oQ],a=>a.filter(mW)),oS=dV([oQ],nl,{memoizeOptions:{resultEqualityCheck:mY}}),oT=dV([oS,li],nn),oU=dV([oR,li,nv],mV),oV=dV([oT,nv,oQ],np),oW=dV([nv],nC),oX=dV([nv],a=>a.allowDataOverflow),oY=dV([oW,oX],ln),oZ=dV([oQ],a=>a.filter(mW)),o$=dV([oU,oZ,mp,mq],ny),o_=dV([o$,li,mZ,oY],nA),o0=dV([oQ],nj),o1=dV([oT,nv,o0,nG,mZ],nI,{memoizeOptions:{resultEqualityCheck:mX}}),o2=dV([nL,mZ,m$],nM),o3=dV([o2,mZ],nS),o4=dV([nO,mZ,m$],nM),o5=dV([o4,mZ],nU),o6=dV([nQ,mZ,m$],nM),o7=dV([o6,mZ],nW),o8=dV([o3,o7,o5],nH),o9=dV([nv,oW,oY,o_,o1,o8,hl,mZ],nZ),pa=dV([nv,hl,oT,oV,mp,mZ,o9],n0),pb=dV([pa,nv,oN],n5),pc=dV([nv,pa,pb,mZ],n7),pd=a=>{var b=mZ(a),c=m$(a);return of(a,b,c,!1)},pe=dV([nv,pd],mD),pf=dV([nv,oN,pc,pe],n4),pg=dV([hl,oV,nv,mZ],or),ph=dV([hl,oV,nv,mZ],ot),pi=dV([hl,nv,oN,pf,pd,pg,ph,mZ],(a,b,c,d,e,f,g,h)=>{if(b){var{type:i}=b,j=gE(a,h);if(d){var k="scaleBand"===c&&d.bandwidth?d.bandwidth()/2:2,l="category"===i&&d.bandwidth?d.bandwidth()/k:0;return(l="angleAxis"===h&&null!=e&&(null==e?void 0:e.length)>=2?2*eR(e[0]-e[1])*l:l,j&&g)?g.map((a,b)=>{var c=d.map(a);return gz(c)?{coordinate:c+l,value:a,index:b,offset:l}:null}).filter(e0):d.domain().map((a,b)=>{var c=d.map(a);return gz(c)?{coordinate:c+l,value:f?f[a]:a,index:b,offset:l}:null}).filter(e0)}}}),pj=dV([ox,oy,a=>a.tooltip.settings],(a,b,c)=>oz(c.shared,a,b)),pk=a=>a.tooltip.settings.trigger,pl=a=>a.tooltip.settings.defaultIndex,pm=dV([oJ,pj,pk,pl],oE),pn=dV([pm,oT,nw,pa],oF),po=dV([pi,pn],oB),pp=dV([pm],a=>{if(a)return a.dataKey}),pq=dV([pm],a=>{if(a)return a.graphicalItemId}),pr=dV([oJ,pj,pk,pl],oH),ps=dV([gL,gM,hl,gV,pi,pl,pr],oG),pt=dV([pm,ps],(a,b)=>null!=a&&a.coordinate?a.coordinate:b),pu=dV([pm],a=>{var b;return null!=(b=null==a?void 0:a.active)&&b}),pv=dV([pr,pn,li,nw,po,oI,pj],oM);function pw(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function px(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?pw(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):pw(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}dV([pv],a=>{if(null!=a)return Array.from(new Set(a.map(a=>a.payload).filter(a=>null!=a)))});var py=(a,b,c,d,e)=>{var f=null!=(l=null==b?void 0:b.length)?l:0;if(f<=1||null==a)return 0;if("angleAxis"===d&&null!=e&&1e-6>=Math.abs(Math.abs(e[1]-e[0])-360))for(var g=0;g<f;g++){var h=g>0?null==(m=c[g-1])?void 0:m.coordinate:null==(n=c[f-1])?void 0:n.coordinate,i=null==(o=c[g])?void 0:o.coordinate,j=g>=f-1?null==(p=c[0])?void 0:p.coordinate:null==(q=c[g+1])?void 0:q.coordinate,k=void 0;if(null!=h&&null!=i&&null!=j)if(eR(i-h)!==eR(j-i)){var l,m,n,o,p,q,r,s=[];if(eR(j-i)===eR(e[1]-e[0])){k=j;var t=i+e[1]-e[0];s[0]=Math.min(t,(t+h)/2),s[1]=Math.max(t,(t+h)/2)}else{k=h;var u=j+e[1]-e[0];s[0]=Math.min(i,(u+i)/2),s[1]=Math.max(i,(u+i)/2)}var v=[Math.min(i,(k+i)/2),Math.max(i,(k+i)/2)];if(a>v[0]&&a<=v[1]||a>=s[0]&&a<=s[1])return null==(r=c[g])?void 0:r.index}else{var w,x=Math.min(h,j),y=Math.max(h,j);if(a>(x+i)/2&&a<=(y+i)/2)return null==(w=c[g])?void 0:w.index}}else if(b)for(var z=0;z<f;z++){var A=b[z];if(null!=A){var B=b[z+1],C=b[z-1];if(0===z&&null!=B&&a<=(A.coordinate+B.coordinate)/2||z===f-1&&null!=C&&a>(A.coordinate+C.coordinate)/2||z>0&&z<f-1&&null!=C&&null!=B&&a>(A.coordinate+C.coordinate)/2&&a<=(A.coordinate+B.coordinate)/2)return A.index}}return -1},pz=(a,b)=>b,pA=(a,b,c)=>c,pB=(a,b,c,d)=>d,pC=dV(pi,a=>(0,gq.default)(a,a=>a.coordinate)),pD=dV([oJ,pz,pA,pB],oE),pE=dV([pD,oT,nw,pa],oF),pF=dV([oJ,pz,pA,pB],oH),pG=dV([gL,gM,hl,gV,pi,pB,pF],oG),pH=dV([pD,pG],(a,b)=>{var c;return null!=(c=a.coordinate)?c:b}),pI=dV([pi,pE],oB),pJ=dV([pF,pE,li,nw,pI,oI,pz],oM),pK=dV([pD,pE],(a,b)=>({isActive:a.active&&null!=b,activeIndex:b})),pL=dV([(a,b)=>b,hl,mR,mZ,pe,pi,pC,gV],(a,b,c,d,e,f,g,h)=>{if(a&&b&&d&&e&&f){if("horizontal"===b||"vertical"===b){if(!a||!d||!e||!f)return;if(function(a,b){var{chartX:c,chartY:d}=a;return c>=b.left&&c<=b.left+b.width&&d>=b.top&&d<=b.top+b.height}(a,h)){var i=py("horizontal"===b?a.chartX:"vertical"===b?a.chartY:void 0,g,f,d,e),j=((a,b,c,d)=>{var e=b.find(a=>a&&a.index===c);if(e){if("horizontal"===a)return{x:e.coordinate,y:d.chartY};if("vertical"===a)return{x:d.chartX,y:e.coordinate}}return{x:0,y:0}})(b,f,i,a);return{activeIndex:String(i),activeCoordinate:j}}return}if(a&&d&&e&&f&&c){var k=((a,b)=>{var c,{chartX:d,chartY:e}=a,{radius:f,angle:g}=((a,b)=>{var{x:c,y:d}=a,{cx:e,cy:f}=b,g=((a,b)=>{var{x:c,y:d}=a,{x:e,y:f}=b;return Math.sqrt((c-e)**2+(d-f)**2)})({x:c,y:d},{x:e,y:f});if(g<=0)return{radius:g,angle:0};var h=Math.acos((c-e)/g);return d>f&&(h=2*Math.PI-h),{radius:g,angle:180*h/Math.PI,angleInRadian:h}})({x:d,y:e},b),{innerRadius:h,outerRadius:i}=b;if(f<h||f>i||0===f)return null;var{startAngle:j,endAngle:k}=(a=>{var{startAngle:b,endAngle:c}=a,d=Math.min(Math.floor(b/360),Math.floor(c/360));return{startAngle:b-360*d,endAngle:c-360*d}})(b),l=g;if(j<=k){for(;l>k;)l-=360;for(;l<j;)l+=360;c=l>=j&&l<=k}else{for(;l>j;)l-=360;for(;l<k;)l+=360;c=l>=k&&l<=j}return c?mw(mw({},b),{},{radius:f,angle:((a,b)=>{var{startAngle:c,endAngle:d}=b;return a+360*Math.min(Math.floor(c/360),Math.floor(d/360))})(l,b)}):null})(a,c);if(k){var l=py("centric"===b?k.angle:k.radius,g,f,d,e),m=((a,b,c,d)=>{var e=b.find(a=>a&&a.index===c);if(e){if("centric"===a){var f=e.coordinate,{radius:g}=d;return px(px(px({},d),my(d.cx,d.cy,g,f)),{},{angle:f,radius:g})}var h=e.coordinate,{angle:i}=d;return px(px(px({},d),my(d.cx,d.cy,h,i)),{},{angle:i,radius:h})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}})(b,f,l,k);return{activeIndex:String(l),activeCoordinate:m}}return}}}),pM=a=>{var b=a.currentTarget.getBoundingClientRect(),c=b.width/a.currentTarget.offsetWidth,d=b.height/a.currentTarget.offsetHeight;return{chartX:Math.round((a.clientX-b.left)/c),chartY:Math.round((a.clientY-b.top)/d)}},pN=d6("mouseClick"),pO=eM();pO.startListening({actionCreator:pN,effect:(a,b)=>{var c=a.payload,d=pL(b.getState(),pM(c));(null==d?void 0:d.activeIndex)!=null&&b.dispatch(f3({activeIndex:d.activeIndex,activeDataKey:void 0,activeCoordinate:d.activeCoordinate}))}});var pP=d6("mouseMove"),pQ=eM(),pR=null;function pS(a,b){return b instanceof HTMLElement?"HTMLElement <".concat(b.tagName,' class="').concat(b.className,'">'):b===window?"global.window":"children"===a&&"object"==typeof b&&null!==b?"<<CHILDREN>>":b}function pT(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function pU(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?pT(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):pT(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}pQ.startListening({actionCreator:pP,effect:(a,b)=>{var c=a.payload;null!==pR&&cancelAnimationFrame(pR);var d=pM(c);pR=requestAnimationFrame(()=>{var a=b.getState();if("axis"===oA(a,a.tooltip.settings.shared)){var c=pL(a,d);(null==c?void 0:c.activeIndex)!=null?b.dispatch(f2({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):b.dispatch(f0())}pR=null})}});var pV=eh({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(a,b){a.xAxis[b.payload.id]=b.payload},prepare:eb()},replaceXAxis:{reducer(a,b){var{prev:c,next:d}=b.payload;void 0!==a.xAxis[c.id]&&(c.id!==d.id&&delete a.xAxis[c.id],a.xAxis[d.id]=d)},prepare:eb()},removeXAxis:{reducer(a,b){delete a.xAxis[b.payload.id]},prepare:eb()},addYAxis:{reducer(a,b){a.yAxis[b.payload.id]=b.payload},prepare:eb()},replaceYAxis:{reducer(a,b){var{prev:c,next:d}=b.payload;void 0!==a.yAxis[c.id]&&(c.id!==d.id&&delete a.yAxis[c.id],a.yAxis[d.id]=d)},prepare:eb()},removeYAxis:{reducer(a,b){delete a.yAxis[b.payload.id]},prepare:eb()},addZAxis:{reducer(a,b){a.zAxis[b.payload.id]=b.payload},prepare:eb()},replaceZAxis:{reducer(a,b){var{prev:c,next:d}=b.payload;void 0!==a.zAxis[c.id]&&(c.id!==d.id&&delete a.zAxis[c.id],a.zAxis[d.id]=d)},prepare:eb()},removeZAxis:{reducer(a,b){delete a.zAxis[b.payload.id]},prepare:eb()},updateYAxisWidth(a,b){var{id:c,width:d}=b.payload,e=a.yAxis[c];if(e){var f,g=e.widthHistory||[];if(3===g.length&&g[0]===g[2]&&d===g[1]&&d!==e.width&&1>=Math.abs(d-(null!=(f=g[0])?f:0)))return;var h=[...g,d].slice(-3);a.yAxis[c]=pU(pU({},e),{},{width:d,widthHistory:h})}}}}),{addXAxis:pW,replaceXAxis:pX,removeXAxis:pY,addYAxis:pZ,replaceYAxis:p$,removeYAxis:p_,addZAxis:p0,replaceZAxis:p1,removeZAxis:p2,updateYAxisWidth:p3}=pV.actions,p4=pV.reducer,p5=eh({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(a,b){a.cartesianItems.push(b.payload)},prepare:eb()},replaceCartesianGraphicalItem:{reducer(a,b){var{prev:c,next:d}=b.payload,e=dC(a).cartesianItems.indexOf(c);e>-1&&(a.cartesianItems[e]=d)},prepare:eb()},removeCartesianGraphicalItem:{reducer(a,b){var c=dC(a).cartesianItems.indexOf(b.payload);c>-1&&a.cartesianItems.splice(c,1)},prepare:eb()},addPolarGraphicalItem:{reducer(a,b){a.polarItems.push(b.payload)},prepare:eb()},removePolarGraphicalItem:{reducer(a,b){var c=dC(a).polarItems.indexOf(b.payload);c>-1&&a.polarItems.splice(c,1)},prepare:eb()}}}),{addCartesianGraphicalItem:p6,replaceCartesianGraphicalItem:p7,removeCartesianGraphicalItem:p8,addPolarGraphicalItem:p9,removePolarGraphicalItem:qa}=p5.actions,qb=p5.reducer,qc=eh({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(a,b)=>{a.dots.push(b.payload)},removeDot:(a,b)=>{var c=dC(a).dots.findIndex(a=>a===b.payload);-1!==c&&a.dots.splice(c,1)},addArea:(a,b)=>{a.areas.push(b.payload)},removeArea:(a,b)=>{var c=dC(a).areas.findIndex(a=>a===b.payload);-1!==c&&a.areas.splice(c,1)},addLine:(a,b)=>{a.lines.push(b.payload)},removeLine:(a,b)=>{var c=dC(a).lines.findIndex(a=>a===b.payload);-1!==c&&a.lines.splice(c,1)}}}),{addDot:qd,removeDot:qe,addArea:qf,removeArea:qg,addLine:qh,removeLine:qi}=qc.actions,qj=qc.reducer,qk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ql=eh({name:"brush",initialState:qk,reducers:{setBrushSettings:(a,b)=>null==b.payload?qk:b.payload}}),{setBrushSettings:qm}=ql.actions,qn=ql.reducer,qo=eh({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(a,b){a.size.width=b.payload.width,a.size.height=b.payload.height},setLegendSettings(a,b){a.settings.align=b.payload.align,a.settings.layout=b.payload.layout,a.settings.verticalAlign=b.payload.verticalAlign,a.settings.itemSorter=b.payload.itemSorter},addLegendPayload:{reducer(a,b){a.payload.push(b.payload)},prepare:eb()},replaceLegendPayload:{reducer(a,b){var{prev:c,next:d}=b.payload,e=dC(a).payload.indexOf(c);e>-1&&(a.payload[e]=d)},prepare:eb()},removeLegendPayload:{reducer(a,b){var c=dC(a).payload.indexOf(b.payload);c>-1&&a.payload.splice(c,1)},prepare:eb()}}}),{setLegendSize:qp,setLegendSettings:qq,addLegendPayload:qr,replaceLegendPayload:qs,removeLegendPayload:qt}=qo.actions,qu=qo.reducer,qv={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},qw=eh({name:"rootProps",initialState:qv,reducers:{updateOptions:(a,b)=>{var c;a.accessibilityLayer=b.payload.accessibilityLayer,a.barCategoryGap=b.payload.barCategoryGap,a.barGap=null!=(c=b.payload.barGap)?c:qv.barGap,a.barSize=b.payload.barSize,a.maxBarSize=b.payload.maxBarSize,a.stackOffset=b.payload.stackOffset,a.syncId=b.payload.syncId,a.syncMethod=b.payload.syncMethod,a.className=b.payload.className,a.baseValue=b.payload.baseValue,a.reverseStackOrder=b.payload.reverseStackOrder}}}),qx=qw.reducer,{updateOptions:qy}=qw.actions,qz=eh({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(a,b){a.radiusAxis[b.payload.id]=b.payload},removeRadiusAxis(a,b){delete a.radiusAxis[b.payload.id]},addAngleAxis(a,b){a.angleAxis[b.payload.id]=b.payload},removeAngleAxis(a,b){delete a.angleAxis[b.payload.id]}}}),{addRadiusAxis:qA,removeRadiusAxis:qB,addAngleAxis:qC,removeAngleAxis:qD}=qz.actions,qE=qz.reducer,qF=eh({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(a,b)=>b.payload}}),{updatePolarOptions:qG}=qF.actions,qH=qF.reducer,qI=d6("keyDown"),qJ=d6("focus"),qK=eM();qK.startListening({actionCreator:qI,effect:(a,b)=>{var c=b.getState();if(!1===c.rootProps.accessibilityLayer)return;var{keyboardInteraction:d}=c.tooltip,e=a.payload;if("ArrowRight"===e||"ArrowLeft"===e||"Enter"===e){var f=oF(d,oT(c),nw(c),pa(c)),g=null==f?-1:Number(f);if(Number.isFinite(g)&&!(g<0)){var h=pi(c);if("Enter"===e){var i=pG(c,"axis","hover",String(d.index));b.dispatch(f5({active:!d.active,activeIndex:d.index,activeCoordinate:i}));return}var j=g+("ArrowRight"===e?1:-1)*("left-to-right"===ow(c)?1:-1);if(null!=h&&!(j>=h.length)&&!(j<0)){var k=pG(c,"axis","hover",String(j));b.dispatch(f5({active:!0,activeIndex:j.toString(),activeCoordinate:k}))}}}}}),qK.startListening({actionCreator:qJ,effect:(a,b)=>{var c=b.getState();if(!1!==c.rootProps.accessibilityLayer){var{keyboardInteraction:d}=c.tooltip;if(!d.active&&null==d.index){var e=pG(c,"axis","hover",String("0"));b.dispatch(f5({active:!0,activeIndex:"0",activeCoordinate:e}))}}}});var qL=d6("externalEvent"),qM=eM(),qN=new Map;qM.startListening({actionCreator:qL,effect:(a,b)=>{var{handler:c,reactEvent:d}=a.payload;if(null!=c){d.persist();var e=d.type,f=qN.get(e);void 0!==f&&cancelAnimationFrame(f);var g=requestAnimationFrame(()=>{try{var a=b.getState(),f={activeCoordinate:pt(a),activeDataKey:pp(a),activeIndex:pn(a),activeLabel:po(a),activeTooltipIndex:pn(a),isTooltipActive:pu(a)};c(f,d)}finally{qN.delete(e)}});qN.set(e,g)}}});var qO=dV([oJ],a=>a.tooltipItemPayloads),qP=dV([qO,(a,b)=>b,(a,b,c)=>c],(a,b,c)=>{if(null!=b){var d=a.find(a=>a.settings.graphicalItemId===c);if(null!=d){var{getPosition:e}=d;if(null!=e)return e(b)}}}),qQ=d6("touchMove"),qR=eM();qR.startListening({actionCreator:qQ,effect:(a,b)=>{var c=a.payload;if(null!=c.touches&&0!==c.touches.length){var d=b.getState(),e=oA(d,d.tooltip.settings.shared);if("axis"===e){var f=c.touches[0];if(null==f)return;var g=pL(d,pM({clientX:f.clientX,clientY:f.clientY,currentTarget:c.currentTarget}));(null==g?void 0:g.activeIndex)!=null&&b.dispatch(f2({activeIndex:g.activeIndex,activeDataKey:void 0,activeCoordinate:g.activeCoordinate}))}else if("item"===e){var h,i=c.touches[0];if(null==document.elementFromPoint||null==i)return;var j=document.elementFromPoint(i.clientX,i.clientY);if(!j||!j.getAttribute)return;var k=j.getAttribute(gR),l=null!=(h=j.getAttribute(gS))?h:void 0,m=oQ(d).find(a=>a.id===l);if(null==k||null==m||null==l)return;var{dataKey:n}=m,o=qP(d,k,l);b.dispatch(f$({activeDataKey:n,activeIndex:k,activeCoordinate:o,activeGraphicalItemId:l}))}}}});var qS=eh({name:"errorBars",initialState:{},reducers:{addErrorBar:(a,b)=>{var{itemId:c,errorBar:d}=b.payload;a[c]||(a[c]=[]),a[c].push(d)},replaceErrorBar:(a,b)=>{var{itemId:c,prev:d,next:e}=b.payload;a[c]&&(a[c]=a[c].map(a=>a.dataKey===d.dataKey&&a.direction===d.direction?e:a))},removeErrorBar:(a,b)=>{var{itemId:c,errorBar:d}=b.payload;a[c]&&(a[c]=a[c].filter(a=>a.dataKey!==d.dataKey||a.direction!==d.direction))}}}),{addErrorBar:qT,replaceErrorBar:qU,removeErrorBar:qV}=qS.actions,qW=qS.reducer,qX=!0,qY=!0;function qZ(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function q$(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?qZ(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):qZ(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var q_={zIndexMap:Object.values(mA).reduce((a,b)=>q$(q$({},a),{},{[b]:{element:void 0,panoramaElement:void 0,consumers:0}}),{})},q0=new Set(Object.values(mA)),q1=eh({name:"zIndex",initialState:q_,reducers:{registerZIndexPortal:{reducer:(a,b)=>{var{zIndex:c}=b.payload;a.zIndexMap[c]?a.zIndexMap[c].consumers+=1:a.zIndexMap[c]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:eb()},unregisterZIndexPortal:{reducer:(a,b)=>{var{zIndex:c}=b.payload;a.zIndexMap[c]&&(a.zIndexMap[c].consumers-=1,a.zIndexMap[c].consumers<=0&&!q0.has(c)&&delete a.zIndexMap[c])},prepare:eb()},registerZIndexPortalElement:{reducer:(a,b)=>{var{zIndex:c,element:d,isPanorama:e}=b.payload;a.zIndexMap[c]?e?a.zIndexMap[c].panoramaElement=d:a.zIndexMap[c].element=d:a.zIndexMap[c]={consumers:0,element:e?void 0:d,panoramaElement:e?d:void 0}},prepare:eb()},unregisterZIndexPortalElement:{reducer:(a,b)=>{var{zIndex:c}=b.payload;a.zIndexMap[c]&&(b.payload.isPanorama?a.zIndexMap[c].panoramaElement=void 0:a.zIndexMap[c].element=void 0)},prepare:eb()}}}),{registerZIndexPortal:q2,unregisterZIndexPortal:q3,registerZIndexPortalElement:q4,unregisterZIndexPortalElement:q5}=q1.actions,q6=d0({brush:qn,cartesianAxis:p4,chartData:gb,errorBars:qW,graphicalItems:qb,layout:gh,legend:qu,options:e4,polarAxis:qE,polarOptions:qH,referenceElements:qj,rootProps:qx,tooltip:f6,zIndex:q1.reducer}),q7=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart";return function(a){let b,c,d,e=function(a){let{thunk:b=!0,immutableCheck:c=!0,serializableCheck:d=!0,actionCreatorCheck:e=!0}=a??{},f=new d7;return b&&("boolean"==typeof b?f.push(d4):f.push(d3(b.extraArgument))),f},{reducer:f,middleware:g,devTools:h=!0,duplicateMiddlewareCheck:i=!0,preloadedState:j,enhancers:k}=a||{};if("function"==typeof f)b=f;else if(d_(f))b=d0(f);else throw Error(eN(1));c="function"==typeof g?g(e):e();let l=d1;h&&(l=d5({trace:!1,..."object"==typeof h&&h}));let m=(d=function(...a){return b=>(c,d)=>{let e=b(c,d),f=()=>{throw Error(dX(15))},g={getState:e.getState,dispatch:(a,...b)=>f(a,...b)};return f=d1(...a.map(a=>a(g)))(e.dispatch),{...e,dispatch:f}}}(...c),function(a){let{autoBatch:b=!0}=a??{},c=new d7(d);return b&&c.push(ed("object"==typeof b?b:void 0)),c});return function a(b,c,d){if("function"!=typeof b)throw Error(dX(2));if("function"==typeof c&&"function"==typeof d||"function"==typeof d&&"function"==typeof arguments[3])throw Error(dX(0));if("function"==typeof c&&void 0===d&&(d=c,c=void 0),void 0!==d){if("function"!=typeof d)throw Error(dX(1));return d(a)(b,c)}let e=b,f=c,g=new Map,h=g,i=0,j=!1;function k(){h===g&&(h=new Map,g.forEach((a,b)=>{h.set(b,a)}))}function l(){if(j)throw Error(dX(3));return f}function m(a){if("function"!=typeof a)throw Error(dX(4));if(j)throw Error(dX(5));let b=!0;k();let c=i++;return h.set(c,a),function(){if(b){if(j)throw Error(dX(6));b=!1,k(),h.delete(c),g=null}}}function n(a){if(!d_(a))throw Error(dX(7));if(void 0===a.type)throw Error(dX(8));if("string"!=typeof a.type)throw Error(dX(17));if(j)throw Error(dX(9));try{j=!0,f=e(f,a)}finally{j=!1}return(g=h).forEach(a=>{a()}),a}return n({type:d$.INIT}),{dispatch:n,subscribe:m,getState:l,replaceReducer:function(a){if("function"!=typeof a)throw Error(dX(10));e=a,n({type:d$.REPLACE})},[dY]:function(){return{subscribe(a){if("object"!=typeof a||null===a)throw Error(dX(11));function b(){a.next&&a.next(l())}return b(),{unsubscribe:m(b)}},[dY](){return this}}}}}(b,j,l(..."function"==typeof k?k(m):m()))}({reducer:q6,preloadedState:a,middleware:a=>a({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes("es6")}).concat([pO.middleware,pQ.middleware,qK.middleware,qM.middleware,qR.middleware]),enhancers:a=>{var b=a;return"function"==typeof a&&(b=a()),b.concat(ed({type:"raf"}))},devTools:qX&&{serialize:{replacer:pS},name:"recharts-".concat(b)}})};function q8(a){var{preloadedState:b,children:c,reduxStoreName:d}=a,e=gY(),f=(0,D.useRef)(null);return e?c:(null==f.current&&(f.current=q7(b,d)),D.createElement(fd,{context:gj,store:f.current},c))}var q9=a=>{var{chartData:b}=a,c=gl(),d=gY();return(0,D.useEffect)(()=>d?()=>{}:(c(f8(b)),()=>{c(f8(void 0))}),[b,c,d]),null},ra=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]),rb=(0,D.memo)(function(a){var{layout:b,margin:c}=a,d=gl(),e=gY();return(0,D.useEffect)(()=>{e||(d(ge(b)),d(gd(c)))},[d,e,b,c]),null},function(a,b){for(var c of new Set([...Object.keys(a),...Object.keys(b)]))if(ra.has(c)){if(null==a[c]&&null==b[c])continue;if(!function(a,b){if(e9(a,b))return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;let c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(let d=0;d<c.length;d++)if(!Object.prototype.hasOwnProperty.call(b,c[d])||!e9(a[c[d]],b[c[d]]))return!1;return!0}(a[c],b[c]))return!1}else{var d,e;if(d=a[c],e=b[c],(null!=d||null!=e)&&("number"==typeof d&&"number"==typeof e?d!==e&&(d==d||e==e):d!==e))return!1}return!0});function rc(a){var b=gl();return(0,D.useEffect)(()=>{b(qy(a))},[b,a]),null}function rd(a){var b=gl();return(0,D.useEffect)(()=>{b(qG(a))},[b,a]),null}var re=()=>{var a;return null==(a=gp(a=>a.rootProps.accessibilityLayer))||a},rf=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function rg(a){return"string"==typeof a&&rf.includes(a)}var rh=new Set(["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"]);function ri(a){return"string"==typeof a&&rh.has(a)}function rj(a){return"string"==typeof a&&a.startsWith("data-")}function rk(a){if("object"!=typeof a||null===a)return{};var b={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(ri(c)||rj(c))&&(b[c]=a[c]);return b}function rl(a){return null==a?null:(0,D.isValidElement)(a)&&"object"==typeof a.props&&null!==a.props?rk(a.props):"object"!=typeof a||Array.isArray(a)?null:rk(a)}function rm(a){var b={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(ri(c)||rj(c)||rg(c))&&(b[c]=a[c]);return b}var rn=["children","width","height","viewBox","className","style","title","desc"];function ro(){return(ro=Object.assign.bind()).apply(null,arguments)}var rp=(0,D.forwardRef)((a,b)=>{var{children:c,width:d,height:e,viewBox:f,className:g,style:h,title:i,desc:j}=a,k=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,rn),l=f||{width:d,height:e,x:0,y:0},m=g_("recharts-surface",g);return D.createElement("svg",ro({},rm(k),{className:m,width:d,height:e,style:h,viewBox:"".concat(l.x," ").concat(l.y," ").concat(l.width," ").concat(l.height),ref:b}),D.createElement("title",null,i),D.createElement("desc",null,j),c)}),rq=dV(a=>a.zIndex.zIndexMap,(a,b)=>b,(a,b,c)=>c,(a,b,c)=>{if(null!=b){var d=a[b];if(null!=d)return c?d.panoramaElement:d.element}}),rr=dV(a=>a.zIndex.zIndexMap,a=>Array.from(new Set(Object.keys(a).map(a=>parseInt(a,10)).concat(Object.values(mA)))).sort((a,b)=>a-b),{memoizeOptions:{resultEqualityCheck:function(a,b){if(a.length===b.length){for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}return!1}}});function rs(a){var{zIndex:b,isPanorama:c}=a,d=(0,D.useRef)(null),e=gl();return(0,D.useLayoutEffect)(()=>(d.current&&e(q4({zIndex:b,element:d.current,isPanorama:c})),()=>{e(q5({zIndex:b,isPanorama:c}))}),[e,b,c]),D.createElement("g",{tabIndex:-1,ref:d})}function rt(a){var{children:b,isPanorama:c}=a,d=gp(rr);if(!d||0===d.length)return b;var e=d.filter(a=>a<0),f=d.filter(a=>a>0);return D.createElement(D.Fragment,null,e.map(a=>D.createElement(rs,{key:a,zIndex:a,isPanorama:c})),b,f.map(a=>D.createElement(rs,{key:a,zIndex:a,isPanorama:c})))}var ru=["children"];function rv(){return(rv=Object.assign.bind()).apply(null,arguments)}var rw={width:"100%",height:"100%",display:"block"},rx=(0,D.forwardRef)((a,b)=>{var c,d,e=gp(gL),f=gp(gM),g=re();if(!gA(e)||!gA(f))return null;var{children:h,otherAttributes:i,title:j,desc:k}=a;return null!=i&&(c="number"==typeof i.tabIndex?i.tabIndex:g?0:void 0,d="string"==typeof i.role?i.role:g?"application":void 0),D.createElement(rp,rv({},i,{title:j,desc:k,role:d,tabIndex:c,width:e,height:f,style:rw,ref:b}),h)}),ry=a=>{var{children:b}=a,c=gp(g$);if(!c)return null;var{width:d,height:e,y:f,x:g}=c;return D.createElement(rp,{width:d,height:e,x:g,y:f},b)},rz=(0,D.forwardRef)((a,b)=>{var{children:c}=a,d=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,ru);return gY()?D.createElement(ry,null,D.createElement(rt,{isPanorama:!0},c)):D.createElement(rx,rv({ref:b},d),D.createElement(rt,{isPanorama:!1},c))}),rA=new(a.i(53686)).default,rB="recharts.syncEvent.tooltip",rC="recharts.syncEvent.brush";function rD(a){return a.tooltip.syncInteraction}var rE=["x","y"];function rF(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function rG(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?rF(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):rF(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var rH=(0,D.createContext)(null),rI=(0,D.createContext)(null);function rJ(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function rK(){return(rK=Object.assign.bind()).apply(null,arguments)}var rL=()=>{var a,b,c,d,e,f,g,h,i,j,k,l;return a=gl(),(0,D.useEffect)(()=>{a(e5())},[a]),b=gp(ms),c=gp(mu),d=gl(),e=gp(mt),f=gp(pi),g=gp(hl),h=hj(),i=gp(a=>a.rootProps.className),(0,D.useEffect)(()=>{if(null==b)return e1;var a=(a,i,j)=>{if(c!==j&&b===a){if("index"===e){if(h&&null!=i&&null!=(k=i.payload)&&k.coordinate&&i.payload.sourceViewBox){var k,l,m=i.payload.coordinate,{x:n,y:o}=m,p=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(m,rE),{x:q,y:r,width:s,height:t}=i.payload.sourceViewBox,u=rG(rG({},p),{},{x:h.x+(s?(n-q)/s:0)*h.width,y:h.y+(t?(o-r)/t:0)*h.height});d(rG(rG({},i),{},{payload:rG(rG({},i.payload),{},{coordinate:u})}))}else d(i);return}if(null!=f){if("function"==typeof e){var v=e(f,{activeTooltipIndex:null==i.payload.index?void 0:Number(i.payload.index),isTooltipActive:i.payload.active,activeIndex:null==i.payload.index?void 0:Number(i.payload.index),activeLabel:i.payload.label,activeDataKey:i.payload.dataKey,activeCoordinate:i.payload.coordinate});l=f[v]}else"value"===e&&(l=f.find(a=>String(a.value)===i.payload.label));var{coordinate:w}=i.payload;if(null==l||!1===i.payload.active||null==w||null==h)return void d(f4({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));var{x,y}=w,z=Math.min(x,h.x+h.width),A=Math.min(y,h.y+h.height),B={x:"horizontal"===g?l.coordinate:z,y:"horizontal"===g?A:l.coordinate};d(f4({active:i.payload.active,coordinate:B,dataKey:i.payload.dataKey,index:String(l.index),label:i.payload.label,sourceViewBox:i.payload.sourceViewBox,graphicalItemId:i.payload.graphicalItemId}))}}};return rA.on(rB,a),()=>{rA.off(rB,a)}},[i,d,c,b,e,f,g,h]),j=gp(ms),k=gp(mu),l=gl(),(0,D.useEffect)(()=>{if(null==j)return e1;var a=(a,b,c)=>{k!==c&&j===a&&l(f9(b))};return rA.on(rC,a),()=>{rA.off(rC,a)}},[l,k,j]),null};function rM(a){if("number"==typeof a)return a;if("string"==typeof a){var b=parseFloat(a);if(!Number.isNaN(b))return b}return 0}var rN=(0,D.forwardRef)((a,b)=>{var c,d,e=(0,D.useRef)(null),[f,g]=(0,D.useState)({containerWidth:rM(null==(c=a.style)?void 0:c.width),containerHeight:rM(null==(d=a.style)?void 0:d.height)}),h=(0,D.useCallback)((a,b)=>{g(c=>{var d=Math.round(a),e=Math.round(b);return c.containerWidth===d&&c.containerHeight===e?c:{containerWidth:d,containerHeight:e}})},[]),i=(0,D.useCallback)(a=>{if("function"==typeof b&&b(a),null!=a&&"u">typeof ResizeObserver){var{width:c,height:d}=a.getBoundingClientRect();h(c,d);var f=new ResizeObserver(a=>{var b=a[0];if(null!=b){var{width:c,height:d}=b.contentRect;h(c,d)}});f.observe(a),e.current=f}},[b,h]);return(0,D.useEffect)(()=>()=>{var a=e.current;null!=a&&a.disconnect()},[h]),D.createElement(D.Fragment,null,D.createElement(hn,{width:f.containerWidth,height:f.containerHeight}),D.createElement("div",rK({ref:i},a)))}),rO=(0,D.forwardRef)((a,b)=>{var{width:c,height:d}=a,[e,f]=(0,D.useState)({containerWidth:rM(c),containerHeight:rM(d)}),g=(0,D.useCallback)((a,b)=>{f(c=>{var d=Math.round(a),e=Math.round(b);return c.containerWidth===d&&c.containerHeight===e?c:{containerWidth:d,containerHeight:e}})},[]),h=(0,D.useCallback)(a=>{if("function"==typeof b&&b(a),null!=a){var{width:c,height:d}=a.getBoundingClientRect();g(c,d)}},[b,g]);return D.createElement(D.Fragment,null,D.createElement(hn,{width:e.containerWidth,height:e.containerHeight}),D.createElement("div",rK({ref:h},a)))}),rP=(0,D.forwardRef)((a,b)=>{var{width:c,height:d}=a;return D.createElement(D.Fragment,null,D.createElement(hn,{width:c,height:d}),D.createElement("div",rK({ref:b},a)))}),rQ=(0,D.forwardRef)((a,b)=>{var{width:c,height:d}=a;return"string"==typeof c||"string"==typeof d?D.createElement(rO,rK({},a,{ref:b})):"number"==typeof c&&"number"==typeof d?D.createElement(rP,rK({},a,{width:c,height:d,ref:b})):D.createElement(D.Fragment,null,D.createElement(hn,{width:c,height:d}),D.createElement("div",rK({ref:b},a)))}),rR=(0,D.forwardRef)((a,b)=>{var{children:c,className:d,height:e,onClick:f,onContextMenu:g,onDoubleClick:h,onMouseDown:i,onMouseEnter:j,onMouseLeave:k,onMouseMove:l,onMouseUp:m,onTouchEnd:n,onTouchMove:o,onTouchStart:p,style:q,width:r,responsive:s,dispatchTouchEvents:t=!0}=a,u=(0,D.useRef)(null),v=gl(),[w,x]=(0,D.useState)(null),[y,z]=(0,D.useState)(null),A=function(){var a=gl(),[b,c]=(0,D.useState)(null),d=gp(gN);return(0,D.useEffect)(()=>{if(null!=b){var c=b.getBoundingClientRect().width/b.offsetWidth;gz(c)&&c!==d&&a(gg(c))}},[b,a,d]),c}(),B=hf(),C=(null==B?void 0:B.width)>0?B.width:r,E=(null==B?void 0:B.height)>0?B.height:e,F=(0,D.useCallback)(a=>{A(a),"function"==typeof b&&b(a),x(a),z(a),null!=a&&(u.current=a)},[A,b,x,z]),G=(0,D.useCallback)(a=>{v(pN(a)),v(qL({handler:f,reactEvent:a}))},[v,f]),H=(0,D.useCallback)(a=>{v(pP(a)),v(qL({handler:j,reactEvent:a}))},[v,j]),I=(0,D.useCallback)(a=>{v(f0()),v(qL({handler:k,reactEvent:a}))},[v,k]),J=(0,D.useCallback)(a=>{v(pP(a)),v(qL({handler:l,reactEvent:a}))},[v,l]),K=(0,D.useCallback)(()=>{v(qJ())},[v]),L=(0,D.useCallback)(a=>{v(qI(a.key))},[v]),M=(0,D.useCallback)(a=>{v(qL({handler:g,reactEvent:a}))},[v,g]),N=(0,D.useCallback)(a=>{v(qL({handler:h,reactEvent:a}))},[v,h]),O=(0,D.useCallback)(a=>{v(qL({handler:i,reactEvent:a}))},[v,i]),P=(0,D.useCallback)(a=>{v(qL({handler:m,reactEvent:a}))},[v,m]),Q=(0,D.useCallback)(a=>{v(qL({handler:p,reactEvent:a}))},[v,p]),R=(0,D.useCallback)(a=>{t&&v(qQ(a)),v(qL({handler:o,reactEvent:a}))},[v,t,o]),S=(0,D.useCallback)(a=>{v(qL({handler:n,reactEvent:a}))},[v,n]);return D.createElement(rH.Provider,{value:w},D.createElement(rI.Provider,{value:y},D.createElement(s?rN:rQ,{width:null!=C?C:null==q?void 0:q.width,height:null!=E?E:null==q?void 0:q.height,className:g_("recharts-wrapper",d),style:function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?rJ(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):rJ(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({position:"relative",cursor:"default",width:C,height:E},q),onClick:G,onContextMenu:M,onDoubleClick:N,onFocus:K,onKeyDown:L,onMouseDown:O,onMouseEnter:H,onMouseLeave:I,onMouseMove:J,onMouseUp:P,onTouchEnd:S,onTouchMove:R,onTouchStart:Q,ref:F},D.createElement(rL,null),c)))}),rS=dV([gV],a=>({top:a.top,bottom:a.bottom,left:a.left,right:a.right})),rT=dV([rS,gL,gM],(a,b,c)=>{if(a&&null!=b&&null!=c)return{x:a.left,y:a.top,width:Math.max(0,b-a.left-a.right),height:Math.max(0,c-a.top-a.bottom)}}),rU=(0,D.createContext)(void 0),rV=a=>{var{children:b}=a,[c]=(0,D.useState)("".concat(eX("recharts"),"-clip")),d=gp(rT);if(null==d)return null;var{x:e,y:f,width:g,height:h}=d;return D.createElement(rU.Provider,{value:c},D.createElement("defs",null,D.createElement("clipPath",{id:c},D.createElement("rect",{x:e,y:f,height:h,width:g}))),b)},rW=["width","height","responsive","children","className","style","compact","title","desc"],rX=(0,D.forwardRef)((a,b)=>{var{width:c,height:d,responsive:e,children:f,className:g,style:h,compact:i,title:j,desc:k}=a,l=rk(function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,rW));return i?D.createElement(D.Fragment,null,D.createElement(hn,{width:c,height:d}),D.createElement(rz,{otherAttributes:l,title:j,desc:k},f)):D.createElement(rR,{className:g,style:h,width:c,height:d,responsive:null!=e&&e,onClick:a.onClick,onMouseLeave:a.onMouseLeave,onMouseEnter:a.onMouseEnter,onMouseMove:a.onMouseMove,onMouseDown:a.onMouseDown,onMouseUp:a.onMouseUp,onContextMenu:a.onContextMenu,onDoubleClick:a.onDoubleClick,onTouchStart:a.onTouchStart,onTouchMove:a.onTouchMove,onTouchEnd:a.onTouchEnd},D.createElement(rz,{otherAttributes:l,title:j,desc:k,ref:b},D.createElement(rV,null,f)))});function rY(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function rZ(a,b){var c=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?rY(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):rY(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},a);return Object.keys(b).reduce((a,c)=>(void 0===a[c]&&void 0!==b[c]&&(a[c]=b[c]),a),c)}var r$=["layout"];function r_(){return(r_=Object.assign.bind()).apply(null,arguments)}var r0={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},r1=(0,D.forwardRef)(function(a,b){var c,d=rZ(a.categoricalChartProps,r0),{layout:e}=d,f=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(d,r$),{chartName:g,defaultTooltipEventType:h,validateTooltipEventTypes:i,tooltipPayloadSearcher:j}=a;return D.createElement(q8,{preloadedState:{options:{chartName:g,defaultTooltipEventType:h,validateTooltipEventTypes:i,tooltipPayloadSearcher:j,eventEmitter:void 0}},reduxStoreName:null!=(c=d.id)?c:g},D.createElement(q9,{chartData:d.data}),D.createElement(rb,{layout:e,margin:d.margin}),D.createElement(rc,{baseValue:void 0,accessibilityLayer:d.accessibilityLayer,barCategoryGap:d.barCategoryGap,maxBarSize:d.maxBarSize,stackOffset:d.stackOffset,barGap:d.barGap,barSize:d.barSize,syncId:d.syncId,syncMethod:d.syncMethod,className:d.className,reverseStackOrder:d.reverseStackOrder}),D.createElement(rd,{cx:d.cx,cy:d.cy,startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:d.innerRadius,outerRadius:d.outerRadius}),D.createElement(rX,r_({},f,{ref:b})))});function r2(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function r3(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?r2(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):r2(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var r4=["item"],r5=r3(r3({},r0),{},{layout:"centric",startAngle:0,endAngle:360}),r6=(0,D.forwardRef)((a,b)=>{var c=rZ(a,r5);return D.createElement(r1,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:r4,tooltipPayloadSearcher:e2,categoricalChartProps:c,ref:b})}),r7=a=>a.graphicalItems.polarItems,r8=dV([mS,mT],ne),r9=dV([r7,nb,r8],ng),sa=dV([r9],nl),sb=dV([sa,lj],nn),sc=dV([sb,nb,r9],np);dV([sb,nb,r9],(a,b,c)=>c.length>0?a.flatMap(a=>c.flatMap(c=>{var d;return{value:gD(a,null!=(d=b.dataKey)?d:c.dataKey),errorDomain:[]}})).filter(Boolean):(null==b?void 0:b.dataKey)!=null?a.map(a=>({value:gD(a,b.dataKey),errorDomain:[]})):a.map(a=>({value:a,errorDomain:[]})));var sd=()=>void 0,se=dV([sb,nb,r9,nG,mS],nI),sf=dV([nb,nD,nE,sd,se,sd,hl,mS],nZ),sg=dV([nb,hl,sb,sc,mp,mS,sf],n0),sh=dV([sg,nc,n3],n5),si=dV([nb,sg,sh,mS],n7);function sj(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function sk(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?sj(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):sj(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}dV([n3,si],m1);var sl=dV([r7,(a,b)=>b],(a,b)=>a.filter(a=>"pie"===a.type).find(a=>a.id===b)),sm=[],sn=(a,b,c)=>(null==c?void 0:c.length)===0?sm:c,so=dV([lj,sl,sn],(a,b,c)=>{var d,{chartData:e}=a;if(null!=b&&((d=(null==b?void 0:b.data)!=null&&b.data.length>0?b.data:e)&&d.length||null==c||(d=c.map(a=>sk(sk({},b.presentationProps),a.props))),null!=d))return d}),sp=dV([so,sl,sn],(a,b,c)=>{if(null!=a&&null!=b)return a.map((a,d)=>{var e,f,g=gD(a,b.nameKey,b.name);return f=null!=c&&null!=(e=c[d])&&null!=(e=e.props)&&e.fill?c[d].props.fill:"object"==typeof a&&null!=a&&"fill"in a?a.fill:b.fill,{value:gK(g,b.dataKey),color:f,payload:a,type:b.legendType}})}),sq=dV([so,sl,sn,gV],(a,b,c,d)=>{if(null!=b&&null!=a)return function(a){var b,c,d,{pieSettings:e,displayedData:f,cells:g,offset:h}=a,{cornerRadius:i,startAngle:j,endAngle:k,dataKey:l,nameKey:m,tooltipType:n}=e,o=Math.abs(e.minAngle),p=eR(k-j)*Math.min(Math.abs(k-j),360),q=Math.abs(p),r=f.length<=1?0:null!=(b=e.paddingAngle)?b:0,s=f.filter(a=>0!==gD(a,l,0)).length,t=q-s*o-(q>=360?s:s-1)*r,u=f.reduce((a,b)=>{var c=gD(b,l,0);return a+(eU(c)?c:0)},0);return u>0&&(c=f.map((a,b)=>{var c,f=gD(a,l,0),k=gD(a,m,b),q=((a,b,c)=>{var d,{top:e,left:f,width:g,height:h}=b,i=mz(g,h),j=f+eY(a.cx,g,g/2),k=e+eY(a.cy,h,h/2),l=eY(a.innerRadius,i,0);return{cx:j,cy:k,innerRadius:l,outerRadius:(d=a.outerRadius,"function"==typeof d?eY(d(c),i,.8*i):eY(d,i,.8*i)),maxRadius:a.maxRadius||Math.sqrt(g*g+h*h)/2}})(e,h,a),s=(eU(f)?f:0)/u,v=vn(vn({},a),g&&g[b]&&g[b].props),w=(c=b?d.endAngle+eR(p)*r*(0!==f):j)+eR(p)*((0!==f?o:0)+s*t),x=(c+w)/2,y=(q.innerRadius+q.outerRadius)/2,z=[{name:k,value:f,payload:v,dataKey:l,type:n,graphicalItemId:e.id}],A=my(q.cx,q.cy,y,x);return d=vn(vn(vn(vn({},e.presentationProps),{},{percent:s,cornerRadius:"string"==typeof i?parseFloat(i):i,name:k,tooltipPayload:z,midAngle:x,middleRadius:y,tooltipPosition:A},v),q),{},{value:f,dataKey:l,startAngle:c,endAngle:w,payload:v,paddingAngle:eR(p)*r})})),c}({offset:d,pieSettings:b,displayedData:a,cells:c})}),sr=["children","className"];function ss(){return(ss=Object.assign.bind()).apply(null,arguments)}var st=D.forwardRef((a,b)=>{var{children:c,className:d}=a,e=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,sr),f=g_("recharts-layer",d);return D.createElement("g",ss({className:f},rm(e),{ref:b}),c)});function su(a){this._context=a}function sv(a){return new su(a)}su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._context.lineTo(a,b)}}};let sw=Math.PI,sx=2*sw,sy=sx-1e-6;function sz(a){this._+=a[0];for(let b=1,c=a.length;b<c;++b)this._+=arguments[b]+a[b]}class sA{constructor(a){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==a?sz:function(a){let b=Math.floor(a);if(!(b>=0))throw Error(`invalid digits: ${a}`);if(b>15)return sz;let c=10**b;return function(a){this._+=a[0];for(let b=1,d=a.length;b<d;++b)this._+=Math.round(arguments[b]*c)/c+a[b]}}(a)}moveTo(a,b){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+b}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(a,b){this._append`L${this._x1=+a},${this._y1=+b}`}quadraticCurveTo(a,b,c,d){this._append`Q${+a},${+b},${this._x1=+c},${this._y1=+d}`}bezierCurveTo(a,b,c,d,e,f){this._append`C${+a},${+b},${+c},${+d},${this._x1=+e},${this._y1=+f}`}arcTo(a,b,c,d,e){if(a*=1,b*=1,c*=1,d*=1,(e*=1)<0)throw Error(`negative radius: ${e}`);let f=this._x1,g=this._y1,h=c-a,i=d-b,j=f-a,k=g-b,l=j*j+k*k;if(null===this._x1)this._append`M${this._x1=a},${this._y1=b}`;else if(l>1e-6)if(Math.abs(k*h-i*j)>1e-6&&e){let m=c-f,n=d-g,o=h*h+i*i,p=Math.sqrt(o),q=Math.sqrt(l),r=e*Math.tan((sw-Math.acos((o+l-(m*m+n*n))/(2*p*q)))/2),s=r/q,t=r/p;Math.abs(s-1)>1e-6&&this._append`L${a+s*j},${b+s*k}`,this._append`A${e},${e},0,0,${+(k*m>j*n)},${this._x1=a+t*h},${this._y1=b+t*i}`}else this._append`L${this._x1=a},${this._y1=b}`}arc(a,b,c,d,e,f){if(a*=1,b*=1,c*=1,f=!!f,c<0)throw Error(`negative radius: ${c}`);let g=c*Math.cos(d),h=c*Math.sin(d),i=a+g,j=b+h,k=1^f,l=f?d-e:e-d;null===this._x1?this._append`M${i},${j}`:(Math.abs(this._x1-i)>1e-6||Math.abs(this._y1-j)>1e-6)&&this._append`L${i},${j}`,c&&(l<0&&(l=l%sx+sx),l>sy?this._append`A${c},${c},0,1,${k},${a-g},${b-h}A${c},${c},0,1,${k},${this._x1=i},${this._y1=j}`:l>1e-6&&this._append`A${c},${c},0,${+(l>=sw)},${k},${this._x1=a+c*Math.cos(e)},${this._y1=b+c*Math.sin(e)}`)}rect(a,b,c,d){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+b}h${c*=1}v${+d}h${-c}Z`}toString(){return this._}}function sB(a){let b=3;return a.digits=function(c){if(!arguments.length)return b;if(null==c)b=null;else{let a=Math.floor(c);if(!(a>=0))throw RangeError(`invalid digits: ${c}`);b=a}return a},()=>new sA(b)}function sC(a){return a[0]}function sD(a){return a[1]}function sE(a,b){var c=gt(!0),d=null,e=sv,f=null,g=sB(h);function h(h){var i,j,k,l=(h=gs(h)).length,m=!1;for(null==d&&(f=e(k=g())),i=0;i<=l;++i)!(i<l&&c(j=h[i],i,h))===m&&((m=!m)?f.lineStart():f.lineEnd()),m&&f.point(+a(j,i,h),+b(j,i,h));if(k)return f=null,k+""||null}return a="function"==typeof a?a:void 0===a?sC:gt(a),b="function"==typeof b?b:void 0===b?sD:gt(b),h.x=function(b){return arguments.length?(a="function"==typeof b?b:gt(+b),h):a},h.y=function(a){return arguments.length?(b="function"==typeof a?a:gt(+a),h):b},h.defined=function(a){return arguments.length?(c="function"==typeof a?a:gt(!!a),h):c},h.curve=function(a){return arguments.length?(e=a,null!=d&&(f=e(d)),h):e},h.context=function(a){return arguments.length?(null==a?d=f=null:f=e(d=a),h):d},h}function sF(a,b,c){var d=null,e=gt(!0),f=null,g=sv,h=null,i=sB(j);function j(j){var k,l,m,n,o,p=(j=gs(j)).length,q=!1,r=Array(p),s=Array(p);for(null==f&&(h=g(o=i())),k=0;k<=p;++k){if(!(k<p&&e(n=j[k],k,j))===q)if(q=!q)l=k,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),m=k-1;m>=l;--m)h.point(r[m],s[m]);h.lineEnd(),h.areaEnd()}q&&(r[k]=+a(n,k,j),s[k]=+b(n,k,j),h.point(d?+d(n,k,j):r[k],c?+c(n,k,j):s[k]))}if(o)return h=null,o+""||null}function k(){return sE().defined(e).curve(g).context(f)}return a="function"==typeof a?a:void 0===a?sC:gt(+a),b="function"==typeof b?b:void 0===b?gt(0):gt(+b),c="function"==typeof c?c:void 0===c?sD:gt(+c),j.x=function(b){return arguments.length?(a="function"==typeof b?b:gt(+b),d=null,j):a},j.x0=function(b){return arguments.length?(a="function"==typeof b?b:gt(+b),j):a},j.x1=function(a){return arguments.length?(d=null==a?null:"function"==typeof a?a:gt(+a),j):d},j.y=function(a){return arguments.length?(b="function"==typeof a?a:gt(+a),c=null,j):b},j.y0=function(a){return arguments.length?(b="function"==typeof a?a:gt(+a),j):b},j.y1=function(a){return arguments.length?(c=null==a?null:"function"==typeof a?a:gt(+a),j):c},j.lineX0=j.lineY0=function(){return k().x(a).y(b)},j.lineY1=function(){return k().x(a).y(c)},j.lineX1=function(){return k().x(d).y(b)},j.defined=function(a){return arguments.length?(e="function"==typeof a?a:gt(!!a),j):e},j.curve=function(a){return arguments.length?(g=a,null!=f&&(h=g(f)),j):g},j.context=function(a){return arguments.length?(null==a?f=h=null:h=g(f=a),j):f},j}function sG(){}function sH(a,b,c){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+b)/6,(a._y0+4*a._y1+c)/6)}function sI(a){this._context=a}function sJ(a){this._context=a}function sK(a){this._context=a}sA.prototype,sI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sH(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sH(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}},sJ.prototype={areaStart:sG,areaEnd:sG,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._x2=a,this._y2=b;break;case 1:this._point=2,this._x3=a,this._y3=b;break;case 2:this._point=3,this._x4=a,this._y4=b,this._context.moveTo((this._x0+4*this._x1+a)/6,(this._y0+4*this._y1+b)/6);break;default:sH(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}},sK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var c=(this._x0+4*this._x1+a)/6,d=(this._y0+4*this._y1+b)/6;this._line?this._context.lineTo(c,d):this._context.moveTo(c,d);break;case 3:this._point=4;default:sH(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}};class sL{constructor(a,b){this._context=a,this._x=b}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+a)/2,this._y0,this._x0,b,a,b):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+b)/2,a,this._y0,a,b)}this._x0=a,this._y0=b}}function sM(a){this._context=a}sM.prototype={areaStart:sG,areaEnd:sG,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(a,b){a*=1,b*=1,this._point?this._context.lineTo(a,b):(this._point=1,this._context.moveTo(a,b))}};function sN(a,b,c){var d=a._x1-a._x0,e=b-a._x1,f=(a._y1-a._y0)/(d||e<0&&-0),g=(c-a._y1)/(e||d<0&&-0);return((f<0?-1:1)+(g<0?-1:1))*Math.min(Math.abs(f),Math.abs(g),.5*Math.abs((f*e+g*d)/(d+e)))||0}function sO(a,b){var c=a._x1-a._x0;return c?(3*(a._y1-a._y0)/c-b)/2:b}function sP(a,b,c){var d=a._x0,e=a._y0,f=a._x1,g=a._y1,h=(f-d)/3;a._context.bezierCurveTo(d+h,e+h*b,f-h,g-h*c,f,g)}function sQ(a){this._context=a}function sR(a){this._context=new sS(a)}function sS(a){this._context=a}function sT(a){this._context=a}function sU(a){var b,c,d=a.length-1,e=Array(d),f=Array(d),g=Array(d);for(e[0]=0,f[0]=2,g[0]=a[0]+2*a[1],b=1;b<d-1;++b)e[b]=1,f[b]=4,g[b]=4*a[b]+2*a[b+1];for(e[d-1]=2,f[d-1]=7,g[d-1]=8*a[d-1]+a[d],b=1;b<d;++b)c=e[b]/f[b-1],f[b]-=c,g[b]-=c*g[b-1];for(e[d-1]=g[d-1]/f[d-1],b=d-2;b>=0;--b)e[b]=(g[b]-e[b+1])/f[b];for(b=0,f[d-1]=(a[d]+e[d-1])/2;b<d-1;++b)f[b]=2*a[b+1]-e[b+1];return[e,f]}function sV(a,b){this._context=a,this._t=b}sQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sP(this,this._t0,sO(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){var c=NaN;if(b*=1,(a*=1)!==this._x1||b!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,sP(this,sO(this,c=sN(this,a,b)),c);break;default:sP(this,this._t0,c=sN(this,a,b))}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b,this._t0=c}}},(sR.prototype=Object.create(sQ.prototype)).point=function(a,b){sQ.prototype.point.call(this,b,a)},sS.prototype={moveTo:function(a,b){this._context.moveTo(b,a)},closePath:function(){this._context.closePath()},lineTo:function(a,b){this._context.lineTo(b,a)},bezierCurveTo:function(a,b,c,d,e,f){this._context.bezierCurveTo(b,a,d,c,f,e)}},sT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var a=this._x,b=this._y,c=a.length;if(c)if(this._line?this._context.lineTo(a[0],b[0]):this._context.moveTo(a[0],b[0]),2===c)this._context.lineTo(a[1],b[1]);else for(var d=sU(a),e=sU(b),f=0,g=1;g<c;++f,++g)this._context.bezierCurveTo(d[0][f],e[0][f],d[1][f],e[1][f],a[g],b[g]);(this._line||0!==this._line&&1===c)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(a,b){this._x.push(+a),this._y.push(+b)}},sV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,b),this._context.lineTo(a,b);else{var c=this._x*(1-this._t)+a*this._t;this._context.lineTo(c,this._y),this._context.lineTo(c,b)}}this._x=a,this._y=b}};var sW=a=>"radius"in a&&"startAngle"in a&&"endAngle"in a;function sX(){return(sX=Object.assign.bind()).apply(null,arguments)}function sY(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function sZ(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?sY(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):sY(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var s$={curveBasisClosed:function(a){return new sJ(a)},curveBasisOpen:function(a){return new sK(a)},curveBasis:function(a){return new sI(a)},curveBumpX:function(a){return new sL(a,!0)},curveBumpY:function(a){return new sL(a,!1)},curveLinearClosed:function(a){return new sM(a)},curveLinear:sv,curveMonotoneX:function(a){return new sQ(a)},curveMonotoneY:function(a){return new sR(a)},curveNatural:function(a){return new sT(a)},curveStep:function(a){return new sV(a,.5)},curveStepAfter:function(a){return new sV(a,1)},curveStepBefore:function(a){return new sV(a,0)}},s_=a=>gz(a.x)&&gz(a.y),s0=a=>null!=a.base&&s_(a.base)&&s_(a),s1=a=>a.x,s2=a=>a.y,s3=a=>{var{className:b,points:c,path:d,pathRef:e}=a,f=gp(hl);if((!c||!c.length)&&!d)return null;var g={type:a.type,points:a.points,baseLine:a.baseLine,layout:a.layout||f,connectNulls:a.connectNulls},h=c&&c.length?(a=>{var{type:b="linear",points:c=[],baseLine:d,layout:e,connectNulls:f=!1}=a,g=((a,b)=>{if("function"==typeof a)return a;var c="curve".concat(e_(a));if(("curveMonotone"===c||"curveBump"===c)&&b){var d=s$["".concat(c).concat("vertical"===b?"Y":"X")];if(d)return d}return s$[c]||sv})(b,e),h=f?c.filter(s_):c;if(Array.isArray(d)){var i=c.map((a,b)=>sZ(sZ({},a),{},{base:d[b]}));return("vertical"===e?sF().y(s2).x1(s1).x0(a=>a.base.x):sF().x(s1).y1(s2).y0(a=>a.base.y)).defined(s0).curve(g)(f?i.filter(s0):i)}return("vertical"===e&&eU(d)?sF().y(s2).x1(s1).x0(d):eU(d)?sF().x(s1).y1(s2).y0(d):sE().x(s1).y(s2)).defined(s_).curve(g)(h)})(g):d;return D.createElement("path",sX({},rk(a),((a,b)=>{if(!a||"function"==typeof a||"boolean"==typeof a)return null;var c=a;if((0,D.isValidElement)(a)&&(c=a.props),"object"!=typeof c&&"function"!=typeof c)return null;var d={};return Object.keys(c).forEach(a=>{rg(a)&&(d[a]=b||(b=>c[a](c,b)))}),d})(a),{className:g_("recharts-curve",b),d:null===h?void 0:h,ref:e}))};function s4(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}var s5=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?s4(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):s4(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},{cacheSize:2e3,enableCache:!0}),s6=new class{constructor(a){!function(a,b,c){var d;(b="symbol"==typeof(d=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"))?d:d+"")in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c}(this,"cache",new Map),this.maxSize=a}get(a){var b=this.cache.get(a);return void 0!==b&&(this.cache.delete(a),this.cache.set(a,b)),b}set(a,b){if(this.cache.has(a))this.cache.delete(a);else if(this.cache.size>=this.maxSize){var c=this.cache.keys().next().value;null!=c&&this.cache.delete(c)}this.cache.set(a,b)}clear(){this.cache.clear()}size(){return this.cache.size}}(s5.cacheSize),s7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},s8="recharts_measurement_span",s9=(a,b)=>{try{var c=document.getElementById(s8);c||((c=document.createElement("span")).setAttribute("id",s8),c.setAttribute("aria-hidden","true"),document.body.appendChild(c)),Object.assign(c.style,s7,b),c.textContent="".concat(a);var d=c.getBoundingClientRect();return{width:d.width,height:d.height}}catch(a){return{width:0,height:0}}},ta=function(a){var b,c,d,e,f,g,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==a||qY)return{width:0,height:0};if(!s5.enableCache)return s9(a,h);var i=(b=h.fontSize||"",c=h.fontFamily||"",d=h.fontWeight||"",e=h.fontStyle||"",f=h.letterSpacing||"",g=h.textTransform||"","".concat(a,"|").concat(b,"|").concat(c,"|").concat(d,"|").concat(e,"|").concat(f,"|").concat(g)),j=s6.get(i);if(j)return j;var k=s9(a,h);return s6.set(i,k),k},tb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tc=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,td=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,te=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tf={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},tg=["cm","mm","pt","pc","in","Q","px"];class th{static parse(a){var b,[,c,d]=null!=(b=te.exec(a))?b:[];return null==c?th.NaN:new th(parseFloat(c),null!=d?d:"")}constructor(a,b){this.num=a,this.unit=b,this.num=a,this.unit=b,eS(a)&&(this.unit=""),""===b||td.test(b)||(this.num=NaN,this.unit=""),function(a){return tg.includes(a)}(b)&&(this.num=function(a,b){return a*tf[b]}(a,b),this.unit="px")}add(a){return this.unit!==a.unit?new th(NaN,""):new th(this.num+a.num,this.unit)}subtract(a){return this.unit!==a.unit?new th(NaN,""):new th(this.num-a.num,this.unit)}multiply(a){return""!==this.unit&&""!==a.unit&&this.unit!==a.unit?new th(NaN,""):new th(this.num*a.num,this.unit||a.unit)}divide(a){return""!==this.unit&&""!==a.unit&&this.unit!==a.unit?new th(NaN,""):new th(this.num/a.num,this.unit||a.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return eS(this.num)}}function ti(a){if(null==a||a.includes("NaN"))return"NaN";for(var b=a;b.includes("*")||b.includes("/");){var c,[,d,e,f]=null!=(c=tb.exec(b))?c:[],g=th.parse(null!=d?d:""),h=th.parse(null!=f?f:""),i="*"===e?g.multiply(h):g.divide(h);if(i.isNaN())return"NaN";b=b.replace(tb,i.toString())}for(;b.includes("+")||/.-\d+(?:\.\d+)?/.test(b);){var j,[,k,l,m]=null!=(j=tc.exec(b))?j:[],n=th.parse(null!=k?k:""),o=th.parse(null!=m?m:""),p="+"===l?n.add(o):n.subtract(o);if(p.isNaN())return"NaN";b=b.replace(tc,p.toString())}return b}d="NaN",e=new th(NaN,""),(d="symbol"==typeof(c=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(d,"string"))?c:c+"")in th?Object.defineProperty(th,d,{value:e,enumerable:!0,configurable:!0,writable:!0}):th[d]=e;var tj=/\(([^()]*)\)/;function tk(a){var b=function(a){try{var b;return b=a.replace(/\s+/g,""),b=function(a){for(var b,c=a;null!=(b=tj.exec(c));){var[,d]=b;c=c.replace(tj,ti(d))}return c}(b),b=ti(b)}catch(a){return"NaN"}}(a.slice(5,-1));return"NaN"===b?"":b}var tl=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],tm=["dx","dy","angle","className","breakAll"];function tn(){return(tn=Object.assign.bind()).apply(null,arguments)}function to(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}var tp=/[ \f\n\r\t\v\u2028\u2029]+/,tq=a=>{var{children:b,breakAll:c,style:d}=a;try{var e=[];null!=b&&(e=c?b.toString().split(""):b.toString().split(tp));var f=e.map(a=>({word:a,width:ta(a,d).width})),g=c?0:ta("",d).width;return{wordsWithComputedWidth:f,spaceWidth:g}}catch(a){return null}},tr=(a,b,c,d)=>a.reduce((a,e)=>{var{word:f,width:g}=e,h=a[a.length-1];return h&&null!=g&&(null==b||d||h.width+g+c<Number(b))?(h.words.push(f),h.width+=g+c):a.push({words:[f],width:g}),a},[]),ts=a=>a.reduce((a,b)=>a.width>b.width?a:b),tt=(a,b,c,d,e,f,g,h)=>{var i=tq({breakAll:c,style:d,children:a.slice(0,b)+""});if(!i)return[!1,[]];var j=tr(i.wordsWithComputedWidth,f,g,h);return[j.length>e||ts(j).width>Number(f),j]},tu=a=>[{words:null==a?[]:a.toString().split(tp),width:void 0}],tv="#808080",tw={angle:0,breakAll:!1,capHeight:"0.71em",fill:tv,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},tx=(0,D.forwardRef)((a,b)=>{var c,d=rZ(a,tw),{x:e,y:f,lineHeight:g,capHeight:h,fill:i,scaleToFit:j,textAnchor:k,verticalAnchor:l}=d,m=to(d,tl),n=(0,D.useMemo)(()=>(a=>{var{width:b,scaleToFit:c,children:d,style:e,breakAll:f,maxLines:g}=a;if((b||c)&&!qY){var h=tq({breakAll:f,children:d,style:e});if(!h)return tu(d);var{wordsWithComputedWidth:i,spaceWidth:j}=h;return((a,b,c,d,e)=>{var f,{maxLines:g,children:h,style:i,breakAll:j}=a,k=eU(g),l=String(h),m=tr(b,d,c,e);if(!k||e||!(m.length>g||ts(m).width>Number(d)))return m;for(var n=0,o=l.length-1,p=0;n<=o&&p<=l.length-1;){var q=Math.floor((n+o)/2),[r,s]=tt(l,q-1,j,i,g,d,c,e),[t]=tt(l,q,j,i,g,d,c,e);if(r||t||(n=q+1),r&&t&&(o=q-1),!r&&t){f=s;break}p++}return f||m})({breakAll:f,children:d,maxLines:g,style:e},i,j,b,!!c)}return tu(d)})({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:j,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,j,m.style,m.width]),{dx:o,dy:p,angle:q,className:r,breakAll:s}=m,t=to(m,tm);if(!eV(e)||!eV(f)||0===n.length)return null;var u=Number(e)+(eU(o)?o:0),v=Number(f)+(eU(p)?p:0);if(!gz(u)||!gz(v))return null;switch(l){case"start":c=tk("calc(".concat(h,")"));break;case"middle":c=tk("calc(".concat((n.length-1)/2," * -").concat(g," + (").concat(h," / 2))"));break;default:c=tk("calc(".concat(n.length-1," * -").concat(g,")"))}var w=[],x=n[0];if(j&&null!=x){var y=x.width,{width:z}=m;w.push("scale(".concat(eU(z)&&eU(y)?z/y:1,")"))}return q&&w.push("rotate(".concat(q,", ").concat(u,", ").concat(v,")")),w.length&&(t.transform=w.join(" ")),D.createElement("text",tn({},rm(t),{ref:b,x:u,y:v,className:g_("recharts-text",r),textAnchor:k,fill:i.includes("url")?tv:i}),n.map((a,b)=>{var d=a.words.join(s?"":" ");return D.createElement("tspan",{x:u,dy:0===b?c:g,key:"".concat(d,"-").concat(b)},d)}))});tx.displayName="Text";var ty=a=>null;ty.displayName="Cell";var tz=a.i(66539),tA=a=>"string"==typeof a?a:a?a.displayName||a.name||"Component":"",tB=null,tC=null,tD=a=>{if(a===tB&&Array.isArray(tC))return tC;var b=[];return D.Children.forEach(a,a=>{null!=a&&((0,tz.isFragment)(a)?b=b.concat(tD(a.props.children)):b.push(a))}),tC=b,tB=a,b};function tE(a,b){var c=[],d=[];return d=Array.isArray(b)?b.map(a=>tA(a)):[tA(b)],tD(a).forEach(a=>{var b=(0,eO.default)(a,"type.displayName")||(0,eO.default)(a,"type.name");b&&-1!==d.indexOf(b)&&c.push(a)}),c}var tF=a.i(3068);function tG(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function tH(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?tG(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):tG(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var tI=(a,b,c)=>a.map(a=>"".concat(a.replace(/([A-Z])/g,a=>"-".concat(a.toLowerCase()))," ").concat(b,"ms ").concat(c)).join(","),tJ=(a,b)=>Object.keys(b).reduce((c,d)=>tH(tH({},c),{},{[d]:a(d,b[d])}),{});function tK(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function tL(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?tK(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):tK(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var tM=(a,b,c)=>a+(b-a)*c,tN=a=>{var{from:b,to:c}=a;return b!==c},tO=(a,b,c)=>{var d=tJ((b,c)=>{if(tN(c)){var[d,e]=a(c.from,c.to,c.velocity);return tL(tL({},c),{},{from:d,velocity:e})}return c},b);return c<1?tJ((a,b)=>tN(b)&&null!=d[a]?tL(tL({},b),{},{velocity:tM(b.velocity,d[a].velocity,c),from:tM(b.from,d[a].from,c)}):b,b):tO(a,d,c-1)},tP=(a,b)=>[0,3*a,3*b-6*a,3*a-3*b+1],tQ=(a,b)=>a.map((a,c)=>a*b**c).reduce((a,b)=>a+b),tR=(a,b)=>c=>tQ(tP(a,b),c),tS=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];if(1===b.length)switch(b[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:var d=(a=>{var b,c=a.split("(");if(2!==c.length||"cubic-bezier"!==c[0])return null;var d=null==(b=c[1])||null==(b=b.split(")")[0])?void 0:b.split(",");if(null==d||4!==d.length)return null;var e=d.map(a=>parseFloat(a));return[e[0],e[1],e[2],e[3]]})(b[0]);if(d)return d}return 4===b.length?b:[0,0,1,1]},tT=function(){return((a,b,c,d)=>{var e=tR(a,c),f=tR(b,d),g=b=>tQ([...tP(a,c).map((a,b)=>a*b).slice(1),0],b),h=a=>a>1?1:a<0?0:a,i=a=>{for(var b=a>1?1:a,c=b,d=0;d<8;++d){var i=e(c)-b,j=g(c);if(1e-4>Math.abs(i-b)||j<1e-4)break;c=h(c-i/j)}return f(c)};return i.isStepper=!1,i})(...tS(...arguments))},tU=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:b=100,damping:c=8,dt:d=17}=a,e=(a,e,f)=>{var g=f+(-(a-e)*b-f*c)*d/1e3,h=f*d/1e3+a;return 1e-4>Math.abs(h-e)&&1e-4>Math.abs(g)?[e,0]:[h,g]};return e.isStepper=!0,e.dt=d,e};class tV{setTimeout(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=performance.now(),d=null,e=f=>{f-c>=b?a(f):"function"==typeof requestAnimationFrame&&(d=requestAnimationFrame(e))};return d=requestAnimationFrame(e),()=>{null!=d&&cancelAnimationFrame(d)}}}var tW=(0,D.createContext)(function(){var a,b,c,d,e;return a=new tV,b=()=>null,c=!1,d=null,e=f=>{if(!c){if(Array.isArray(f)){if(!f.length)return;var[g,...h]=f;if("number"==typeof g){d=a.setTimeout(e.bind(null,h),g);return}e(g),d=a.setTimeout(e.bind(null,h));return}"string"==typeof f&&b(f),"object"==typeof f&&b(f),"function"==typeof f&&f()}},{stop:()=>{c=!0},start:a=>{c=!1,d&&(d(),d=null),e(a)},subscribe:a=>(b=a,()=>{b=()=>null}),getTimeoutController:()=>a}}),tX={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},tY={t:0},tZ={t:1};function t$(a){var b,c,d,e=rZ(a,tX),{isActive:f,canBegin:g,duration:h,easing:i,begin:j,onAnimationEnd:k,onAnimationStart:l,children:m}=e,n="auto"===f?!qY:f,o=(b=e.animationId,c=e.animationManager,d=(0,D.useContext)(tW),(0,D.useMemo)(()=>null!=c?c:d(b),[b,c,d])),[p,q]=(0,D.useState)(n?tY:tZ),r=(0,D.useRef)(null);return(0,D.useEffect)(()=>{n||q(tZ)},[n]),(0,D.useEffect)(()=>{if(!n||!g)return e1;var a=((a,b,c,d,e,f)=>{var g,h,i,j,k,l,m,n,o=[Object.keys(a),Object.keys(b)].reduce((a,b)=>a.filter(a=>b.includes(a)));return null==c?()=>(e(tL(tL({},a),b)),()=>{}):!0===c.isStepper?(h=o.reduce((c,d)=>tL(tL({},c),{},{[d]:{from:a[d],velocity:0,to:b[d]}}),{}),i=null,j=d=>{g||(g=d);var k=(d-g)/c.dt;h=tO(c,h,k),e(tL(tL(tL({},a),b),tJ((a,b)=>b.from,h))),g=d,Object.values(h).filter(tN).length&&(i=f.setTimeout(j))},()=>(i=f.setTimeout(j),()=>{var a;null==(a=i)||a()})):(l=null,m=o.reduce((c,d)=>{var e=a[d],f=b[d];return null==e||null==f?c:tL(tL({},c),{},{[d]:[e,f]})},{}),n=g=>{k||(k=g);var h=(g-k)/d,i=tJ((a,b)=>tM(...b,c(h)),m);if(e(tL(tL(tL({},a),b),i)),h<1)l=f.setTimeout(n);else{var j=tJ((a,b)=>tM(...b,c(1)),m);e(tL(tL(tL({},a),b),j))}},()=>(l=f.setTimeout(n),()=>{var a;null==(a=l)||a()}))})(tY,tZ,(a=>{if("string"==typeof a)switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tT(a);case"spring":return tU();default:if("cubic-bezier"===a.split("(")[0])return tT(a)}return"function"==typeof a?a:null})(i),h,q,o.getTimeoutController());return o.start([l,j,()=>{r.current=a()},h,k]),()=>{o.stop(),r.current&&r.current(),k()}},[n,g,h,i,j,l,k,o]),m(p.t)}function t_(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",c=(0,D.useRef)(eX(b)),d=(0,D.useRef)(a);return d.current!==a&&(c.current=eX(b),d.current=a),c.current}var t0=["radius"],t1=["radius"];function t2(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function t3(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?t2(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):t2(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function t4(){return(t4=Object.assign.bind()).apply(null,arguments)}function t5(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function t6(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var t7=(a,b,c,d,e)=>{var p=eP(c),q=eP(d),r=Math.min(Math.abs(p)/2,Math.abs(q)/2),s=q>=0?1:-1,t=p>=0?1:-1,u=+(q>=0&&p>=0||q<0&&p<0);if(r>0&&Array.isArray(e)){for(var v=[0,0,0,0],w=0;w<4;w++){var x,y,z=null!=(y=e[w])?y:0;v[w]=z>r?r:z}x=eQ(f||(f=t6(["M",",",""])),a,b+s*v[0]),v[0]>0&&(x+=eQ(g||(g=t6(["A ",",",",0,0,",",",",",""])),v[0],v[0],u,a+t*v[0],b)),x+=eQ(h||(h=t6(["L ",",",""])),a+c-t*v[1],b),v[1]>0&&(x+=eQ(i||(i=t6(["A ",",",",0,0,",",\n        ",",",""])),v[1],v[1],u,a+c,b+s*v[1])),x+=eQ(j||(j=t6(["L ",",",""])),a+c,b+d-s*v[2]),v[2]>0&&(x+=eQ(k||(k=t6(["A ",",",",0,0,",",\n        ",",",""])),v[2],v[2],u,a+c-t*v[2],b+d)),x+=eQ(l||(l=t6(["L ",",",""])),a+t*v[3],b+d),v[3]>0&&(x+=eQ(m||(m=t6(["A ",",",",0,0,",",\n        ",",",""])),v[3],v[3],u,a,b+d-s*v[3])),x+="Z"}else if(r>0&&e===+e&&e>0){var A=Math.min(r,e);x=eQ(n||(n=t6(["M ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",","," Z"])),a,b+s*A,A,A,u,a+t*A,b,a+c-t*A,b,A,A,u,a+c,b+s*A,a+c,b+d-s*A,A,A,u,a+c-t*A,b+d,a+t*A,b+d,A,A,u,a,b+d-s*A)}else x=eQ(o||(o=t6(["M ",","," h "," v "," h "," Z"])),a,b,c,d,-c);return x},t8={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},t9=a=>{var b=rZ(a,t8),c=(0,D.useRef)(null),[d,e]=(0,D.useState)(-1);(0,D.useEffect)(()=>{if(c.current&&c.current.getTotalLength)try{var a=c.current.getTotalLength();a&&e(a)}catch(a){}},[]);var{x:f,y:g,width:h,height:i,radius:j,className:k}=b,{animationEasing:l,animationDuration:m,animationBegin:n,isAnimationActive:o,isUpdateAnimationActive:p}=b,q=(0,D.useRef)(h),r=(0,D.useRef)(i),s=(0,D.useRef)(f),t=(0,D.useRef)(g),u=t_((0,D.useMemo)(()=>({x:f,y:g,width:h,height:i,radius:j}),[f,g,h,i,j]),"rectangle-");if(f!==+f||g!==+g||h!==+h||i!==+i||0===h||0===i)return null;var v=g_("recharts-rectangle",k);if(!p){var w=rm(b),{radius:x}=w,y=t5(w,t0);return D.createElement("path",t4({},y,{x:eP(f),y:eP(g),width:eP(h),height:eP(i),radius:"number"==typeof j?j:void 0,className:v,d:t7(f,g,h,i,j)}))}var z=q.current,A=r.current,B=s.current,C=t.current,E="0px ".concat(-1===d?1:d,"px"),F="".concat(d,"px 0px"),G=tI(["strokeDasharray"],m,"string"==typeof l?l:t8.animationEasing);return D.createElement(t$,{animationId:u,key:u,canBegin:d>0,duration:m,easing:l,isActive:p,begin:n},a=>{var d,e=e$(z,h,a),k=e$(A,i,a),l=e$(B,f,a),m=e$(C,g,a);c.current&&(q.current=e,r.current=k,s.current=l,t.current=m),d=o?a>0?{transition:G,strokeDasharray:F}:{strokeDasharray:E}:{strokeDasharray:F};var n=rm(b),{radius:p}=n,u=t5(n,t1);return D.createElement("path",t4({},u,{radius:"number"==typeof j?j:void 0,className:v,d:t7(l,m,e,k,j),ref:c,style:t3(t3({},d),b.style)}))})};function ua(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ub(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ua(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ua(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function uc(){return(uc=Object.assign.bind()).apply(null,arguments)}function ud(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var ue=(a,b,c,d,e)=>{var f=c-d;return eQ(p||(p=ud(["M ",",",""])),a,b)+eQ(q||(q=ud(["L ",",",""])),a+c,b)+eQ(r||(r=ud(["L ",",",""])),a+c-f/2,b+e)+eQ(s||(s=ud(["L ",",",""])),a+c-f/2-d,b+e)+eQ(t||(t=ud(["L ",","," Z"])),a,b)},uf={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ug=a=>{var b=rZ(a,uf),{x:c,y:d,upperWidth:e,lowerWidth:f,height:g,className:h}=b,{animationEasing:i,animationDuration:j,animationBegin:k,isUpdateAnimationActive:l}=b,m=(0,D.useRef)(null),[n,o]=(0,D.useState)(-1),p=(0,D.useRef)(e),q=(0,D.useRef)(f),r=(0,D.useRef)(g),s=(0,D.useRef)(c),t=(0,D.useRef)(d),u=t_(a,"trapezoid-");if((0,D.useEffect)(()=>{if(m.current&&m.current.getTotalLength)try{var a=m.current.getTotalLength();a&&o(a)}catch(a){}},[]),c!==+c||d!==+d||e!==+e||f!==+f||g!==+g||0===e&&0===f||0===g)return null;var v=g_("recharts-trapezoid",h);if(!l)return D.createElement("g",null,D.createElement("path",uc({},rm(b),{className:v,d:ue(c,d,e,f,g)})));var w=p.current,x=q.current,y=r.current,z=s.current,A=t.current,B="0px ".concat(-1===n?1:n,"px"),C="".concat(n,"px 0px"),E=tI(["strokeDasharray"],j,i);return D.createElement(t$,{animationId:u,key:u,canBegin:n>0,duration:j,easing:i,isActive:l,begin:k},a=>{var h=e$(w,e,a),i=e$(x,f,a),j=e$(y,g,a),k=e$(z,c,a),l=e$(A,d,a);m.current&&(p.current=h,q.current=i,r.current=j,s.current=k,t.current=l);var n=a>0?{transition:E,strokeDasharray:C}:{strokeDasharray:B};return D.createElement("path",uc({},rm(b),{className:v,d:ue(k,l,h,i,j),ref:m,style:ub(ub({},n),b.style)}))})};function uh(){return(uh=Object.assign.bind()).apply(null,arguments)}function ui(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var uj=a=>{var{cx:b,cy:c,radius:d,angle:e,sign:f,isExternal:g,cornerRadius:h,cornerIsExternal:i}=a,j=h*(g?1:-1)+d,k=Math.asin(h/j)/mx,l=i?e:e+f*k,m=my(b,c,j,l);return{center:m,circleTangency:my(b,c,d,l),lineTangency:my(b,c,j*Math.cos(k*mx),i?e-f*k:e),theta:k}},uk=a=>{var{cx:b,cy:c,innerRadius:d,outerRadius:e,startAngle:f,endAngle:g}=a,h=eR(g-f)*Math.min(Math.abs(g-f),359.999),i=f+h,j=my(b,c,e,f),k=my(b,c,e,i),l=eQ(u||(u=ui(["M ",",","\n    A ",",",",0,\n    ",",",",\n    ",",","\n  "])),j.x,j.y,e,e,+(Math.abs(h)>180),+(f>i),k.x,k.y);if(d>0){var m=my(b,c,d,f),n=my(b,c,d,i);l+=eQ(v||(v=ui(["L ",",","\n            A ",",",",0,\n            ",",",",\n            ",","," Z"])),n.x,n.y,d,d,+(Math.abs(h)>180),+(f<=i),m.x,m.y)}else l+=eQ(w||(w=ui(["L ",","," Z"])),b,c);return l},ul={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},um=a=>{var b,c=rZ(a,ul),{cx:d,cy:e,innerRadius:f,outerRadius:g,cornerRadius:h,forceCornerRadius:i,cornerIsExternal:j,startAngle:k,endAngle:l,className:m}=c;if(g<f||k===l)return null;var n=g_("recharts-sector",m),o=g-f,p=eY(h,o,0,!0);return b=p>0&&360>Math.abs(k-l)?(a=>{var{cx:b,cy:c,innerRadius:d,outerRadius:e,cornerRadius:f,forceCornerRadius:g,cornerIsExternal:h,startAngle:i,endAngle:j}=a,k=eR(j-i),{circleTangency:l,lineTangency:m,theta:n}=uj({cx:b,cy:c,radius:e,angle:i,sign:k,cornerRadius:f,cornerIsExternal:h}),{circleTangency:o,lineTangency:p,theta:q}=uj({cx:b,cy:c,radius:e,angle:j,sign:-k,cornerRadius:f,cornerIsExternal:h}),r=h?Math.abs(i-j):Math.abs(i-j)-n-q;if(r<0)return g?eQ(x||(x=ui(["M ",",","\n        a",",",",0,0,1,",",0\n        a",",",",0,0,1,",",0\n      "])),m.x,m.y,f,f,2*f,f,f,-(2*f)):uk({cx:b,cy:c,innerRadius:d,outerRadius:e,startAngle:i,endAngle:j});var s=eQ(y||(y=ui(["M ",",","\n    A",",",",0,0,",",",",","\n    A",",",",0,",",",",",",","\n    A",",",",0,0,",",",",","\n  "])),m.x,m.y,f,f,+(k<0),l.x,l.y,e,e,+(r>180),+(k<0),o.x,o.y,f,f,+(k<0),p.x,p.y);if(d>0){var{circleTangency:t,lineTangency:u,theta:v}=uj({cx:b,cy:c,radius:d,angle:i,sign:k,isExternal:!0,cornerRadius:f,cornerIsExternal:h}),{circleTangency:w,lineTangency:B,theta:C}=uj({cx:b,cy:c,radius:d,angle:j,sign:-k,isExternal:!0,cornerRadius:f,cornerIsExternal:h}),D=h?Math.abs(i-j):Math.abs(i-j)-v-C;if(D<0&&0===f)return"".concat(s,"L").concat(b,",").concat(c,"Z");s+=eQ(z||(z=ui(["L",",","\n      A",",",",0,0,",",",",","\n      A",",",",0,",",",",",",","\n      A",",",",0,0,",",",",","Z"])),B.x,B.y,f,f,+(k<0),w.x,w.y,d,d,+(D>180),+(k>0),t.x,t.y,f,f,+(k<0),u.x,u.y)}else s+=eQ(A||(A=ui(["L",",","Z"])),b,c);return s})({cx:d,cy:e,innerRadius:f,outerRadius:g,cornerRadius:Math.min(p,o/2),forceCornerRadius:i,cornerIsExternal:j,startAngle:k,endAngle:l}):uk({cx:d,cy:e,innerRadius:f,outerRadius:g,startAngle:k,endAngle:l}),D.createElement("path",uh({},rm(c),{className:n,d:b}))};let un=Math.cos,uo=Math.sin,up=Math.sqrt,uq=Math.PI,ur=2*uq;up(3);let us={draw(a,b){let c=up(b/uq);a.moveTo(c,0),a.arc(0,0,c,0,ur)}},ut=up(1/3),uu=2*ut,uv=uo(uq/10)/uo(7*uq/10),uw=uo(ur/10)*uv,ux=-un(ur/10)*uv,uy=up(3);up(3);let uz=up(3)/2,uA=1/up(12),uB=(uA/2+1)*3;var uC=["type","size","sizeType"];function uD(){return(uD=Object.assign.bind()).apply(null,arguments)}function uE(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function uF(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?uE(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):uE(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var uG={symbolCircle:us,symbolCross:{draw(a,b){let c=up(b/5)/2;a.moveTo(-3*c,-c),a.lineTo(-c,-c),a.lineTo(-c,-3*c),a.lineTo(c,-3*c),a.lineTo(c,-c),a.lineTo(3*c,-c),a.lineTo(3*c,c),a.lineTo(c,c),a.lineTo(c,3*c),a.lineTo(-c,3*c),a.lineTo(-c,c),a.lineTo(-3*c,c),a.closePath()}},symbolDiamond:{draw(a,b){let c=up(b/uu),d=c*ut;a.moveTo(0,-c),a.lineTo(d,0),a.lineTo(0,c),a.lineTo(-d,0),a.closePath()}},symbolSquare:{draw(a,b){let c=up(b),d=-c/2;a.rect(d,d,c,c)}},symbolStar:{draw(a,b){let c=up(.8908130915292852*b),d=uw*c,e=ux*c;a.moveTo(0,-c),a.lineTo(d,e);for(let b=1;b<5;++b){let f=ur*b/5,g=un(f),h=uo(f);a.lineTo(h*c,-g*c),a.lineTo(g*d-h*e,h*d+g*e)}a.closePath()}},symbolTriangle:{draw(a,b){let c=-up(b/(3*uy));a.moveTo(0,2*c),a.lineTo(-uy*c,-c),a.lineTo(uy*c,-c),a.closePath()}},symbolWye:{draw(a,b){let c=up(b/uB),d=c/2,e=c*uA,f=c*uA+c,g=-d;a.moveTo(d,e),a.lineTo(d,f),a.lineTo(g,f),a.lineTo(-.5*d-uz*e,uz*d+-.5*e),a.lineTo(-.5*d-uz*f,uz*d+-.5*f),a.lineTo(-.5*g-uz*f,uz*g+-.5*f),a.lineTo(-.5*d+uz*e,-.5*e-uz*d),a.lineTo(-.5*d+uz*f,-.5*f-uz*d),a.lineTo(-.5*g+uz*f,-.5*f-uz*g),a.closePath()}}},uH=Math.PI/180,uI=a=>{var{type:b="circle",size:c=64,sizeType:d="area"}=a,e=uF(uF({},function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,uC)),{},{type:b,size:c,sizeType:d}),f="circle";"string"==typeof b&&(f=b);var{className:g,cx:h,cy:i}=e,j=rm(e);return eU(h)&&eU(i)&&eU(c)?D.createElement("path",uD({},j,{className:g_("recharts-symbols",g),transform:"translate(".concat(h,", ").concat(i,")"),d:(()=>{var a,b=(a=f,uG["symbol".concat(e_(a))]||us),e=(function(a,b){let c=null,d=sB(e);function e(){let e;if(c||(c=e=d()),a.apply(this,arguments).draw(c,+b.apply(this,arguments)),e)return c=null,e+""||null}return a="function"==typeof a?a:gt(a||us),b="function"==typeof b?b:gt(void 0===b?64:+b),e.type=function(b){return arguments.length?(a="function"==typeof b?b:gt(b),e):a},e.size=function(a){return arguments.length?(b="function"==typeof a?a:gt(+a),e):b},e.context=function(a){return arguments.length?(c=null==a?null:a,e):c},e})().type(b).size(((a,b,c)=>{if("area"===b)return a;switch(c){case"cross":return 5*a*a/9;case"diamond":return .5*a*a/Math.sqrt(3);case"square":return a*a;case"star":var d=18*uH;return 1.25*a*a*(Math.tan(d)-Math.tan(2*d)*Math.tan(d)**2);case"triangle":return Math.sqrt(3)*a*a/4;case"wye":return(21-10*Math.sqrt(3))*a*a/8;default:return Math.PI*a*a/4}})(c,d,f))();if(null!==e)return e})()})):null};uI.registerSymbol=(a,b)=>{uG["symbol".concat(e_(a))]=b};var uJ=["option","shapeType","activeClassName"];function uK(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function uL(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?uK(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):uK(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function uM(a){var{shapeType:b,elementProps:c}=a;switch(b){case"rectangle":return D.createElement(t9,c);case"trapezoid":return D.createElement(ug,c);case"sector":return D.createElement(um,c);case"symbols":if("symbols"===b)return D.createElement(uI,c);break;case"curve":return D.createElement(s3,c);default:return null}}function uN(a){var b,{option:c,shapeType:d,activeClassName:e="recharts-active-shape"}=a,f=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,uJ);if((0,D.isValidElement)(c))b=(0,D.cloneElement)(c,uL(uL({},f),(0,D.isValidElement)(c)?c.props:c));else if("function"==typeof c)b=c(f,f.index);else if((0,tF.default)(c)&&"boolean"!=typeof c){var g=uL(uL({},f),c);b=D.createElement(uM,{shapeType:d,elementProps:g})}else b=D.createElement(uM,{shapeType:d,elementProps:f});return f.isActive?D.createElement(st,{className:e},b):b}function uO(a){var{tooltipEntrySettings:b}=a,c=gl(),d=gY(),e=(0,D.useRef)(null);return(0,D.useLayoutEffect)(()=>{d||(null===e.current?c(fW(b)):e.current!==b&&c(fX({prev:e.current,next:b})),e.current=b)},[b,c,d]),(0,D.useLayoutEffect)(()=>()=>{e.current&&(c(fY(e.current)),e.current=null)},[c]),null}function uP(a){var{legendPayload:b}=a,c=gl(),d=gp(hl),e=(0,D.useRef)(null);return(0,D.useLayoutEffect)(()=>{("centric"===d||"radial"===d)&&(null===e.current?c(qr(b)):e.current!==b&&c(qs({prev:e.current,next:b})),e.current=b)},[c,d,b]),(0,D.useLayoutEffect)(()=>()=>{e.current&&(c(qt(e.current)),e.current=null)},[c]),null}var uQ=null!=(B=D["useId".toString()])?B:()=>{var[a]=D.useState(()=>eX("uid-"));return a},uR=(0,D.createContext)(void 0),uS=a=>{var b,c,{id:d,type:e,children:f}=a,g=(b="recharts-".concat(e),c=uQ(),d||(b?"".concat(b,"-").concat(c):c));return D.createElement(uR.Provider,{value:g},f(g))};function uT(a){var b=gl();return(0,D.useLayoutEffect)(()=>(b(p9(a)),()=>{b(qa(a))}),[b,a]),null}var uU=a.i(78375),uV=a.i(35112);function uW(a){var{zIndex:b,children:c}=a,d=void 0!==gp(hl)&&void 0!==b&&0!==b,e=gY(),f=gl();(0,D.useLayoutEffect)(()=>d?(f(q2({zIndex:b})),()=>{f(q3({zIndex:b}))}):e1,[f,b,d]);var g=gp(a=>rq(a,b,e));return d?g?(0,uV.createPortal)(c,g):null:c}function uX(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function uY(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?uX(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):uX(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var uZ=["labelRef"],u$=["content"];function u_(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function u0(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function u1(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?u0(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):u0(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function u2(){return(u2=Object.assign.bind()).apply(null,arguments)}var u3=(0,D.createContext)(null),u4=(0,D.createContext)(null),u5=a=>null!=a&&"cx"in a&&eU(a.cx),u6={angle:0,offset:5,zIndex:mA.label,position:"middle",textBreakAll:!1};function u7(a){var b,c,d,e,f,g,h,i,j=rZ(a,u6),{viewBox:k,parentViewBox:l,position:m,value:n,children:o,content:p,className:q="",textBreakAll:r,labelRef:s}=j,t=(b=(0,D.useContext)(u4),c=gp(mR),b||c),u=(d=(0,D.useContext)(u3),e=hj(),d||(e?hi(e):void 0)),v=function(a){if(!u5(a))return a;var{cx:b,cy:c,outerRadius:d}=a,e=2*d;return{x:b-d,y:c-d,width:e,upperWidth:e,lowerWidth:e,height:e}}(g=null==k?"center"===m?u:null!=t?t:u:u5(k)?k:hi(k));if(!g||null==n&&null==o&&!(0,D.isValidElement)(p)&&"function"!=typeof p)return null;var w=u1(u1({},j),{},{viewBox:g});if((0,D.isValidElement)(p)){var{labelRef:x}=w,y=u_(w,uZ);return(0,D.cloneElement)(p,y)}if("function"==typeof p){var{content:z}=w,A=u_(w,u$);if(h=(0,D.createElement)(p,A),(0,D.isValidElement)(h))return h}else h=(a=>{var{value:b,formatter:c}=a,d=null==a.children?b:a.children;return"function"==typeof c?c(d):d})(j);var B=rm(j);if(u5(g)){if("insideStart"===m||"insideEnd"===m||"end"===m)return((a,b,c,d,e)=>{var f,g,{offset:h,className:i}=a,{cx:j,cy:k,innerRadius:l,outerRadius:m,startAngle:n,endAngle:o,clockWise:p}=e,q=(l+m)/2,r=eR(o-n)*Math.min(Math.abs(o-n),360),s=r>=0?1:-1;switch(b){case"insideStart":f=n+s*h,g=p;break;case"insideEnd":f=o-s*h,g=!p;break;case"end":f=o+s*h,g=p;break;default:throw Error("Unsupported position ".concat(b))}g=r<=0?g:!g;var t=my(j,k,q,f),u=my(j,k,q,f+(g?1:-1)*359),v="M".concat(t.x,",").concat(t.y,"\n    A").concat(q,",").concat(q,",0,1,").concat(+!g,",\n    ").concat(u.x,",").concat(u.y),w=null==a.id?eX("recharts-radial-line-"):a.id;return D.createElement("text",u2({},d,{dominantBaseline:"central",className:g_("recharts-radial-bar-label",i)}),D.createElement("defs",null,D.createElement("path",{id:w,d:v})),D.createElement("textPath",{xlinkHref:"#".concat(w)},c))})(j,m,h,B,g);i=((a,b,c)=>{var{cx:d,cy:e,innerRadius:f,outerRadius:g,startAngle:h,endAngle:i}=a,j=(h+i)/2;if("outside"===c){var{x:k,y:l}=my(d,e,g+b,j);return{x:k,y:l,textAnchor:k>=d?"start":"end",verticalAnchor:"middle"}}if("center"===c)return{x:d,y:e,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===c)return{x:d,y:e,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===c)return{x:d,y:e,textAnchor:"middle",verticalAnchor:"end"};var{x:m,y:n}=my(d,e,(f+g)/2,j);return{x:m,y:n,textAnchor:"middle",verticalAnchor:"middle"}})(g,j.offset,j.position)}else{if(!v)return null;var C=(a=>{var{viewBox:b,position:c,offset:d=0,parentViewBox:e,clamp:f}=a,{x:g,y:h,height:i,upperWidth:j,lowerWidth:k}=hi(b),l=g+(j-k)/2,m=(g+l)/2,n=(j+k)/2,o=i>=0?1:-1,p=o*d,q=o>0?"end":"start",r=o>0?"start":"end",s=j>=0?1:-1,t=s*d,u=s>0?"end":"start",v=s>0?"start":"end";if("top"===c){var w={x:g+j/2,y:h-p,horizontalAnchor:"middle",verticalAnchor:q};return f&&e&&(w.height=Math.max(h-e.y,0),w.width=j),w}if("bottom"===c){var x={x:l+k/2,y:h+i+p,horizontalAnchor:"middle",verticalAnchor:r};return f&&e&&(x.height=Math.max(e.y+e.height-(h+i),0),x.width=k),x}if("left"===c){var y={x:m-t,y:h+i/2,horizontalAnchor:u,verticalAnchor:"middle"};return f&&e&&(y.width=Math.max(y.x-e.x,0),y.height=i),y}if("right"===c){var z={x:m+n+t,y:h+i/2,horizontalAnchor:v,verticalAnchor:"middle"};return f&&e&&(z.width=Math.max(e.x+e.width-z.x,0),z.height=i),z}var A=f&&e?{width:n,height:i}:{};return"insideLeft"===c?uY({x:m+t,y:h+i/2,horizontalAnchor:v,verticalAnchor:"middle"},A):"insideRight"===c?uY({x:m+n-t,y:h+i/2,horizontalAnchor:u,verticalAnchor:"middle"},A):"insideTop"===c?uY({x:g+j/2,y:h+p,horizontalAnchor:"middle",verticalAnchor:r},A):"insideBottom"===c?uY({x:l+k/2,y:h+i-p,horizontalAnchor:"middle",verticalAnchor:q},A):"insideTopLeft"===c?uY({x:g+t,y:h+p,horizontalAnchor:v,verticalAnchor:r},A):"insideTopRight"===c?uY({x:g+j-t,y:h+p,horizontalAnchor:u,verticalAnchor:r},A):"insideBottomLeft"===c?uY({x:l+t,y:h+i-p,horizontalAnchor:v,verticalAnchor:q},A):"insideBottomRight"===c?uY({x:l+k-t,y:h+i-p,horizontalAnchor:u,verticalAnchor:q},A):c&&"object"==typeof c&&(eU(c.x)||eT(c.x))&&(eU(c.y)||eT(c.y))?uY({x:g+eY(c.x,n),y:h+eY(c.y,i),horizontalAnchor:"end",verticalAnchor:"end"},A):uY({x:g+j/2,y:h+i/2,horizontalAnchor:"middle",verticalAnchor:"middle"},A)})({viewBox:v,position:m,offset:j.offset,parentViewBox:u5(l)?void 0:l,clamp:!0});i=u1(u1({x:C.x,y:C.y,textAnchor:C.horizontalAnchor,verticalAnchor:C.verticalAnchor},void 0!==C.width?{width:C.width}:{}),void 0!==C.height?{height:C.height}:{})}return D.createElement(uW,{zIndex:j.zIndex},D.createElement(tx,u2({ref:s,className:g_("recharts-label",q)},B,i,{textAnchor:"start"===(f=B.textAnchor)||"middle"===f||"end"===f||"inherit"===f?B.textAnchor:i.textAnchor,breakAll:r}),h))}u7.displayName="Label";var u8=["valueAccessor"],u9=["dataKey","clockWise","id","textBreakAll","zIndex"];function va(){return(va=Object.assign.bind()).apply(null,arguments)}function vb(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}var vc=a=>Array.isArray(a.value)?(0,uU.default)(a.value):a.value,vd=(0,D.createContext)(void 0);vd.Provider;var ve=(0,D.createContext)(void 0),vf=ve.Provider;function vg(a){var{valueAccessor:b=vc}=a,c=vb(a,u8),{dataKey:d,clockWise:e,id:f,textBreakAll:g,zIndex:h}=c,i=vb(c,u9),j=(0,D.useContext)(vd),k=(0,D.useContext)(ve),l=j||k;return l&&l.length?D.createElement(uW,{zIndex:null!=h?h:mA.label},D.createElement(st,{className:"recharts-label-list"},l.map((a,e)=>{var h,j=null==d?b(a,e):gD(a.payload,d),k=null==f?{}:{id:"".concat(f,"-").concat(e)};return D.createElement(u7,va({key:"label-".concat(e)},rm(a),i,k,{fill:null!=(h=c.fill)?h:a.fill,parentViewBox:a.parentViewBox,value:j,textBreakAll:g,viewBox:a.viewBox,index:e,zIndex:0}))}))):null}function vh(a){var{label:b}=a;return b?!0===b?D.createElement(vg,{key:"labelList-implicit"}):D.isValidElement(b)||null!=b&&"function"==typeof b?D.createElement(vg,{key:"labelList-implicit",content:b}):"object"==typeof b?D.createElement(vg,va({key:"labelList-implicit"},b,{type:String(b.type)})):null:null}vg.displayName="LabelList";var vi=["key"],vj=["onMouseEnter","onClick","onMouseLeave"],vk=["id"],vl=["id"];function vm(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function vn(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?vm(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):vm(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function vo(){return(vo=Object.assign.bind()).apply(null,arguments)}function vp(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function vq(a){var b=(0,D.useMemo)(()=>tE(a.children,ty),[a.children]),c=gp(c=>sp(c,a.id,b));return null==c?null:D.createElement(uP,{legendPayload:c})}var vr=D.memo(a=>{var{dataKey:b,nameKey:c,sectors:d,stroke:e,strokeWidth:f,fill:g,name:h,hide:i,tooltipType:j,id:k}=a,l={dataDefinedOnItem:d.map(a=>a.tooltipPayload),getPosition:a=>{var b;return null==(b=d[Number(a)])?void 0:b.tooltipPosition},settings:{stroke:e,strokeWidth:f,fill:g,dataKey:b,nameKey:c,name:gK(h,b),hide:i,type:j,color:g,unit:"",graphicalItemId:k}};return D.createElement(uO,{tooltipEntrySettings:l})});function vs(a){var{sectors:b,props:c,showLabels:d}=a,{label:e,labelLine:f,dataKey:g}=c;if(!d||!e||!b)return null;var h=rk(c),i=rl(e),j=rl(f),k="object"==typeof e&&"offsetRadius"in e&&"number"==typeof e.offsetRadius&&e.offsetRadius||20,l=b.map((a,b)=>{var c,d,l=(a.startAngle+a.endAngle)/2,m=my(a.cx,a.cy,a.outerRadius+k,l),n=vn(vn(vn(vn({},h),a),{},{stroke:"none"},i),{},{index:b,textAnchor:(c=m.x)>(d=a.cx)?"start":c<d?"end":"middle"},m),o=vn(vn(vn(vn({},h),a),{},{fill:"none",stroke:a.fill},j),{},{index:b,points:[my(a.cx,a.cy,a.outerRadius,l),m],key:"line"});return D.createElement(uW,{zIndex:mA.label,key:"label-".concat(a.startAngle,"-").concat(a.endAngle,"-").concat(a.midAngle,"-").concat(b)},D.createElement(st,null,f&&((a,b)=>{if(D.isValidElement(a))return D.cloneElement(a,b);if("function"==typeof a)return a(b);var c=g_("recharts-pie-label-line","boolean"!=typeof a?a.className:""),{key:d}=b,e=vp(b,vi);return D.createElement(s3,vo({},e,{type:"linear",className:c}))})(f,o),((a,b,c)=>{if(D.isValidElement(a))return D.cloneElement(a,b);var d=c;if("function"==typeof a&&(d=a(b),D.isValidElement(d)))return d;var e=g_("recharts-pie-label-text",a&&"object"==typeof a&&"className"in a&&"string"==typeof a.className?a.className:"");return D.createElement(tx,vo({},b,{alignmentBaseline:"middle",className:e}),d)})(e,n,gD(a,g))))});return D.createElement(st,{className:"recharts-pie-labels"},l)}function vt(a){var{sectors:b,props:c,showLabels:d}=a,{label:e}=c;return"object"==typeof e&&null!=e&&"position"in e?D.createElement(vh,{label:e}):D.createElement(vs,{sectors:b,props:c,showLabels:d})}function vu(a){var b,c,d,e,f,{sectors:g,activeShape:h,inactiveShape:i,allOtherPieProps:j,shape:k,id:l}=a,m=gp(pn),n=gp(pp),o=gp(pq),{onMouseEnter:p,onClick:q,onMouseLeave:r}=j,s=vp(j,vj),t=(b=j.dataKey,c=gl(),(a,d)=>e=>{null==p||p(a,d,e),c(f$({activeIndex:String(d),activeDataKey:b,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:l}))}),u=(d=gl(),(a,b)=>c=>{null==r||r(a,b,c),d(f_())}),v=(e=j.dataKey,f=gl(),(a,b)=>c=>{null==q||q(a,b,c),f(f1({activeIndex:String(b),activeDataKey:e,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:l}))});return null==g||0===g.length?null:D.createElement(D.Fragment,null,g.map((a,b)=>{if((null==a?void 0:a.startAngle)===0&&(null==a?void 0:a.endAngle)===0&&1!==g.length)return null;var c=null==o||o===l,d=String(b)===m&&(null==n||j.dataKey===n)&&c,e=h&&d?h:m?i:null,f=vn(vn({},a),{},{stroke:a.stroke,tabIndex:-1,[gR]:b,[gS]:l});return D.createElement(st,vo({key:"sector-".concat(null==a?void 0:a.startAngle,"-").concat(null==a?void 0:a.endAngle,"-").concat(a.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},((a,b,c)=>{if(null===a||"object"!=typeof a&&"function"!=typeof a)return null;var d=null;return Object.keys(a).forEach(e=>{var f=a[e];rg(e)&&"function"==typeof f&&(d||(d={}),d[e]=a=>(f(b,c,a),null))}),d})(s,a,b),{onMouseEnter:t(a,b),onMouseLeave:u(a,b),onClick:v(a,b)}),D.createElement(uN,vo({option:null!=k?k:e,index:b,shapeType:"sector",isActive:d},f)))}))}function vv(a){var{showLabels:b,sectors:c,children:d}=a,e=(0,D.useMemo)(()=>b&&c?c.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})):[],[c,b]);return D.createElement(vf,{value:b?e:void 0},d)}function vw(a){var{props:b,previousSectorsRef:c,id:d}=a,{sectors:e,isAnimationActive:f,animationBegin:g,animationDuration:h,animationEasing:i,activeShape:j,inactiveShape:k,onAnimationStart:l,onAnimationEnd:m}=b,n=t_(b,"recharts-pie-"),o=c.current,[p,q]=(0,D.useState)(!1),r=(0,D.useCallback)(()=>{"function"==typeof m&&m(),q(!1)},[m]),s=(0,D.useCallback)(()=>{"function"==typeof l&&l(),q(!0)},[l]);return D.createElement(vv,{showLabels:!p,sectors:e},D.createElement(t$,{animationId:n,begin:g,duration:h,isActive:f,easing:i,onAnimationStart:s,onAnimationEnd:r,key:n},a=>{var f,g=[],h=e&&e[0],i=null!=(f=null==h?void 0:h.startAngle)?f:0;return null==e||e.forEach((b,c)=>{var d=o&&o[c],e=c>0?(0,eO.default)(b,"paddingAngle",0):0;if(d){var f=e$(d.endAngle-d.startAngle,b.endAngle-b.startAngle,a),h=vn(vn({},b),{},{startAngle:i+e,endAngle:i+f+e});g.push(h),i=h.endAngle}else{var{endAngle:j,startAngle:k}=b,l=e$(0,j-k,a),m=vn(vn({},b),{},{startAngle:i+e,endAngle:i+l+e});g.push(m),i=m.endAngle}}),c.current=g,D.createElement(st,null,D.createElement(vu,{sectors:g,activeShape:j,inactiveShape:k,allOtherPieProps:b,shape:b.shape,id:d}))}),D.createElement(vt,{showLabels:!p,sectors:e,props:b}),b.children)}var vx={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:mA.area};function vy(a){var{id:b}=a,c=vp(a,vk),{hide:d,className:e,rootTabIndex:f}=a,g=(0,D.useMemo)(()=>tE(a.children,ty),[a.children]),h=gp(a=>sq(a,b,g)),i=(0,D.useRef)(null),j=g_("recharts-pie",e);return d||null==h?(i.current=null,D.createElement(st,{tabIndex:f,className:j})):D.createElement(uW,{zIndex:a.zIndex},D.createElement(vr,{dataKey:a.dataKey,nameKey:a.nameKey,sectors:h,stroke:a.stroke,strokeWidth:a.strokeWidth,fill:a.fill,name:a.name,hide:a.hide,tooltipType:a.tooltipType,id:b}),D.createElement(st,{tabIndex:f,className:j},D.createElement(vw,{props:vn(vn({},c),{},{sectors:h}),previousSectorsRef:i,id:b})))}function vz(a){var b=rZ(a,vx),{id:c}=b,d=vp(b,vl),e=rk(d);return D.createElement(uS,{id:c,type:"pie"},a=>D.createElement(D.Fragment,null,D.createElement(uT,{type:"pie",id:a,data:d.data,dataKey:d.dataKey,hide:d.hide,angleAxisId:0,radiusAxisId:0,name:d.name,nameKey:d.nameKey,tooltipType:d.tooltipType,legendType:d.legendType,fill:d.fill,cx:d.cx,cy:d.cy,startAngle:d.startAngle,endAngle:d.endAngle,paddingAngle:d.paddingAngle,minAngle:d.minAngle,innerRadius:d.innerRadius,outerRadius:d.outerRadius,cornerRadius:d.cornerRadius,presentationProps:e,maxRadius:b.maxRadius}),D.createElement(vq,vo({},d,{id:a})),D.createElement(vy,vo({},d,{id:a}))))}function vA(){return(vA=Object.assign.bind()).apply(null,arguments)}function vB(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function vC(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?vB(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):vB(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function vD(a){return Array.isArray(a)&&eV(a[0])&&eV(a[1])?a.join(" ~ "):a}vz.displayName="Pie";var vE={margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},vF={display:"block",paddingTop:4,paddingBottom:4,color:"#000"},vG={},vH=a=>{var{separator:b=" : ",contentStyle:c,itemStyle:d,labelStyle:e=vG,payload:f,formatter:g,itemSorter:h,wrapperClassName:i,labelClassName:j,label:k,labelFormatter:l,accessibilityLayer:m=!1}=a,n=vC(vC({},vE),c),o=vC({margin:0},e),p=null!=k,q=p?k:"",r=g_("recharts-default-tooltip",i),s=g_("recharts-tooltip-label",j);return p&&l&&null!=f&&(q=l(k,f)),D.createElement("div",vA({className:r,style:n},m?{role:"status","aria-live":"assertive"}:{}),D.createElement("p",{className:s,style:o},D.isValidElement(q)?q:"".concat(q)),(()=>{if(f&&f.length){var a=(h?(0,gq.default)(f,h):f).map((a,c)=>{if("none"===a.type)return null;var e=a.formatter||g||vD,{value:h,name:i}=a,j=h,k=i,l=e(h,i,a,c,f);if(Array.isArray(l))[j,k]=l;else{if(null==l)return null;j=l}var m=vC(vC({},vF),{},{color:a.color||vF.color},d);return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(c),style:m},eV(k)?D.createElement("span",{className:"recharts-tooltip-item-name"},k):null,eV(k)?D.createElement("span",{className:"recharts-tooltip-item-separator"},b):null,D.createElement("span",{className:"recharts-tooltip-item-value"},j),D.createElement("span",{className:"recharts-tooltip-item-unit"},a.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},a)}return null})())},vI=D,vJ="recharts-tooltip-wrapper",vK={visibility:"hidden"};function vL(a){var{allowEscapeViewBox:b,coordinate:c,key:d,offset:e,position:f,reverseDirection:g,tooltipDimension:h,viewBox:i,viewBoxDimension:j}=a;if(f&&eU(f[d]))return f[d];var k=c[d]-h-(e>0?e:0),l=c[d]+e;if(b[d])return g[d]?k:l;var m=i[d];return null==m?0:g[d]?k<m?Math.max(l,m):Math.max(k,m):null==j?0:l+h>m+j?Math.max(k,m):Math.max(l,m)}function vM(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function vN(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?vM(Object(c),!0).forEach(function(b){vO(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):vM(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function vO(a,b,c){var d;return(b="symbol"==typeof(d=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"))?d:d+"")in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}class vP extends vI.PureComponent{constructor(){super(...arguments),vO(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),vO(this,"handleKeyDown",a=>{if("Escape"===a.key){var b,c,d,e;this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!=(b=null==(c=this.props.coordinate)?void 0:c.x)?b:0,y:null!=(d=null==(e=this.props.coordinate)?void 0:e.y)?d:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var a,b;this.state.dismissed&&((null==(a=this.props.coordinate)?void 0:a.x)!==this.state.dismissedAtCoordinate.x||(null==(b=this.props.coordinate)?void 0:b.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:a,allowEscapeViewBox:b,animationDuration:c,animationEasing:d,children:e,coordinate:f,hasPayload:g,isAnimationActive:h,offset:i,position:j,reverseDirection:k,useTranslate3d:l,viewBox:m,wrapperStyle:n,lastBoundingBox:o,innerRef:p,hasPortalFromProps:q}=this.props,{cssClasses:r,cssProperties:s}=function(a){var b,c,d,{allowEscapeViewBox:e,coordinate:f,offsetTop:g,offsetLeft:h,position:i,reverseDirection:j,tooltipBox:k,useTranslate3d:l,viewBox:m}=a;return{cssProperties:b=k.height>0&&k.width>0&&f?function(a){var{translateX:b,translateY:c,useTranslate3d:d}=a;return{transform:d?"translate3d(".concat(b,"px, ").concat(c,"px, 0)"):"translate(".concat(b,"px, ").concat(c,"px)")}}({translateX:c=vL({allowEscapeViewBox:e,coordinate:f,key:"x",offset:h,position:i,reverseDirection:j,tooltipDimension:k.width,viewBox:m,viewBoxDimension:m.width}),translateY:d=vL({allowEscapeViewBox:e,coordinate:f,key:"y",offset:g,position:i,reverseDirection:j,tooltipDimension:k.height,viewBox:m,viewBoxDimension:m.height}),useTranslate3d:l}):vK,cssClasses:function(a){var{coordinate:b,translateX:c,translateY:d}=a;return g_(vJ,{["".concat(vJ,"-right")]:eU(c)&&b&&eU(b.x)&&c>=b.x,["".concat(vJ,"-left")]:eU(c)&&b&&eU(b.x)&&c<b.x,["".concat(vJ,"-bottom")]:eU(d)&&b&&eU(b.y)&&d>=b.y,["".concat(vJ,"-top")]:eU(d)&&b&&eU(b.y)&&d<b.y})}({translateX:c,translateY:d,coordinate:f})}}({allowEscapeViewBox:b,coordinate:f,offsetLeft:"number"==typeof i?i:i.x,offsetTop:"number"==typeof i?i:i.y,position:j,reverseDirection:k,tooltipBox:{height:o.height,width:o.width},useTranslate3d:l,viewBox:m}),t=q?{}:vN(vN({transition:h&&a?"transform ".concat(c,"ms ").concat(d):void 0},s),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&g?"visible":"hidden",position:"absolute",top:0,left:0}),u=vN(vN({},t),{},{visibility:!this.state.dismissed&&a&&g?"visible":"hidden"},n);return vI.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:r,style:u,ref:p},e)}}var vQ=a.i(53451),vR=["x","y","top","left","width","height","className"];function vS(){return(vS=Object.assign.bind()).apply(null,arguments)}function vT(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}var vU=a=>{var{x:b=0,y:c=0,top:d=0,left:e=0,width:f=0,height:g=0,className:h}=a,i=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?vT(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):vT(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({x:b,y:c,top:d,left:e,width:f,height:g},function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,vR));return eU(b)&&eU(c)&&eU(f)&&eU(g)&&eU(d)&&eU(e)?D.createElement("path",vS({},rm(i),{className:g_("recharts-cross",h),d:"M".concat(b,",").concat(d,"v").concat(g,"M").concat(e,",").concat(c,"h").concat(f)})):null};function vV(a){var{cx:b,cy:c,radius:d,startAngle:e,endAngle:f}=a;return{points:[my(b,c,d,e),my(b,c,d,f)],cx:b,cy:c,radius:d,startAngle:e,endAngle:f}}function vW(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function vX(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?vW(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):vW(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function vY(){return(vY=Object.assign.bind()).apply(null,arguments)}function vZ(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function v$(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?vZ(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):vZ(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function v_(a){var{cursor:b,cursorComp:c,cursorProps:d}=a;return(0,D.isValidElement)(b)?(0,D.cloneElement)(b,d):(0,D.createElement)(c,d)}function v0(a){var b,c,d,e,f,{coordinate:g,payload:h,index:i,offset:j,tooltipAxisBandSize:k,layout:l,cursor:m,tooltipEventType:n,chartName:o}=a;if(!m||!g||"ScatterChart"!==o&&"axis"!==n)return null;if("ScatterChart"===o)d=g,e=vU,f=mA.cursorLine;else if("BarChart"===o)b=k/2,d={stroke:"none",fill:"#ccc",x:"horizontal"===l?g.x-b:j.left+.5,y:"horizontal"===l?j.top+.5:g.y-b,width:"horizontal"===l?k:j.width-1,height:"horizontal"===l?j.height-1:k},e=t9,f=mA.cursorRectangle;else if("radial"===l&&sW(g)){var{cx:p,cy:q,radius:r,startAngle:s,endAngle:t}=vV(g);d={cx:p,cy:q,startAngle:s,endAngle:t,innerRadius:r,outerRadius:r},e=um,f=mA.cursorLine}else d={points:function(a,b,c){if("horizontal"===a)return[{x:b.x,y:c.top},{x:b.x,y:c.top+c.height}];if("vertical"===a)return[{x:c.left,y:b.y},{x:c.left+c.width,y:b.y}];if(sW(b)){if("centric"===a){var{cx:d,cy:e,innerRadius:f,outerRadius:g,angle:h}=b,i=my(d,e,f,h),j=my(d,e,g,h);return[{x:i.x,y:i.y},{x:j.x,y:j.y}]}return vV(b)}}(l,g,j)},e=s3,f=mA.cursorLine;var u="object"==typeof m&&"className"in m?m.className:void 0,v=v$(v$(v$(v$({stroke:"#ccc",pointerEvents:"none"},j),d),rl(m)),{},{payload:h,payloadIndex:i,className:g_("recharts-tooltip-cursor",u)});return D.createElement(uW,{zIndex:null!=(c=a.zIndex)?c:f},D.createElement(v_,{cursor:m,cursorComp:e,cursorProps:v}))}function v1(a){var b,c,d,e,f=(b=gp(nv),c=gp(pi),d=gp(pf),b&&d?gI(vX(vX({},b),{},{scale:d}),c):gI(void 0,c)),g=null!=(e=gp(gV))?e:hk,h=gp(hl),i=gp(mr);return null==f||null==g||null==h||null==i?null:D.createElement(v0,vY({},a,{offset:g,layout:h,tooltipAxisBandSize:f,chartName:i}))}function v2(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function v3(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?v2(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):v2(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function v4(a){return a.dataKey}var v5=[],v6={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function v7(a){var b,c,d,e,f,g,h,i,j,k,l,m=rZ(a,v6),{active:n,allowEscapeViewBox:o,animationDuration:p,animationEasing:q,content:r,filterNull:s,isAnimationActive:t,offset:u,payloadUniqBy:v,position:w,reverseDirection:x,useTranslate3d:y,wrapperStyle:z,cursor:A,shared:B,trigger:C,defaultIndex:E,portal:F,axisId:G}=m,H=gl(),I="number"==typeof E?String(E):E;(0,D.useEffect)(()=>{H(fZ({shared:B,trigger:C,axisId:G,active:n,defaultIndex:I}))},[H,B,C,G,n,I]);var J=hj(),K=re(),L=gp(a=>oA(a,B)),{activeIndex:M,isActive:N}=null!=(k=gp(a=>pK(a,L,C,I)))?k:{},O=gp(a=>pJ(a,L,C,I)),P=gp(a=>pI(a,L,C,I)),Q=gp(a=>pH(a,L,C,I)),R=(0,D.useContext)(rH),S=null!=(l=null!=n?n:N)&&l,[T,U]=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[b,c]=(0,D.useState)({height:0,left:0,top:0,width:0}),d=(0,D.useCallback)(a=>{if(null!=a){var d=a.getBoundingClientRect(),e={height:d.height,left:d.left,top:d.top,width:d.width};(Math.abs(e.height-b.height)>1||Math.abs(e.left-b.left)>1||Math.abs(e.top-b.top)>1||Math.abs(e.width-b.width)>1)&&c({height:e.height,left:e.left,top:e.top,width:e.width})}},[b.width,b.height,b.top,b.left,...a]);return[b,d]}([O,S]),V="axis"===L?P:void 0;b=gp(a=>((a,b,c)=>{if(null!=b){var d=oJ(a);return"axis"===b?"hover"===c?d.axisInteraction.hover.dataKey:d.axisInteraction.click.dataKey:"hover"===c?d.itemInteraction.hover.dataKey:d.itemInteraction.click.dataKey}})(a,L,C)),c=gp(mu),d=gp(ms),e=gp(mt),g=null==(f=gp(rD))?void 0:f.active,h=hj(),(0,D.useEffect)(()=>{if(!g&&null!=d&&null!=c){var a=f4({active:S,coordinate:Q,dataKey:b,index:M,label:"number"==typeof V?String(V):V,sourceViewBox:h,graphicalItemId:void 0});rA.emit(rB,d,a,c)}},[g,Q,b,M,V,c,d,e,S,h]);var W=null!=F?F:R;if(null==W||null==J||null==L)return null;var X=null!=O?O:v5;S||(X=v5),s&&X.length&&(i=X.filter(a=>null!=a.value&&(!0!==a.hide||m.includeHidden)),X=!0===v?(0,vQ.default)(i,v4):"function"==typeof v?(0,vQ.default)(i,v):i);var Y=X.length>0,Z=D.createElement(vP,{allowEscapeViewBox:o,animationDuration:p,animationEasing:q,isAnimationActive:t,active:S,coordinate:Q,hasPayload:Y,offset:u,position:w,reverseDirection:x,useTranslate3d:y,viewBox:J,wrapperStyle:z,lastBoundingBox:T,innerRef:U,hasPortalFromProps:!!F},(j=v3(v3({},m),{},{payload:X,label:V,active:S,activeIndex:M,coordinate:Q,accessibilityLayer:K}),D.isValidElement(r)?D.cloneElement(r,j):"function"==typeof r?D.createElement(r,j):D.createElement(vH,j)));return D.createElement(D.Fragment,null,(0,uV.createPortal)(Z,W),S&&D.createElement(v1,{cursor:A,tooltipEventType:L,coordinate:Q,payload:X,index:M}))}let v8=["#6366f1","#8b5cf6","#ec4899","#f43f5e","#f59e0b","#10b981","#06b6d4"],v9=["January","February","March","April","May","June","July","August","September","October","November","December"],wa=[2024,2025,2026];function wb(){let[a,b]=(0,D.useState)([]),[c,d]=(0,D.useState)(!0),[e,f]=(0,D.useState)(null),[g,h]=(0,D.useState)(""),[i,j]=(0,D.useState)(new Date().getMonth()),[k,l]=(0,D.useState)(new Date().getFullYear()),[m,n]=(0,D.useState)({description:"",amount:"",category:"Food",type:"expense"}),o=(0,D.useCallback)(async()=>{d(!0);let{data:a,error:c}=await cl.from("transactions").select("*").order("created_at",{ascending:!1});c?console.error("Error fetching:",c):b(a||[]),d(!1)},[]);(0,D.useEffect)(()=>{o()},[o]);let p=(0,D.useMemo)(()=>a.filter(a=>{let b=new Date(a.created_at),c="All"===i||b.getMonth()===Number(i),d="All"===k||b.getFullYear()===Number(k),e=a.description.toLowerCase().includes(g.toLowerCase());return c&&d&&e}),[a,i,k,g]),{income:q,expenses:r,balance:s}=(0,D.useMemo)(()=>{let a=p.filter(a=>"income"===a.type).reduce((a,b)=>a+Number(b.amount),0),b=p.filter(a=>"expense"===a.type).reduce((a,b)=>a+Number(b.amount),0);return{income:a,expenses:b,balance:a-b}},[p]),t=(0,D.useMemo)(()=>{let a=p.filter(a=>"expense"===a.type).reduce((a,b)=>(a[b.category]=(a[b.category]||0)+Number(b.amount),a),{});return Object.keys(a).map(b=>({name:b,value:a[b],percentage:r>0?a[b]/r*100:0})).sort((a,b)=>b.value-a.value)},[p,r]),u=async a=>{a.preventDefault();let b={...m,amount:parseFloat(m.amount)};if(e){let{error:a}=await cl.from("transactions").update(b).eq("id",e);a?alert(a.message):(f(null),v(),o())}else{let{error:a}=await cl.from("transactions").insert([b]);a?alert(a.message):(v(),o())}},v=()=>{n({description:"",amount:"",category:"Food",type:"expense"}),f(null)},w=a=>{f(a.id),n({description:a.description,amount:a.amount,category:a.category,type:a.type}),window.scrollTo({top:0,behavior:"smooth"})},x=async a=>{if(!confirm("Are you sure you want to delete this transaction?"))return;let{error:b}=await cl.from("transactions").delete().eq("id",a);b?alert(b.message):o()};return(0,C.jsx)("div",{className:"min-h-screen bg-slate-50 p-4 md:p-8 text-slate-900 font-sans",children:(0,C.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,C.jsxs)("header",{className:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-6",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-slate-900",children:"Finance Pro"}),(0,C.jsx)("p",{className:"text-slate-500",children:"Intelligent money management for your goals."})]}),(0,C.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,C.jsxs)("div",{className:"relative",children:[(0,C.jsx)(cF,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),(0,C.jsxs)("select",{className:"pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 appearance-none text-sm font-medium",value:i,onChange:a=>j(a.target.value),children:[(0,C.jsx)("option",{value:"All",children:"All Months"}),v9.map((a,b)=>(0,C.jsx)("option",{value:b,children:a},a))]})]}),(0,C.jsx)("div",{className:"relative",children:(0,C.jsxs)("select",{className:"px-4 py-2 bg-white border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 appearance-none text-sm font-medium",value:k,onChange:a=>l(a.target.value),children:[(0,C.jsx)("option",{value:"All",children:"All Years"}),wa.map(a=>(0,C.jsx)("option",{value:a,children:a},a))]})})]})]}),(0,C.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:[(0,C.jsx)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:(0,C.jsxs)("div",{className:"flex items-center gap-4",children:[(0,C.jsx)("div",{className:"p-3 bg-indigo-50 rounded-xl text-indigo-600",children:(0,C.jsx)(cr,{size:24})}),(0,C.jsxs)("div",{children:[(0,C.jsx)("p",{className:"text-sm font-medium text-slate-500",children:"Total Balance"}),(0,C.jsxs)("p",{className:`text-2xl font-bold ${s<0?"text-rose-600":"text-slate-900"}`,children:["$",s.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})}),(0,C.jsx)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:(0,C.jsxs)("div",{className:"flex items-center gap-4",children:[(0,C.jsx)("div",{className:"p-3 bg-emerald-50 rounded-xl text-emerald-600",children:(0,C.jsx)(cs,{size:24})}),(0,C.jsxs)("div",{children:[(0,C.jsx)("p",{className:"text-sm font-medium text-slate-500",children:"Income"}),(0,C.jsxs)("p",{className:"text-2xl font-bold text-emerald-600",children:["+$",q.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})}),(0,C.jsx)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:(0,C.jsxs)("div",{className:"flex items-center gap-4",children:[(0,C.jsx)("div",{className:"p-3 bg-rose-50 rounded-xl text-rose-600",children:(0,C.jsx)(ct,{size:24})}),(0,C.jsxs)("div",{children:[(0,C.jsx)("p",{className:"text-sm font-medium text-slate-500",children:"Expenses"}),(0,C.jsxs)("p",{className:"text-2xl font-bold text-rose-600",children:["-$",r.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})})]}),(0,C.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,C.jsxs)("div",{className:"lg:col-span-4 space-y-8",children:[(0,C.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[(0,C.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,C.jsxs)("h2",{className:"text-lg font-bold flex items-center gap-2 text-slate-800",children:[e?(0,C.jsx)(cE,{size:20,className:"text-indigo-600"}):(0,C.jsx)(cu,{size:20,className:"text-indigo-600"}),e?"Update Transaction":"Add Transaction"]}),e&&(0,C.jsx)("button",{onClick:v,className:"text-slate-400 hover:text-slate-600",children:(0,C.jsx)(cG,{size:20})})]}),(0,C.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"text-xs font-semibold uppercase text-slate-400",children:"Description"}),(0,C.jsx)("input",{required:!0,type:"text",className:"w-full mt-1 p-2 bg-slate-50 border border-slate-200 rounded-lg outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g. Monthly Rent",value:m.description,onChange:a=>n({...m,description:a.target.value})})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"text-xs font-semibold uppercase text-slate-400",children:"Amount ($)"}),(0,C.jsx)("input",{required:!0,type:"number",step:"0.01",className:"w-full mt-1 p-2 bg-slate-50 border border-slate-200 rounded-lg outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"0.00",value:m.amount,onChange:a=>n({...m,amount:a.target.value})})]}),(0,C.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"text-xs font-semibold uppercase text-slate-400",children:"Type"}),(0,C.jsxs)("select",{className:"w-full mt-1 p-2 bg-slate-50 border border-slate-200 rounded-lg",value:m.type,onChange:a=>n({...m,type:a.target.value}),children:[(0,C.jsx)("option",{value:"expense",children:"Expense"}),(0,C.jsx)("option",{value:"income",children:"Income"})]})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"text-xs font-semibold uppercase text-slate-400",children:"Category"}),(0,C.jsxs)("select",{className:"w-full mt-1 p-2 bg-slate-50 border border-slate-200 rounded-lg",value:m.category,onChange:a=>n({...m,category:a.target.value}),children:[(0,C.jsx)("option",{value:"Food",children:"Food"}),(0,C.jsx)("option",{value:"Rent",children:"Rent"}),(0,C.jsx)("option",{value:"Transport",children:"Transport"}),(0,C.jsx)("option",{value:"Salary",children:"Salary"}),(0,C.jsx)("option",{value:"Other",children:"Other"})]})]})]}),(0,C.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-xl font-bold hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 flex items-center justify-center gap-2",children:e?"Update Record":"Save Transaction"})]})]}),(0,C.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[(0,C.jsx)("h2",{className:"text-lg font-bold mb-6 text-slate-800",children:"Spending by Category"}),t.length>0?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"h-64 mb-6",children:(0,C.jsx)(hh,{width:"100%",height:"100%",children:(0,C.jsxs)(r6,{children:[(0,C.jsx)(vz,{data:t,innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:t.map((a,b)=>(0,C.jsx)(ty,{fill:v8[b%v8.length]},`cell-${b}`))}),(0,C.jsx)(v7,{formatter:a=>[`$${a.toFixed(2)}`,"Amount"],contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}})]})})}),(0,C.jsx)("div",{className:"space-y-4",children:t.map((a,b)=>(0,C.jsxs)("div",{children:[(0,C.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,C.jsx)("span",{className:"font-medium text-slate-700",children:a.name}),(0,C.jsxs)("span",{className:"text-slate-500",children:["$",a.value.toFixed(0)," (",a.percentage.toFixed(1),"%)"]})]}),(0,C.jsx)("div",{className:"w-full bg-slate-100 h-2 rounded-full overflow-hidden",children:(0,C.jsx)("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${a.percentage}%`,backgroundColor:v8[b%v8.length]}})})]},a.name))})]}):(0,C.jsx)("div",{className:"py-10 text-center text-slate-400",children:"No expense data to display for this period."})]})]}),(0,C.jsx)("div",{className:"lg:col-span-8",children:(0,C.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,C.jsxs)("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,C.jsx)("h2",{className:"text-lg font-bold text-slate-800",children:"Transaction History"}),(0,C.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,C.jsx)(cx,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),(0,C.jsx)("input",{type:"text",placeholder:"Search transactions...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 text-sm",value:g,onChange:a=>h(a.target.value)})]})]}),(0,C.jsx)("div",{className:"divide-y divide-slate-100",children:c?(0,C.jsxs)("div",{className:"p-20 flex flex-col items-center justify-center text-slate-400",children:[(0,C.jsx)(cv,{className:"animate-spin mb-4",size:32}),(0,C.jsx)("p",{children:"Loading transactions..."})]}):0===p.length?(0,C.jsxs)("div",{className:"p-20 text-center flex flex-col items-center justify-center text-slate-400",children:[(0,C.jsx)(cy,{size:48,className:"mb-4 opacity-20"}),(0,C.jsx)("p",{className:"text-lg font-medium",children:"No results found"}),(0,C.jsx)("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):p.map(a=>(0,C.jsxs)("div",{className:`p-4 flex items-center justify-between hover:bg-slate-50 transition-all cursor-pointer group ${e===a.id?"bg-indigo-50/50 ring-1 ring-inset ring-indigo-200":""}`,onClick:()=>w(a),children:[(0,C.jsxs)("div",{className:"flex items-center gap-4",children:[(0,C.jsx)("div",{className:`p-3 rounded-2xl flex items-center justify-center ${"income"===a.type?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:(a=>{switch(a){case"Food":return(0,C.jsx)(cz,{size:18});case"Transport":return(0,C.jsx)(cA,{size:18});case"Rent":return(0,C.jsx)(cB,{size:18});case"Salary":return(0,C.jsx)(cC,{size:18});default:return(0,C.jsx)(cD,{size:18})}})(a.category)}),(0,C.jsxs)("div",{children:[(0,C.jsx)("p",{className:"font-bold text-slate-800",children:a.description}),(0,C.jsxs)("div",{className:"flex items-center gap-2 text-xs text-slate-500 font-medium",children:[(0,C.jsx)("span",{className:"bg-slate-100 px-2 py-0.5 rounded-md uppercase tracking-wider",children:a.category}),(0,C.jsx)("span",{children:""}),(0,C.jsx)("span",{children:new Date(a.created_at).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})})]})]})]}),(0,C.jsxs)("div",{className:"flex items-center gap-4",children:[(0,C.jsx)("div",{className:"text-right",children:(0,C.jsxs)("p",{className:`font-black text-lg ${"income"===a.type?"text-emerald-600":"text-slate-900"}`,children:["income"===a.type?"+":"-","$",Number(a.amount).toLocaleString(void 0,{minimumFractionDigits:2})]})}),(0,C.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,C.jsx)("button",{onClick:b=>{b.stopPropagation(),w(a)},className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:(0,C.jsx)(cE,{size:16})}),(0,C.jsx)("button",{onClick:b=>{b.stopPropagation(),x(a.id)},className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-colors",children:(0,C.jsx)(cw,{size:16})})]})]})]},a.id))}),(0,C.jsxs)("div",{className:"p-4 bg-slate-50 border-t border-slate-100 flex justify-between items-center text-xs text-slate-400 font-medium",children:[(0,C.jsxs)("span",{children:["Showing ",p.length," of ",a.length," items"]}),(0,C.jsx)("span",{children:"Sorted by Newest"})]})]})})]})]})})}a.s(["default",()=>wb],85690)}];

//# sourceMappingURL=_88705bc4._.js.map